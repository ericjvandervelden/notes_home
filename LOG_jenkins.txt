/ Lees	,
https://jenkins.io/doc/pipeline/tour/getting-started/

/ Download jenkins	,
/ en	,
[eric@almond Jenkins]$ pwd
/home/eric/Devel/Jenkins
[eric@almond Jenkins]$ mv ~/Downloads/jenkins.war .

[eric@almond Jenkins]$ java -jar jenkins.war -httpPort=8080
Running from: /home/eric/Devel/Jenkins/jenkins.war
webroot: $user.home/.jenkins
Jan 21, 2018 7:54:49 PM Main deleteWinstoneTempContents
WARNING: Failed to delete the temporary Winstone file /tmp/winstone/jenkins.war
Jan 21, 2018 7:54:49 PM org.eclipse.jetty.util.log.Log initialized
INFO: Logging initialized @451ms to org.eclipse.jetty.util.log.JavaUtilLog
Jan 21, 2018 7:54:49 PM winstone.Logger logInternal
INFO: Beginning extraction from war file
Jan 21, 2018 7:54:51 PM org.eclipse.jetty.server.handler.ContextHandler setContextPath
WARNING: Empty contextPath
Jan 21, 2018 7:54:51 PM org.eclipse.jetty.server.Server doStart
INFO: jetty-9.4.z-SNAPSHOT
Jan 21, 2018 7:54:51 PM org.eclipse.jetty.webapp.StandardDescriptorProcessor visitServlet
INFO: NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet
Jan 21, 2018 7:54:51 PM org.eclipse.jetty.server.session.DefaultSessionIdManager doStart
INFO: DefaultSessionIdManager workerName=node0
Jan 21, 2018 7:54:51 PM org.eclipse.jetty.server.session.DefaultSessionIdManager doStart
INFO: No SessionScavenger set, using defaults
Jan 21, 2018 7:54:51 PM org.eclipse.jetty.server.session.HouseKeeper startScavenging
INFO: Scavenging every 600000ms
Jenkins home directory: /home/eric/.jenkins found at: $user.home/.jenkins
Jan 21, 2018 7:54:52 PM org.eclipse.jetty.server.handler.ContextHandler doStart
INFO: Started w.@1e5f4170{/,file:///home/eric/.jenkins/war/,AVAILABLE}{/home/eric/.jenkins/war}
Jan 21, 2018 7:54:52 PM org.eclipse.jetty.server.AbstractConnector doStart
INFO: Started ServerConnector@5d25e6bb{HTTP/1.1,[http/1.1]}{0.0.0.0:8080}
Jan 21, 2018 7:54:52 PM org.eclipse.jetty.server.Server doStart
INFO: Started @3005ms
Jan 21, 2018 7:54:52 PM winstone.Logger logInternal
INFO: Winstone Servlet Engine v4.0 running: controlPort=disabled
Jan 21, 2018 7:54:52 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started initialization
Jan 21, 2018 7:54:52 PM jenkins.InitReactorRunner$1 onAttained
INFO: Listed all plugins
Jan 21, 2018 7:54:54 PM jenkins.InitReactorRunner$1 onAttained
INFO: Prepared all plugins
Jan 21, 2018 7:54:54 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started all plugins
Jan 21, 2018 7:54:54 PM jenkins.InitReactorRunner$1 onAttained
INFO: Augmented all extensions
Jan 21, 2018 7:54:55 PM jenkins.InitReactorRunner$1 onAttained
INFO: Loaded all jobs
Jan 21, 2018 7:54:56 PM jenkins.slaves.DeprecatedAgentProtocolMonitor initializerCheck
WARNING: This Jenkins instance uses deprecated Remoting protocols: CLI-connect,CLI2-connect,JNLP-connect,JNLP2-connectIt may impact stability of the instance. If newer protocol versions are supported by all system components (agents, CLI and other clients), it is highly recommended to disable the deprecated protocols.
Jan 21, 2018 7:54:56 PM jenkins.InitReactorRunner$1 onAttained
INFO: Completed initialization
Jan 21, 2018 7:54:56 PM hudson.model.AsyncPeriodicWork$1 run
INFO: Started Download metadata
Jan 21, 2018 7:54:57 PM org.springframework.context.support.AbstractApplicationContext prepareRefresh
INFO: Refreshing org.springframework.web.context.support.StaticWebApplicationContext@73266e2e: display name [Root WebApplicationContext]; startup date [Sun Jan 21 19:54:57 CET 2018]; root of context hierarchy
Jan 21, 2018 7:54:57 PM org.springframework.context.support.AbstractApplicationContext obtainFreshBeanFactory
INFO: Bean factory for application context [org.springframework.web.context.support.StaticWebApplicationContext@73266e2e]: org.springframework.beans.factory.support.DefaultListableBeanFactory@30322d4
Jan 21, 2018 7:54:57 PM org.springframework.beans.factory.support.DefaultListableBeanFactory preInstantiateSingletons
INFO: Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@30322d4: defining beans [authenticationManager]; root of factory hierarchy
Jan 21, 2018 7:54:57 PM org.springframework.context.support.AbstractApplicationContext prepareRefresh
INFO: Refreshing org.springframework.web.context.support.StaticWebApplicationContext@dda24a6: display name [Root WebApplicationContext]; startup date [Sun Jan 21 19:54:57 CET 2018]; root of context hierarchy
Jan 21, 2018 7:54:57 PM org.springframework.context.support.AbstractApplicationContext obtainFreshBeanFactory
INFO: Bean factory for application context [org.springframework.web.context.support.StaticWebApplicationContext@dda24a6]: org.springframework.beans.factory.support.DefaultListableBeanFactory@d1fbf0d
Jan 21, 2018 7:54:57 PM org.springframework.beans.factory.support.DefaultListableBeanFactory preInstantiateSingletons
INFO: Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@d1fbf0d: defining beans [filter,legacy]; root of factory hierarchy
Jan 21, 2018 7:54:57 PM jenkins.install.SetupWizard init
INFO: 

*************************************************************
*************************************************************
*************************************************************

Jenkins initial setup is required. An admin user has been created and a password generated.
Please use the following password to proceed to installation:

204ca43f7d50489cb651230917fd7620

This may also be found at: /home/eric/.jenkins/secrets/initialAdminPassword

*************************************************************
*************************************************************
*************************************************************

Jan 21, 2018 7:55:02 PM hudson.model.UpdateSite updateData
INFO: Obtained the latest update center data file for UpdateSource default
Jan 21, 2018 7:55:03 PM hudson.model.DownloadService$Downloadable load
INFO: Obtained the updated data file for hudson.tasks.Maven.MavenInstaller
Jan 21, 2018 7:55:04 PM hudson.model.DownloadService$Downloadable load
INFO: Obtained the updated data file for hudson.tools.JDKInstaller
Jan 21, 2018 7:55:04 PM hudson.model.AsyncPeriodicWork$1 run
INFO: Finished Download metadata. 8,844 ms
Jan 21, 2018 7:55:07 PM hudson.model.UpdateSite updateData
INFO: Obtained the latest update center data file for UpdateSource default
Jan 21, 2018 7:55:07 PM hudson.WebAppMain$3 run
INFO: Jenkins is fully up and running

/ ga naar
http://localhost:8080
/->
http://localhost:8080/login?from=%2F
/ en geef 
Administrator password: 204ca43f7d50489cb651230917fd7620
Next
Install suggested plugins
/ TODO
Create first admin user
ericj
vlWalnoot27
Eric J. Van der Velden
ericjvandervelden@gmail.com
Finish
Start using Jenkins

/ we zijn op dashboard	,
/ click Manage Jenkins
/ click Manage Plugins
/ click Installed 
/ we zien list alle installed plugins	,

/ click Manage Jenkins
/ we zien dat we moeten upgrade	,
/ restart
/ op Manage Plugins
/ upgrade	,
/ TODO

/ 2018-11-18

/ start Jenkins	,
[eric@almond Jenkins]$ pwd 
/home/eric/Devel/Jenkins
[eric@almond Jenkins]$ java -jar jenkins.war -httpPort=8080

/  we deden	,
localhost:8080	, klik 'Manage Jenkins'	, 
http://localhost:8080/manage
/ we zien button 'Or Upgrade Automatically'	, 
/ helemaal onderin rechts zien we current version van Jenkins, 2.107.2	, 

/ klik ' Or Upgrade Automatically'	, 
http://localhost:8080/updateCenter/
/ we check onderaan: Restart Jenkins when installation is complete and no jobs are running
/ OK, we zien onderin : Jenkins ver.2.138.3	.
/ we zien op op Update Center links 'Manage plugins'	, 

/ 13	. 

/ project fifth	, 
Project repo: /home/eric/Devel/Git/fifth 
Credentials: none
/ OK	,

https://github.com/ericjvandervelden/fifth.git
Credentials: ericjvandervelden	, VldWalnoot27& 
/ OK


git@github.com:ericjvandervelden/fifth.git
Credentials:
Add Jenkins
Kind: SSH username with private key
user name: ericjvandervelden 					/ git username	,
private key: from Jenkins master ~/.ssh
passphrase: <leeg>
Add
/ In drop down list zien we :
ericjvandervelden					/ zonder /*****
/ OK	,


 

/ Einde 2018-11-18


/ 13	. 

/ terug naar	,
https://jenkins.io/doc/pipeline/tour/getting-started/
/ en click Continue to "Create your first Pipeline"
https://jenkins.io/doc/pipeline/tour/hello-world/

[eric@almond Jenkins]$ mkdir -p pipeline/tour/hello-world
[eric@almond Jenkins]$ cat pipeline/tour/hello-world/Jenkinsfile
pipeline {
    agent { docker 'maven:3.3.3' }
    stages {
        stage('build') {
            steps {
                sh 'mvn --version'
            }
        }
    }
}

/ 
/ 2018-11-18

/ github	,

/ verander op profile, account	,
/ oude password: vlWalnoot27
/ nieuw password: VldWalnoot27&

/ Einde 2018-11-18

/ terug naar	,
http://localhost:8080/
/ click 'New Item'
Enter an Item name: Hello-World
/ select 'Multibranch Pipeline' 
OK
/ we komen op,
http://localhost:8080/job/Hello-World/configure
/ bij 'Branch Sources' 
/ klik 'Add source' 	,
Project repository: https://github.com/ericjvandervelden/hello-world.git
Save
/ we komen op	,
http://localhost:8080/job/Hello-World/indexing/console

/ vergeet niet bij Configure 'Scan Multibranch Pipeline Triggers'	, 
/ check 'Periodically if not otherwise run', kies 1 minute	,

/ als we een file add in local repo	, en 
$ git add .
$ git commit -m "..." 
$ git push
/ dan wordt Jenkins triggered

/ Intermezzo

[eric@almond sixth]$ ls ~/.jenkins/workspace/sixth_master-RVI2EFPKAHJVC6NWP3ISCMDVAPS23VYK5DN7I54EH2IUMS5QX75Q
Jenkinsfile  README.txt



/ Einde Intermezzo

/ Intermezzo

/ 7	. 

https://stackoverflow.com/questions/6648995/how-to-create-a-remote-git-repository-from-a-local-one

I think you make a bare repository on the remote side, git init --bare, add the remote side as the push/pull tracker for your local repository (git remote add origin URL), and then locally you just say git push origin master. Now any other repository can pull from the remote repository.

/ 7	. 

/ dit lees je als je op github een nieuwe repo maakt	,

Quick setup — if you’ve done this kind of thing before

git@github.com:ericjvandervelden/seventh.git
Get started by creating a new file or uploading an existing file. We recommend every repository include a README, LICENSE, and .gitignore.

…or create a new repository on the command line
 echo "# seventh" >> README.md
git init
git add README.md
git commit -m "first commit"
git remote add origin git@github.com:ericjvandervelden/seventh.git
git push -u origin master

…or push an existing repository from the command line
 git remote add origin git@github.com:ericjvandervelden/seventh.git
git push -u origin master

…or import code from another repository
You can initialize this repository with code from a Subversion, Mercurial, or TFS project.

Import code


/ 7	. 

/ lees	,
https://help.github.com/en/articles/adding-an-existing-project-to-github-using-the-command-line

/ maak een repo op github met +, seventh	,
/ maak local 
[eric@almond Git]$ mkdir seventh
[eric@almond Git]$ cd seventh/
[eric@almond seventh]$ git init
[eric@almond seventh]$ vi README.txt
[eric@almond seventh]$ git add .
[eric@almond seventh]$ git commit -m "added README.txt" 
[eric@almond seventh]$ git remote add origin git@github.com:ericjvandervelden/seventh.git
[eric@almond seventh]$ git push -u origin master
/ misschien is ook OK: $ git push  

/ Einde Intermezzo

Started
[Sun Jan 21 20:29:58 CET 2018] Starting branch indexing...
 > git --version # timeout=10
 > git ls-remote https://github.com/ericjvandervelden/hello-world.git # timeout=10
Creating git repository in /home/eric/.jenkins/caches/git-ce8765469a7c9aaf33027a1a48b0dd63
 > git init /home/eric/.jenkins/caches/git-ce8765469a7c9aaf33027a1a48b0dd63 # timeout=10
Setting origin to https://github.com/ericjvandervelden/hello-world.git
 > git config remote.origin.url https://github.com/ericjvandervelden/hello-world.git # timeout=10
Fetching & pruning origin...
Fetching upstream changes from origin
 > git --version # timeout=10
 > git fetch --tags --progress origin +refs/heads/*:refs/remotes/origin/* --prune
Listing remote references...
 > git config --get remote.origin.url # timeout=10
 > git ls-remote -h https://github.com/ericjvandervelden/hello-world.git # timeout=10
Checking branches...
  Checking branch hansidea2
      ‘Jenkinsfile’ not found
    Does not meet criteria
  Checking branch master
      ‘Jenkinsfile’ not found
    Does not meet criteria
  Checking branch ericsidea
      ‘Jenkinsfile’ not found
    Does not meet criteria
  Checking branch ericsidea2
      ‘Jenkinsfile’ not found
    Does not meet criteria
  Checking branch ericsidea3
      ‘Jenkinsfile’ not found
    Does not meet criteria
  Checking branch hansidea
      ‘Jenkinsfile’ not found
    Does not meet criteria
Processed 6 branches
[Sun Jan 21 20:30:01 CET 2018] Finished branch indexing. Indexing took 2.5 sec
Finished: SUCCESS

/ we moeten de Jenkinsfile check in de project's source control repository	,

/ 7	 .

[eric@almond Git]$ pwd
/home/eric/Devel/Git
[eric@almond Git]$ git init second
[eric@almond Git]$ cd second/
[eric@almond second]$ cp ../../Jenkins/pipeline/tour/hello-world/Jenkinsfile  .
/ pas aan	,
[eric@almond second]$ cat Jenkinsfile 
pipeline {
    agent { docker 'maven:3.3.9' }
    stages {
        stage('build') {
            steps {
                bash 'mvn --version'
            }
        }
    }
}
[eric@almond second]$ cat first.sh 
echo 'Foo Bar'

[eric@almond second]$ git status
On branch master

Initial commit

Untracked files:
  (use "git add <file>..." to include in what will be committed)

	Jenkinsfile
	first.sh

[eric@almond second]$ git add .
[eric@almond second]$ git status
On branch master

Initial commit

Changes to be committed:
  (use "git rm --cached <file>..." to unstage)

	new file:   Jenkinsfile
	new file:   first.sh

[eric@almond second]$ git commit -m "first commit" 
[master (root-commit) 2f87a21] first commit
 2 files changed, 11 insertions(+)
 create mode 100644 Jenkinsfile
 create mode 100644 first.sh

[eric@almond second]$ git rm first.sh 
rm 'first.sh'
[eric@almond second]$ cat >root.sh
echo "root"
[eric@almond second]$ git add root.sh 
[eric@almond second]$ git status
	...
	deleted:    first.sh
	new file:   root.sh
[eric@almond second]$ git commit -m "removed first.sh , added root.sh"
[master 201205c] removed first.sh , added root.sh
 2 files changed, 1 insertion(+), 1 deletion(-)
 delete mode 100644 first.sh
 create mode 100644 root.sh

[eric@almond second]$ git checkout -b child
Switched to a new branch 'child'
[eric@almond second]$ git branch 
* child
  master
[eric@almond second]$ ls
Jenkinsfile  root.sh
[eric@almond second]$ vi child.sh
echo "child"
[eric@almond second]$ chmod u+x child.sh 

[eric@almond second]$ git checkout master
Switched to branch 'master'
[eric@almond second]$ ls
child.sh  Jenkinsfile  root.sh
/ we zien child.sh	, maar dat komt omdat we deze nog niet hebben commit in branch child 

[eric@almond second]$ git checkout child 
Switched to branch 'child'
[eric@almond second]$ git add child.sh 
[eric@almond second]$ git commit -m "added executable child.sh in branch child"
[child 1e5578f] added executable child.sh in branch child
 1 file changed, 1 insertion(+)
 create mode 100755 child.sh
[eric@almond second]$ ls
child.sh  Jenkinsfile  root.sh

[eric@almond second]$ git checkout master 
Switched to branch 'master'
[eric@almond second]$ ls
Jenkinsfile  root.sh
/ we zien child.sh NIET	, 

[eric@almond second]$ git checkout child 
Switched to branch 'child'
[eric@almond second]$ ls
child.sh  Jenkinsfile  root.sh

/ ga naar
https://github.com
/ en click + rechtsboven, kies New Repository
Repository name: second
Initialize this repository with a README 
/ TODO
/ we hebben het nu niet gedaan	,
Save
/ we komen op	,
https://github.com/ericjvandervelden/second

/ we zien een aantal suggesties	,

Quick setup — if you’ve done this kind of thing before
HTTPS SSH https://github.com/ericjvandervelden/second.git
We recommend every repository include a README, LICENSE, and .gitignore.

…or create a new repository on the command line
echo "# second" >> README.md
git init
git add README.md
git commit -m "first commit"
git remote add origin https://github.com/ericjvandervelden/second.git
git push -u origin master

…or push an existing repository from the command line
git remote add origin https://github.com/ericjvandervelden/second.git
git push -u origin master

…or import code from another repository
You can initialize this repository with code from a Subversion, Mercurial, or TFS project.

/ we doen de 3de 	,

[eric@almond second]$ git remote add origin https://github.com/ericjvandervelden/second.git
[eric@almond second]$ git push -u origin master
Username for 'https://github.com': ericjvandervelden@gmail.com
Password for 'https://ericjvandervelden@gmail.com@github.com': vlWalnoot27
Counting objects: 7, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (5/5), done.
Writing objects: 100% (7/7), 630 bytes | 0 bytes/s, done.
Total 7 (delta 1), reused 0 (delta 0)
remote: Resolving deltas: 100% (1/1), done.
To https://github.com/ericjvandervelden/second.git
 * [new branch]      master -> master

/ wachtwoord is nu VldWalnoot27&

[eric@almond second]$ git push -u origin master child
Username for 'https://github.com': ericjvandervelden@gmail.com
Password for 'https://ericjvandervelden@gmail.com@github.com': vlWalnoot27
Counting objects: 3, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (2/2), done.
Writing objects: 100% (3/3), 357 bytes | 0 bytes/s, done.
Total 3 (delta 0), reused 0 (delta 0)
To https://github.com/ericjvandervelden/second.git
 * [new branch]      child -> child
Branch master set up to track remote branch master from origin.
Branch child set up to track remote branch child from origin.

/ 7	 

/ kies master branch	,
https://github.com/ericjvandervelden/second/tree/master
/ kies child branch	,
https://github.com/ericjvandervelden/second/tree/child

/ 7	. 

/ opnieuw in Jenkins	,
/ rm de multibranch pipeline
/ we zien weer New Item,
name: second
Multibranch pipeline
OK
http://localhost:8080/job/second/configure
Branch sources	,
Add source
Git
/ TODO Github
https://github.com/ericjvandervelden/second.git
Save
/ we komen op	,
http://localhost:8080/view/all/job/second/indexing/console
Started
[Mon Jan 22 00:13:17 CET 2018] Starting branch indexing...
 > git --version # timeout=10
 > git ls-remote https://github.com/ericjvandervelden/second.git # timeout=10
Creating git repository in /home/eric/.jenkins/caches/git-2fa9635a41ac39b64fa2c0133e7f3a2e
 > git init /home/eric/.jenkins/caches/git-2fa9635a41ac39b64fa2c0133e7f3a2e # timeout=10
Setting origin to https://github.com/ericjvandervelden/second.git
 > git config remote.origin.url https://github.com/ericjvandervelden/second.git # timeout=10
Fetching & pruning origin...
Fetching upstream changes from origin
 > git --version # timeout=10
 > git fetch --tags --progress origin +refs/heads/*:refs/remotes/origin/* --prune
Listing remote references...
 > git config --get remote.origin.url # timeout=10
 > git ls-remote -h https://github.com/ericjvandervelden/second.git # timeout=10
Checking branches...
  Checking branch child
      ‘Jenkinsfile’ found
    Met criteria
Scheduled build for branch: child
  Checking branch master
      ‘Jenkinsfile’ found
    Met criteria
Scheduled build for branch: master
Processed 2 branches
[Mon Jan 22 00:13:19 CET 2018] Finished branch indexing. Indexing took 2 sec
Finished: SUCCESS

/ Wat heeft hij met Jenkingsfile gedaan?
/ Ga na wat de git commands hierboven doen	.

/ we zijn op	,
http://localhost:8080/view/all/job/second/indexing/console

$ pwd
/home/eric/.jenkins/caches/git-2fa9635a41ac39b64fa2c0133e7f3a2e

$ git ls-remote https://github.com/ericjvandervelden/second.git
201205ca6a63ecec7ee781b841f33389c0a6f1a0	HEAD
1e5578f35286569f928b2413ba4f0c7d07cdfd7f	refs/heads/child
201205ca6a63ecec7ee781b841f33389c0a6f1a0	refs/heads/master
> git init /home/eric/.jenkins/caches/git-2fa9635a41ac39b64fa2c0133e7f3a2e 
/ OK,
> git config remote.origin.url https://github.com/ericjvandervelden/second.git

Fetching upstream changes from origin
 > git fetch --tags --progress origin +refs/heads/*:refs/remotes/origin/* --prune

> git config --get remote.origin.url
https://github.com/ericjvandervelden/second.git

>  git ls-remote -h https://github.com/ericjvandervelden/second.git 
1e5578f35286569f928b2413ba4f0c7d07cdfd7f	refs/heads/child
201205ca6a63ecec7ee781b841f33389c0a6f1a0	refs/heads/master

/ 13	. 

/ we maken een nieuwe branch en push naar github	,

[eric@almond second]$ git checkout -b sibling
Switched to a new branch 'sibling'
[eric@almond second]$ git branch
  child
  master
* sibling
[eric@almond second]$ vi sibling.sh
echo "sibling"
[eric@almond second]$ chmod u+x sibling.sh 
[eric@almond second]$ git add sibling.sh 
[eric@almond second]$ git commit -m "added executable sibling.sh in branch sibling"
[sibling 24e50c1] added executable sibling.sh in branch sibling
 1 file changed, 1 insertion(+)
 create mode 100755 sibling.sh
[eric@almond second]$ git push -u origin sibling 
Username for 'https://github.com': ericjvandervelden@gmail.com
Password for 'https://ericjvandervelden@gmail.com@github.com': vlWalnoot27 
Counting objects: 3, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (2/2), done.
Writing objects: 100% (3/3), 320 bytes | 0 bytes/s, done.
Total 3 (delta 1), reused 0 (delta 0)
remote: Resolving deltas: 100% (1/1), completed with 1 local object.
To https://github.com/ericjvandervelden/second.git
 * [new branch]      sibling -> sibling
Branch sibling set up to track remote branch sibling from origin.

/ we zien niets in Jenkins	,

/ 13	. 

/ we oef met clone een local branch	,
/ omdat Jenkins bij Branch Sources in field Project Repository hetzelfde invult als $ git clone	,

/ google
git clone all branches
/ lees	,
https://stackoverflow.com/questions/67699/how-to-clone-all-remote-branches-in-git
https://stackoverflow.com/questions/40310932/git-hub-clone-all-branches-at-once/42172410

[eric@almond sub]$ pwd
/home/eric/Devel/Git/sub
[eric@almond sub]$ git clone https://github.com/ericjvandervelden/second.git
[eric@almond second]$ git branch 
* master
[eric@almond second]$ git branch  -a
* master
  remotes/origin/HEAD -> origin/master
  remotes/origin/child
  remotes/origin/master
  remotes/origin/sibling
[eric@almond second]$ git checkout -b child origin/child 
Branch child set up to track remote branch child from origin.
Switched to a new branch 'child'
[eric@almond second]$ git checkout -b sibling origin/sibling 
Branch sibling set up to track remote branch sibling from origin.
Switched to a new branch 'sibling'
[eric@almond second]$ git branch 
  child
  master
* sibling

/ Maar we kunnen ook een local repo clone	,

[eric@almond sub2]$ pwd
/home/eric/Devel/Git/sub2
[eric@almond sub2]$ git clone ../second/
[eric@almond second]$ git branch 
* sibling
/ op github is master de active branch	, bij ons is sibling dat	,
[eric@almond second]$ git branch  -a
* sibling
  remotes/origin/HEAD -> origin/sibling
  remotes/origin/child
  remotes/origin/master
  remotes/origin/sibling
[eric@almond second]$ git remote show origin 
* remote origin
  Fetch URL: /home/eric/Devel/Git/sub2/../second/
  Push  URL: /home/eric/Devel/Git/sub2/../second/
  HEAD branch: sibling
  Remote branches:
    child   tracked
    master  tracked
    sibling tracked
  Local branch configured for 'git pull':
    sibling merges with remote sibling
  Local ref configured for 'git push':
    sibling pushes to sibling (up to date)
[eric@almond second]$ git checkout -b master origin/master 
Branch master set up to track remote branch master from origin.
Switched to a new branch 'master'
[eric@almond second]$ git checkout -b child origin/child 
Branch child set up to track remote branch child from origin.
Switched to a new branch 'child'

/ in sub/second ,
eric@almond second]$ git remote show origin 
* remote origin
  Fetch URL: https://github.com/ericjvandervelden/second.git
  Push  URL: https://github.com/ericjvandervelden/second.git
  HEAD branch: master
  Remote branches:
    child   tracked
    master  tracked
    sibling tracked
  Local branches configured for 'git pull':
    child   merges with remote child
    master  merges with remote master
    sibling merges with remote sibling
  Local refs configured for 'git push':
    child   pushes to child   (up to date)
    master  pushes to master  (up to date)
    sibling pushes to sibling (up to date)

/ 13	. 

/ in Jenkins	, New Item, ...	 
http://localhost:8080/job/localsecond/configure
Project Repository	: /home/eric/Devel/Git/sub2/second 

/ 13	. 

/ we kunnen in menu click	, op http://localhost:8080/job/localsecond/
status	 / we zien dat branches fail	, 
configure	/ we zien form met Project Repository 	, 
scan multibranch pipeline log	/ we zien de log met git commands	, 

/ 13	. 

[eric@almond second]$ pwd
/home/eric/Devel/Git/sub2/second

/ er zijn	, 
/home/eric/Devel/Git/second		/ clone van github	,
/home/eric/Devel/Git/sub2/second	/ clone van ../../second	,

[eric@almond second]$ git branch 
  child
* master
  sibling
[eric@almond second]$ vi Jenkinsfile 
pipeline {
    agent { docker 'maven:3.3.9' }
    stages {
        stage('build') {
            steps {
                sh -c 'mvn --version'			/ sh is iets van Jenkins	, geef NIET bash	,
            }
        }
    }
}
[eric@almond second]$ git add Jenkinsfile 
[eric@almond second]$ git commit -m "edit Jenkinsfile"
[eric@almond second]$ git push -u origin master
/ in second/ zien we bash -c	,
/ TODO
/ WH lukt master, child	, maar sibling niet	,
remote: error: refusing to update checked out branch: refs/heads/sibling
/ TODO


/ 13	. 

[eric@almond second]$ pwd
/home/eric/Devel/Git/second
[eric@almond second]$ git checkout master 
[eric@almond second]$ git push -u origin master
Username for 'https://github.com': ericjvandervelden@gmail.com
Password for 'https://ericjvandervelden@gmail.com@github.com': 
/ OK

/ 13	. 

[eric@almond second]$ git pull
remote: Counting objects: 3, done.
remote: Compressing objects: 100% (3/3), done.
remote: Total 3 (delta 1), reused 0 (delta 0)
Unpacking objects: 100% (3/3), done.
From /home/eric/Devel/Git/sub2/../second
   d21f467..6f78669  master     -> origin/master
Auto-merging Jenkinsfile
CONFLICT (content): Merge conflict in Jenkinsfile
Automatic merge failed; fix conflicts and then commit the result.
[eric@almond second]$ git merge master
error: merge is not possible because you have unmerged files.
hint: Fix them up in the work tree, and then use 'git add/rm <file>'
hint: as appropriate to mark resolution and make a commit.
fatal: Exiting because of an unresolved conflict.

/ TODO

/ 13	. 

/ we maken een nieuwe dir src/ en cpy/

[eric@almond Git]$ mkdir src
[eric@almond Git]$ cd src/
[eric@almond src]$ git init
Initialized empty Git repository in /home/eric/Devel/Git/src/.git/
[eric@almond src]$ vi Greet.java
[eric@almond src]$ git add Greet.java 
[eric@almond src]$ git commit -m "added Greet.java"
[master (root-commit) cc97297] added Greet.java
 1 file changed, 5 insertions(+)
 create mode 100644 Greet.java
[eric@almond src]$ cd ..
[eric@almond Git]$ mkdir cpy
[eric@almond Git]$ cd cpy/
[eric@almond cpy]$ git clone ../src/
Cloning into 'src'...
done.
[eric@almond src]$ vi Greet.java 
[eric@almond src]$ git add Greet.java 
[eric@almond src]$ git commit -m "added ctor to Greet"
[eric@almond src]$ git push
[eric@almond src]$ git push
Counting objects: 3, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (2/2), done.
Writing objects: 100% (3/3), 382 bytes | 0 bytes/s, done.
Total 3 (delta 0), reused 0 (delta 0)
remote: error: refusing to update checked out branch: refs/heads/master
remote: error: By default, updating the current branch in a non-bare repository
remote: error: is denied, because it will make the index and work tree inconsistent
remote: error: with what you pushed, and will require 'git reset --hard' to match
remote: error: the work tree to HEAD.
remote: error: 
remote: error: You can set 'receive.denyCurrentBranch' configuration variable to
remote: error: 'ignore' or 'warn' in the remote repository to allow pushing into
remote: error: its current branch; however, this is not recommended unless you
remote: error: arranged to update its work tree to match what you pushed in some
remote: error: other way.
remote: error: 
remote: error: To squelch this message and still keep the default behaviour, set
remote: error: 'receive.denyCurrentBranch' configuration variable to 'refuse'.
To /home/eric/Devel/Git/cpy/../src/
 ! [remote rejected] master -> master (branch is currently checked out)
error: failed to push some refs to '/home/eric/Devel/Git/cpy/../src/'
/ TODO

/ 13	. 

/ github, + New repository, src,  check with README

[eric@almond sub]$ pwd
/home/eric/Devel/Git/sub
[eric@almond sub]$ git clone https://github.com/ericjvandervelden/src.git
Cloning into 'src'...
remote: Counting objects: 3, done.
remote: Total 3 (delta 0), reused 0 (delta 0), pack-reused 0
Unpacking objects: 100% (3/3), done.
Checking connectivity... done.
[eric@almond sub]$ cd src/
[eric@almond src]$ vi Hello.java
[eric@almond src]$ git add Hello.java 
[eric@almond src]$ git commit -m "created Hello.java with main"
[master 77c9ee3] created Hello.java with main
 1 file changed, 5 insertions(+)
 create mode 100644 Hello.java
[eric@almond src]$ git push
Username for 'https://github.com': ericjvandervelden@gmail.com
Password for 'https://ericjvandervelden@gmail.com@github.com': 
Counting objects: 3, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 385 bytes | 0 bytes/s, done.
Total 3 (delta 0), reused 0 (delta 0)
To https://github.com/ericjvandervelden/src.git
   9f0de51..77c9ee3  master -> master

/ dus OK, maar naar local repo ERR
/ TODO

/ 13	. 

/ we update Hello.java op github	, en hier in de local repo doen we 'git pull'	, 
/ op https://github.com/ericjvandervelden/src click we Hello.java
/ we komen in een editor, met een potlood icon rechts en we kunnen edit, 
/ we voegen een ctor toe aan Hello	,
/ scroll naar beneden, daar kunnen we commit (git),

[eric@almond src]$ pwd
/home/eric/Devel/Git/sub/src
[eric@almond src]$ git pull
remote: Counting objects: 3, done.
remote: Compressing objects: 100% (3/3), done.
remote: Total 3 (delta 0), reused 0 (delta 0), pack-reused 0
Unpacking objects: 100% (3/3), done.
From https://github.com/ericjvandervelden/src
   77c9ee3..ea1d31c  master     -> origin/master
Updating 77c9ee3..ea1d31c
Fast-forward
 Hello.java | 4 ++++
 1 file changed, 4 insertions(+)
[eric@almond src]$ cat Hello.java 
public class Hello{
	public static void main(String...){
		System.out.println("Hello");
	}
	private String name;
	public Hello(){
		name="Foo";
	}
}
[eric@almond src]$ git status
On branch master
Your branch is up-to-date with 'origin/master'.
nothing to commit, working directory clean

[eric@almond src]$ vi Jenkinsfile
pipeline{
	agent any
	stages{
		stage('Build'){
			steps{
				echo 'Building...'
			}
		} 
		stage('Test'){
			steps{
				echo 'Testing...'
			}
		} 
		stage('Deploying'){
			steps{
				echo 'Deploying...'
			}
		} 
	}
}
[eric@almond src]$ git add Jenkinsfile 
[eric@almond src]$ git commit -m "created Jenkinsfile"
[master b2ce5c9] created Jenkinsfile
 1 file changed, 20 insertions(+)
 create mode 100644 Jenkinsfile
[eric@almond src]$ git push
Username for 'https://github.com': ericjvandervelden@gmail.com
Password for 'https://ericjvandervelden@gmail.com@github.com': 
Counting objects: 3, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 432 bytes | 0 bytes/s, done.
Total 3 (delta 0), reused 0 (delta 0)
To https://github.com/ericjvandervelden/src.git
   ea1d31c..b2ce5c9  master -> master

/ 13	. 

/ in Jenkins maken we 'New Item'	, 'Multibranch pipeline'	, src
Branch sources
Repository: https://github.com/ericjvandervelden/src.git
Credentials: ericjvandervelden@gmail.com vlWalnoot27				<-
/ eerst Add	, dan kiezen in drop down list	,
/ OK

/ 13	. 

/ in Jenkins	,
/ kies second, master
http://localhost:8080/job/second/job/master/
/ we zien in menu: Status, Build now	, 
/ click Build now	,
/ we zien eerst blauw, dan rood	, in Stage view	,
/ scroll naar onder, we zien Build history	,
/ click de meest recente bovenaan, #3
/ click Console output	,

Started by user Eric J. Van der Velden
 > git rev-parse --is-inside-work-tree # timeout=10
Setting origin to https://github.com/ericjvandervelden/second.git
 > git config remote.origin.url https://github.com/ericjvandervelden/second.git # timeout=10
Fetching origin...
Fetching upstream changes from origin
 > git --version # timeout=10
using GIT_ASKPASS to set credentials 
 > git fetch --tags --progress origin +refs/heads/*:refs/remotes/origin/*
Seen branch in repository origin/child
Seen branch in repository origin/master
Seen branch in repository origin/sibling
Seen 3 remote branches
Obtained Jenkinsfile from 6f7866938462664ee1e4d8b80a5d1ce322da2112
[Pipeline] node
Running on Jenkins in /home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
 > git rev-parse --is-inside-work-tree # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/ericjvandervelden/second.git # timeout=10
Fetching without tags
Fetching upstream changes from https://github.com/ericjvandervelden/second.git
 > git --version # timeout=10
using GIT_ASKPASS to set credentials 
 > git fetch --no-tags --progress https://github.com/ericjvandervelden/second.git +refs/heads/*:refs/remotes/origin/*
Checking out Revision 6f7866938462664ee1e4d8b80a5d1ce322da2112 (master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 6f7866938462664ee1e4d8b80a5d1ce322da2112
Commit message: "edit Jenkinsfile"
 > git rev-list --no-walk 6f7866938462664ee1e4d8b80a5d1ce322da2112 # timeout=10
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (build)
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
java.lang.NoSuchMethodError: No such DSL method 'bash' found among steps [archive, bat, build, catchError, checkout, deleteDir, dir, dockerFingerprintFrom, dockerFingerprintRun, echo, emailext, emailextrecipients, envVarsForTool, error, fileExists, getContext, git, input, isUnix, junit, library, libraryResource, load, mail, milestone, node, parallel, powershell, properties, pwd, readFile, readTrusted, resolveScm, retry, script, sh, sleep, stage, stash, step, svn, timeout, timestamps, tm, tool, unarchive, unstash, validateDeclarativePipeline, waitUntil, withContext, withCredentials, withDockerContainer, withDockerRegistry, withDockerServer, withEnv, wrap, writeFile, ws] or symbols [all, allOf, always, ant, antFromApache, antOutcome, antTarget, any, anyOf, apiToken, architecture, archiveArtifacts, artifactManager, authorizationMatrix, batchFile, booleanParam, branch, buildButton, buildDiscarder, caseInsensitive, caseSensitive, certificate, changelog, changeset, checkoutToSubdirectory, choice, choiceParam, cleanWs, clock, cloud, command, credentials, cron, crumb, defaultView, demand, disableConcurrentBuilds, docker, dockerCert, dockerfile, downloadSettings, downstream, dumb, envVars, environment, expression, file, fileParam, filePath, fingerprint, frameOptions, freeStyle, freeStyleJob, fromScm, fromSource, git, github, githubPush, gradle, headRegexFilter, headWildcardFilter, hyperlink, hyperlinkToModels, inheriting, inheritingGlobal, installSource, jdk, jdkInstaller, jgit, jgitapache, jnlp, jobName, label, lastDuration, lastFailure, lastGrantedAuthorities, lastStable, lastSuccess, legacy, legacySCM, list, local, location, logRotator, loggedInUsersCanDoAnything, masterBuild, maven, maven3Mojos, mavenErrors, mavenMojos, mavenWarnings, modernSCM, myView, node, nodeProperties, nonInheriting, nonStoredPasswordParam, none, not, overrideIndexTriggers, paneStatus, parameters, password, pattern, pipeline-model, pipelineTriggers, plainText, plugin, pollSCM, projectNamingStrategy, proxy, queueItemAuthenticator, quietPeriod, remotingCLI, run, runParam, schedule, scmRetryCount, search, security, shell, skipDefaultCheckout, skipStagesAfterUnstable, slave, sourceRegexFilter, sourceWildcardFilter, sshUserPrivateKey, stackTrace, standard, status, string, stringParam, swapSpace, text, textParam, tmpSpace, toolLocation, unsecured, upstream, usernameColonPassword, usernamePassword, viewsTabBar, weather, withAnt, zfs, zip] or globals [currentBuild, docker, env, params, pipeline, scm]
/ Dus we moeten sh geven ipv bash	,

[eric@almond second]$ pwd
/home/eric/Devel/Git/sub/second
/ de clone van github repo second	,

/ we hebben Jenkinsfile edit	, 
[eric@almond second]$ vi Jenkinsfile 
...
[eric@almond second]$ git add Jenkinsfile 
[eric@almond second]$ git commit -m "edit Jenkinsfile"
[master 7730faa] edit Jenkinsfile
 1 file changed, 3 insertions(+), 2 deletions(-)
[eric@almond second]$ git push
error: unable to read askpass response from '/usr/libexec/openssh/gnome-ssh-askpass'
Username for 'https://github.com': ericjvandervelden@gmail.com
error: unable to read askpass response from '/usr/libexec/openssh/gnome-ssh-askpass'
Password for 'https://ericjvandervelden@gmail.com@github.com': 
To https://github.com/ericjvandervelden/second.git
 ! [rejected]        master -> master (fetch first)
error: failed to push some refs to 'https://github.com/ericjvandervelden/second.git'
hint: Updates were rejected because the remote contains work that you do
hint: not have locally. This is usually caused by another repository pushing
hint: to the same ref. You may want to first integrate the remote changes
hint: (e.g., 'git pull ...') before pushing again.
hint: See the 'Note about fast-forwards' in 'git push --help' for details.
/ TODO

[eric@almond second]$ git pull
remote: Counting objects: 6, done.
remote: Compressing objects: 100% (4/4), done.
remote: Total 6 (delta 2), reused 6 (delta 2), pack-reused 0
Unpacking objects: 100% (6/6), done.
From https://github.com/ericjvandervelden/second
   201205c..6f78669  master     -> origin/master
Merge made by the 'recursive' strategy.
/ we kregen een message die we konden edit	, 
/ TODO

$ vi Jenkinsfile
pipeline {
    //agent { docker 'maven:3.3.9' }
		agent any
    stages {
        stage('build') {
            steps {
                sh 'mvn --version'
            }
        }
    }
}
/ precies die we net push hadden	,
/ TODO


[eric@almond second]$ git push
error: unable to read askpass response from '/usr/libexec/openssh/gnome-ssh-askpass'
Username for 'https://github.com': ericjvandervelden@gmail.com
error: unable to read askpass response from '/usr/libexec/openssh/gnome-ssh-askpass'
Password for 'https://ericjvandervelden@gmail.com@github.com': 
Counting objects: 4, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (4/4), done.
Writing objects: 100% (4/4), 476 bytes | 0 bytes/s, done.
Total 4 (delta 2), reused 0 (delta 0)
remote: Resolving deltas: 100% (2/2), completed with 1 local object.
To https://github.com/ericjvandervelden/second.git
   6f78669..3e84d01  master -> master

/ 13	. 

/ in Jenkins	, we zijn op 
http://localhost:8080/job/second/job/master/
Build now
/ OK
/ click op #4 in Build history	,

Started by user Eric J. Van der Velden
 > git rev-parse --is-inside-work-tree # timeout=10
Setting origin to https://github.com/ericjvandervelden/second.git
 > git config remote.origin.url https://github.com/ericjvandervelden/second.git # timeout=10
Fetching origin...
Fetching upstream changes from origin
 > git --version # timeout=10
using GIT_ASKPASS to set credentials 
 > git fetch --tags --progress origin +refs/heads/*:refs/remotes/origin/*
Seen branch in repository origin/child
Seen branch in repository origin/master
Seen branch in repository origin/sibling
Seen 3 remote branches
Obtained Jenkinsfile from 3e84d0157f2eeb5db52da2e71dd3874fd417ce07
[Pipeline] node
Running on Jenkins in /home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
 > git rev-parse --is-inside-work-tree # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/ericjvandervelden/second.git # timeout=10
Fetching without tags
Fetching upstream changes from https://github.com/ericjvandervelden/second.git
 > git --version # timeout=10
using GIT_ASKPASS to set credentials 
 > git fetch --no-tags --progress https://github.com/ericjvandervelden/second.git +refs/heads/*:refs/remotes/origin/*
Checking out Revision 3e84d0157f2eeb5db52da2e71dd3874fd417ce07 (master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 3e84d0157f2eeb5db52da2e71dd3874fd417ce07
Commit message: "Merge branch 'master' of https://github.com/ericjvandervelden/second"
 > git rev-list --no-walk 6f7866938462664ee1e4d8b80a5d1ce322da2112 # timeout=10
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (build)
[Pipeline] sh
[second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA] Running shell script
+ mvn --version
Apache Maven 3.3.9 (NON-CANONICAL_2016-04-07T23:15:34Z_mockbuild; 2016-04-08T01:15:34+02:00)
Maven home: /usr/share/maven
Java version: 1.8.0_141, vendor: Oracle Corporation
Java home: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.141-1.b16.fc24.x86_64/jre
Default locale: en_US, platform encoding: UTF-8
OS name: "linux", version: "4.11.12-100.fc24.x86_64", arch: "amd64", family: "unix"
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
Finished: SUCCESS

/ we zien dat $ mvn --version is exec	, 

/ 13	. 

[eric@almond second]$ pwd
/home/eric/Devel/Git/sub/second
[eric@almond second]$ cat Jenkinsfile 
pipeline {
    agent { docker 'maven:3.3.9' }
		//agent any
    stages {
        stage('build') {
            steps {
                sh 'mvn --version'
            }
        }
    }
}
[eric@almond second]$ git add Jenkinsfile 
[eric@almond second]$ git commit -m "edit Jenkinsfile"
[eric@almond second]$ git push

/ Jenkins 
http://localhost:8080/job/second/job/master/
Build now
/ OK
/ click in Build history op blauw bolletje icon naast #5
/ we zien dat docker is gestart	,

Started by user Eric J. Van der Velden
 > git rev-parse --is-inside-work-tree # timeout=10
Setting origin to https://github.com/ericjvandervelden/second.git
 > git config remote.origin.url https://github.com/ericjvandervelden/second.git # timeout=10
Fetching origin...
Fetching upstream changes from origin
 > git --version # timeout=10
using GIT_ASKPASS to set credentials 
 > git fetch --tags --progress origin +refs/heads/*:refs/remotes/origin/*
Seen branch in repository origin/child
Seen branch in repository origin/master
Seen branch in repository origin/sibling
Seen 3 remote branches
Obtained Jenkinsfile from 529af3739843608731ca90927a2d9bdb41b056a3
[Pipeline] node
Running on Jenkins in /home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
 > git rev-parse --is-inside-work-tree # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/ericjvandervelden/second.git # timeout=10
Fetching without tags
Fetching upstream changes from https://github.com/ericjvandervelden/second.git
 > git --version # timeout=10
using GIT_ASKPASS to set credentials 
 > git fetch --no-tags --progress https://github.com/ericjvandervelden/second.git +refs/heads/*:refs/remotes/origin/*
Checking out Revision 529af3739843608731ca90927a2d9bdb41b056a3 (master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 529af3739843608731ca90927a2d9bdb41b056a3
Commit message: "edit Jenkinsfile"
 > git rev-list --no-walk 3e84d0157f2eeb5db52da2e71dd3874fd417ce07 # timeout=10
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Agent Setup)
[Pipeline] sh
[second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA] Running shell script
+ docker pull maven:3.3.9
3.3.9: Pulling from library/maven
Digest: sha256:18e8bd367c73c93e29d62571ee235e106b18bf6718aeb235c7a07840328bba71
Status: Image is up to date for maven:3.3.9
[Pipeline] }
[Pipeline] // stage
[Pipeline] sh
[second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA] Running shell script
+ docker inspect -f . maven:3.3.9
.
[Pipeline] withDockerContainer
Jenkins does not seem to be running inside a container
$ docker run -t -d -u 1000:1000 -w /home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA -v /home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA:/home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA:rw,z -v /home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA@tmp:/home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA@tmp:rw,z -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** --entrypoint cat maven:3.3.9
[Pipeline] {
[Pipeline] stage
[Pipeline] { (build)
[Pipeline] sh
[second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA] Running shell script
+ mvn --version
Apache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-10T16:41:47+00:00)
Maven home: /usr/share/maven
Java version: 1.8.0_121, vendor: Oracle Corporation
Java home: /usr/lib/jvm/java-8-openjdk-amd64/jre
Default locale: en, platform encoding: UTF-8
OS name: "linux", version: "4.11.12-100.fc24.x86_64", arch: "amd64", family: "unix"
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
$ docker stop --time=1 157b0011038e8f53b2a061f84bed5e540431b1c699f63a3a1c56d13a12c98e1b
$ docker rm -f 157b0011038e8f53b2a061f84bed5e540431b1c699f63a3a1c56d13a12c98e1b
[Pipeline] // withDockerContainer
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
Finished: SUCCESS

/ 13	. 

/ we maken een nieuwe branch, maar dan is $ git push niet voldoende:

[eric@almond second]$ git checkout master
Switched to branch 'master'
Your branch is up-to-date with 'origin/master'.
[eric@almond second]$ git checkout -b another
Switched to a new branch 'another'
[eric@almond second]$ ls
Jenkinsfile  root.sh
[eric@almond second]$ vi another.sh
echo "another"
[eric@almond second]$ chmod u+x another.sh 
[eric@almond second]$ git add another.sh
[eric@almond second]$ git commit -m "added another.sh"
[another a0f4869] added another.sh
 1 file changed, 1 insertion(+)
 create mode 100755 another.sh
[eric@almond second]$ git push
fatal: The current branch another has no upstream branch.

To push the current branch and set the remote as upstream, use

    git push --set-upstream origin another

[eric@almond second]$ git push --set-upstream origin another
Username for 'https://github.com': ericjvandervelden@gmail.com
Password for 'https://ericjvandervelden@gmail.com@github.com': 
Counting objects: 3, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (2/2), done.
Writing objects: 100% (3/3), 347 bytes | 0 bytes/s, done.
Total 3 (delta 0), reused 0 (delta 0)
To https://github.com/ericjvandervelden/second.git
 * [new branch]      another -> another
Branch another set up to track remote branch another from origin.

To push the current branch and set the remote as upstream, use

    git push --set-upstream origin another

/ we zien niets in Jenkins	,
/ TODO

https://jenkins.io/doc/pipeline/tour/hello-world/
After you have setup your Pipeline, Jenkins will automatically detect any new Branches or Pull Requests that are created in your repository and start running Pipelines for them.
/ TODO ( zien we niet)	,

/ 13	. 

/ op github	,

/ we hebben een pull request van another naar master, merge , OK	, master heeft nu ook another	,

/ pull request: wants to merge 4 commits into master from sibling
This branch has conflicts that must be resolved
/ we hebben de conflict resolved, manually edited Jenkinsfile,
/ na merge delete we de sibling branch	,

/ 13	. 

/ Hoe sync met /home/eric/Devel/Git/sub/second?

/ google,	
git deleted branches on remote how to sync
/ lees	,
https://stackoverflow.com/questions/5751582/fetch-from-origin-with-deleted-remote-branches
https://stackoverflow.com/questions/7726949/remove-local-branches-no-longer-on-remote

[eric@almond second]$  git pull --prune 
From https://github.com/ericjvandervelden/second
 x [deleted]         (none)     -> origin/another
 x [deleted]         (none)     -> origin/sibling
remote: Counting objects: 5, done.
remote: Compressing objects: 100% (5/5), done.
remote: Total 5 (delta 1), reused 0 (delta 0), pack-reused 0
Unpacking objects: 100% (5/5), done.
   529af37..dd132e9  master     -> origin/master
Your configuration specifies to merge with the ref 'refs/heads/another'
from the remote, but no such ref was fetched.

[eric@almond second]$ git branch -a
* another
  child
  master
  sibling
  remotes/origin/HEAD -> origin/master
  remotes/origin/child
  remotes/origin/master
/ we zien dat local niet klopt	,
/ TODO

/ we gaan verder	, 
/ op github we merge child	, maar geen conficts	,
/ we hebben alleen master	,

/ dan doen we locally,
[eric@almond second]$ git remote prune origin 
Pruning origin
/ Is dit =
[eric@almond second]$ git pull --prune 
Already up-to-date.

URL: https://github.com/ericjvandervelden/second.git
 * [pruned] origin/child
[eric@almond second]$ git branch -a
* another
  child
  master
  sibling
  remotes/origin/HEAD -> origin/master
  remotes/origin/master
[eric@almond second]$ git branch --merged 
* another
  master
[eric@almond second]$ git branch -d another 
error: Cannot delete the branch 'another' which you are currently on.
[eric@almond second]$ git checkout master 
Switched to branch 'master'
Your branch is behind 'origin/master' by 8 commits, and can be fast-forwarded.
  (use "git pull" to update your local branch)
[eric@almond second]$ git pull
remote: Counting objects: 1, done.
remote: Total 1 (delta 0), reused 0 (delta 0), pack-reused 0
Unpacking objects: 100% (1/1), done.
From https://github.com/ericjvandervelden/second
   dd132e9..ae4cd5c  master     -> origin/master
Updating 529af37..ae4cd5c
Fast-forward
 Jenkinsfile | 1 -
 another.sh  | 1 +
 child.sh    | 1 +
 sibling.sh  | 1 +
 4 files changed, 3 insertions(+), 1 deletion(-)
 create mode 100755 another.sh
 create mode 100755 child.sh
 create mode 100755 sibling.sh
[eric@almond second]$ ls
another.sh  child.sh  Jenkinsfile  root.sh  sibling.sh
[eric@almond second]$ git branch --merged
  another
  child
* master
  sibling
/ eerst toonde hij alleen 
another
*master
/ maar WH omdat we 
$ git pull 
/ na
$ git remote prune origin
/ of omdat we 
$ git pull  --prune
/ 
/ hebben gedaan toont hij ze allemaal	,

[eric@almond second]$ git branch -d another child sibling 
Deleted branch another (was a0f4869).
Deleted branch child (was bb85fe9).
Deleted branch sibling (was c0e3c98).

/ google	,
git push username password command line
/ lees	over git push zonder username, password,
https://stackoverflow.com/questions/6565357/git-push-requires-username-and-password/14417827


[eric@almond second]$ vi Jenkinsfile
pipeline {
    agent { docker 'maven:3.3.9' }
    stages {
        stage('build') {
            steps {
                sh 'mvn --version'
								sh ' echo "Hello World"'
								sh '''
										echo "Multiline shell steps work too"
										ls -alh
								'''
            }
        }
    }
}
[eric@almond second]$ git add Jenkinsfile 
[eric@almond second]$ git commit -m "multiline Jenkinsfile"  
[eric@almond second]$ git push
Username for 'https://github.com': ericjvandervelden@gmail.com
Password for 'https://ericjvandervelden@gmail.com@github.com': 
Counting objects: 3, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 455 bytes | 0 bytes/s, done.
Total 3 (delta 1), reused 0 (delta 0)
remote: Resolving deltas: 100% (1/1), completed with 1 local object.
To https://github.com/ericjvandervelden/second.git
   ae4cd5c..aa40040  master -> master

/ ga naar	,
http://localhost:8080/job/second/job/master/
/ click Build now,
/ we zien blauw icon naast #7	, click blauw icon	,

Started by user Eric J. Van der Velden
 > git rev-parse --is-inside-work-tree # timeout=10
Setting origin to https://github.com/ericjvandervelden/second.git
 > git config remote.origin.url https://github.com/ericjvandervelden/second.git # timeout=10
Fetching origin...
Fetching upstream changes from origin
 > git --version # timeout=10
using GIT_ASKPASS to set credentials 
 > git fetch --tags --progress origin +refs/heads/*:refs/remotes/origin/*
Seen branch in repository origin/master
Seen 1 remote branch
Obtained Jenkinsfile from 4162f754b9ebac0a76562e300bca3372b309baf5
[Pipeline] node
Running on Jenkins in /home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
 > git rev-parse --is-inside-work-tree # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/ericjvandervelden/second.git # timeout=10
Fetching without tags
Fetching upstream changes from https://github.com/ericjvandervelden/second.git
 > git --version # timeout=10
using GIT_ASKPASS to set credentials 
 > git fetch --no-tags --progress https://github.com/ericjvandervelden/second.git +refs/heads/*:refs/remotes/origin/*
Checking out Revision 4162f754b9ebac0a76562e300bca3372b309baf5 (master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 4162f754b9ebac0a76562e300bca3372b309baf5
Commit message: "multiline Jenkinsfile"
 > git rev-list --no-walk 529af3739843608731ca90927a2d9bdb41b056a3 # timeout=10
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Agent Setup)
[Pipeline] sh
[second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA] Running shell script
+ docker pull maven:3.3.9
3.3.9: Pulling from library/maven
Digest: sha256:18e8bd367c73c93e29d62571ee235e106b18bf6718aeb235c7a07840328bba71
Status: Image is up to date for maven:3.3.9
[Pipeline] }
[Pipeline] // stage
[Pipeline] sh
[second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA] Running shell script
+ docker inspect -f . maven:3.3.9
.
[Pipeline] withDockerContainer
Jenkins does not seem to be running inside a container
$ docker run -t -d -u 1000:1000 -w /home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA -v /home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA:/home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA:rw,z -v /home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA@tmp:/home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA@tmp:rw,z -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** --entrypoint cat maven:3.3.9
[Pipeline] {
[Pipeline] stage
[Pipeline] { (build)
[Pipeline] sh
[second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA] Running shell script
+ mvn --version
Apache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-10T16:41:47+00:00)
Maven home: /usr/share/maven
Java version: 1.8.0_121, vendor: Oracle Corporation
Java home: /usr/lib/jvm/java-8-openjdk-amd64/jre
Default locale: en, platform encoding: UTF-8
OS name: "linux", version: "4.11.12-100.fc24.x86_64", arch: "amd64", family: "unix"
[Pipeline] sh
[second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA] Running shell script
+ echo Hello World
Hello World
[Pipeline] sh
[second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA] Running shell script
+ echo Multiline shell steps work too
Multiline shell steps work too
+ ls -alh
total 32K
drwxrwxr-x. 3 1000 1000 4.0K Jan 26 20:58 .
drwxr-xr-x. 4 root root 4.0K Jan 26 20:58 ..
drwxrwxr-x. 8 1000 1000 4.0K Jan 26 20:58 .git
-rw-rw-r--. 1 1000 1000  297 Jan 26 20:58 Jenkinsfile
-rwxrwxr-x. 1 1000 1000   15 Jan 26 20:58 another.sh
-rwxrwxr-x. 1 1000 1000   13 Jan 26 20:58 child.sh
-rw-rw-r--. 1 1000 1000   12 Jan 21 23:13 root.sh
-rwxrwxr-x. 1 1000 1000   15 Jan 26 20:58 sibling.sh
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
$ docker stop --time=1 2b83717ffac31d0c2c1dbca11dd2113a4b74bdb08b3b147fe791eb733e13071b
$ docker rm -f 2b83717ffac31d0c2c1dbca11dd2113a4b74bdb08b3b147fe791eb733e13071b
[Pipeline] // withDockerContainer
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
Finished: SUCCESS

/ 13	. 

/ we gingen naar deze dir, en probeerden met de hand	,

$ pwd
/home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA
$ docker run -t -d -u 1000:1000 -w /home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA -v /home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA:/home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA:rw,z -v /home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA@tmp:/home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA@tmp:rw,z -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** --entrypoint cat maven:3.3.9
Unable to find image 'child.sh:latest' locally
Pulling repository docker.io/library/child.sh
docker: Error: image library/child.sh not found.
See 'docker run --help'.
/ TODO
 
/ 13. 

/ we rm docker uit Jenkinsfile	,

$ vi Jenkinsfile

pipeline {
    // agent { docker 'maven:3.3.9' }
		agent any
    stages {
        stage('build') {
            steps {
                sh 'mvn --version'
								sh ' echo "Hello World"'
								sh '''
										echo "Multiline shell steps work too"
										ls -alh
								'''
            }
        }
    }
}

[eric@almond second]$ git add Jenkinsfile 
[eric@almond second]$ git commit -m "multiline Jenkinsfile"  
[eric@almond second]$ git push
/ en in Jenkins gaan we weer naar	,
http://localhost:8080/job/second/job/master/
/ en click Build now	,
/ we click blue icon naast #8	,

/ we zien nu geen docker meer	,

Started by user Eric J. Van der Velden
 > git rev-parse --is-inside-work-tree # timeout=10
Setting origin to https://github.com/ericjvandervelden/second.git
 > git config remote.origin.url https://github.com/ericjvandervelden/second.git # timeout=10
Fetching origin...
Fetching upstream changes from origin
 > git --version # timeout=10
using GIT_ASKPASS to set credentials 
 > git fetch --tags --progress origin +refs/heads/*:refs/remotes/origin/*
Seen branch in repository origin/master
Seen 1 remote branch
Obtained Jenkinsfile from fd3ee3f04ce37df9f20c0494b492fba1dec9e172
[Pipeline] node
Running on Jenkins in /home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
 > git rev-parse --is-inside-work-tree # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/ericjvandervelden/second.git # timeout=10
Fetching without tags
Fetching upstream changes from https://github.com/ericjvandervelden/second.git
 > git --version # timeout=10
using GIT_ASKPASS to set credentials 
 > git fetch --no-tags --progress https://github.com/ericjvandervelden/second.git +refs/heads/*:refs/remotes/origin/*
Checking out Revision fd3ee3f04ce37df9f20c0494b492fba1dec9e172 (master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f fd3ee3f04ce37df9f20c0494b492fba1dec9e172
Commit message: "multiline Jenkinsfile"
 > git rev-list --no-walk 4162f754b9ebac0a76562e300bca3372b309baf5 # timeout=10
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (build)
[Pipeline] sh
[second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA] Running shell script
+ mvn --version
Apache Maven 3.3.9 (NON-CANONICAL_2016-04-07T23:15:34Z_mockbuild; 2016-04-08T01:15:34+02:00)
Maven home: /usr/share/maven
Java version: 1.8.0_141, vendor: Oracle Corporation
Java home: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.141-1.b16.fc24.x86_64/jre
Default locale: en_US, platform encoding: UTF-8
OS name: "linux", version: "4.11.12-100.fc24.x86_64", arch: "amd64", family: "unix"
[Pipeline] sh
[second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA] Running shell script
+ echo 'Hello World'
Hello World
[Pipeline] sh
[second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA] Running shell script
+ echo 'Multiline shell steps work too'
Multiline shell steps work too
+ ls -alh
total 32K
drwxrwxr-x.  3 eric eric 4.0K Jan 26 22:37 .
drwxrwxr-x. 16 eric eric 4.0K Jan 24 22:00 ..
-rwxrwxr-x.  1 eric eric   15 Jan 26 21:58 another.sh
-rwxrwxr-x.  1 eric eric   13 Jan 26 21:58 child.sh
drwxrwxr-x.  8 eric eric 4.0K Jan 26 22:37 .git
-rw-rw-r--.  1 eric eric  312 Jan 26 22:37 Jenkinsfile
-rw-rw-r--.  1 eric eric   12 Jan 22 00:13 root.sh
-rwxrwxr-x.  1 eric eric   15 Jan 26 21:58 sibling.sh
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
Finished: SUCCESS

/ 13	. 

/ als we in Jenkinsfile sh	, dan wordt iedere keer een bash gestart	,

/ lees	, 
https://stackoverflow.com/questions/21063765/get-pid-in-shell-bash
/ de pid van bash is $$	, 
$ vi Jenkinsfile
pipeline {
    // agent { docker 'maven:3.3.9' }
		agent any
    stages {
        stage('build') {
            steps {
                sh 'mvn --version;echo $$'
								sh ' echo "Hello World";echo $$'
								sh '''
										echo "Multiline shell steps work too"
										ls -alh
										echo $$
								'''
            }
        }
    }
}
[eric@almond second]$ git add Jenkinsfile 
[eric@almond second]$ git commit -m "multiline Jenkinsfile"  
[eric@almond second]$ git push
/ go to,
http://localhost:8080/job/second/job/master/
Build now
/ click blue button  bij #9

/ we zien iedere keer een andere bash pid	,

Started by user Eric J. Van der Velden
 > git rev-parse --is-inside-work-tree # timeout=10
Setting origin to https://github.com/ericjvandervelden/second.git
 > git config remote.origin.url https://github.com/ericjvandervelden/second.git # timeout=10
Fetching origin...
Fetching upstream changes from origin
 > git --version # timeout=10
using GIT_ASKPASS to set credentials 
 > git fetch --tags --progress origin +refs/heads/*:refs/remotes/origin/*
Seen branch in repository origin/master
Seen 1 remote branch
Obtained Jenkinsfile from e49a0a6e7a892057ee71fb8805e41ab260e3daf2
[Pipeline] node
Running on Jenkins in /home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
 > git rev-parse --is-inside-work-tree # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/ericjvandervelden/second.git # timeout=10
Fetching without tags
Fetching upstream changes from https://github.com/ericjvandervelden/second.git
 > git --version # timeout=10
using GIT_ASKPASS to set credentials 
 > git fetch --no-tags --progress https://github.com/ericjvandervelden/second.git +refs/heads/*:refs/remotes/origin/*
Checking out Revision e49a0a6e7a892057ee71fb8805e41ab260e3daf2 (master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f e49a0a6e7a892057ee71fb8805e41ab260e3daf2
Commit message: "multiline Jenkinsfile"
 > git rev-list --no-walk fd3ee3f04ce37df9f20c0494b492fba1dec9e172 # timeout=10
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (build)
[Pipeline] sh
[second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA] Running shell script
+ mvn --version
Apache Maven 3.3.9 (NON-CANONICAL_2016-04-07T23:15:34Z_mockbuild; 2016-04-08T01:15:34+02:00)
Maven home: /usr/share/maven
Java version: 1.8.0_141, vendor: Oracle Corporation
Java home: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.141-1.b16.fc24.x86_64/jre
Default locale: en_US, platform encoding: UTF-8
OS name: "linux", version: "4.11.12-100.fc24.x86_64", arch: "amd64", family: "unix"
+ echo 13462
13462
[Pipeline] sh
[second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA] Running shell script
+ echo 'Hello World'
Hello World
+ echo 13497
13497
[Pipeline] sh
[second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA] Running shell script
+ echo 'Multiline shell steps work too'
Multiline shell steps work too
+ ls -alh
total 32K
drwxrwxr-x.  3 eric eric 4.0K Jan 26 22:56 .
drwxrwxr-x. 16 eric eric 4.0K Jan 24 22:00 ..
-rwxrwxr-x.  1 eric eric   15 Jan 26 21:58 another.sh
-rwxrwxr-x.  1 eric eric   13 Jan 26 21:58 child.sh
drwxrwxr-x.  8 eric eric 4.0K Jan 26 22:56 .git
-rw-rw-r--.  1 eric eric  346 Jan 26 22:56 Jenkinsfile
-rw-rw-r--.  1 eric eric   12 Jan 22 00:13 root.sh
-rwxrwxr-x.  1 eric eric   15 Jan 26 21:58 sibling.sh
+ echo 13505
13505
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
Finished: SUCCESS

/ 13	. 

/ we willen push met ssh	, anders steeds username, password geven	,

/ google,
git push ssh
/ lees	,
https://stackoverflow.com/questions/14762034/push-to-github-without-password-using-ssh-key
->
http://www.w3docs.com/snippets/git/how-to-generate-ssh-key-for-git.html

/ click op github in project second clone or download, en kies Clone with ssh	,

[eric@almond second]$ git remote get-url origin
https://github.com/ericjvandervelden/second.git
[eric@almond second]$ git remote set-url origin git@github.com:ericjvandervelden/second.git

[eric@almond second]$ ssh-keygen -t rsa -b 4096 -C "github"
Generating public/private rsa key pair.
Enter file in which to save the key (/home/eric/.ssh/id_rsa): 
/home/eric/.ssh/id_rsa already exists.
Overwrite (y/n)? y
Enter passphrase (empty for no passphrase): 
Enter same passphrase again: 
Your identification has been saved in /home/eric/.ssh/id_rsa.
Your public key has been saved in /home/eric/.ssh/id_rsa.pub.
The key fingerprint is:
SHA256:z2vwpW5kq0MztT4KiBAzdHRor8RAiJKOb3438dkPglM github
The key's randomart image is:
+---[RSA 4096]----+
|++.o..           |
|*..o.            |
|B + .            |
|.= o .    .      |
|... .   E. .     |
| .oo ..o=o+ .    |
| o. . ++.@++     |
|  . . oo+.Xo     |
|   . . .oBoo.    |
+----[SHA256]-----+

[eric@almond second]$ eval "$(ssh-agent -s)"
Agent pid 20562
[eric@almond second]$ ssh-add ~/.ssh/id_rsa
Identity added: /home/eric/.ssh/id_rsa (/home/eric/.ssh/id_rsa)

/ Intermezzo

/ google
ssh-agent list keys
/ lees	,
https://unix.stackexchange.com/questions/58969/how-to-list-keys-added-to-ssh-agent-with-ssh-add

[eric@almond second]$ ssh-add -l
4096 SHA256:z2vwpW5kq0MztT4KiBAzdHRor8RAiJKOb3438dkPglM /home/eric/.ssh/id_rsa (RSA)
[eric@almond second]$ ssh-add -L
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCxVPRl7UUVh9PXPf/KjSxx75jZraWmlqIBr+kFfh5aAGHNuwLPQ0gBROrpmHMbHcmnGoBA28UQi4LlSQreg97l2GDqVoHp5GENE5H0aSpu/iB2/AWWM33hMmQ/zkksDzB5T6yUhO5R5tDDtKhb8gAjmEiFQ0j4Zk3xu0sF6mHyLCQEomPS+W5LdWD8tHbHoFTZ0H/JgOO1hbQfsDKzntJqBQI4CdXb9UMfjTlne+9ZjBw2ST4jUd6K6iBHCZxbgs52NHh7MJQGLGZqFGHRJRzyhvXLCDrrfvZmZjrtQqdrxp53TKqrrlenQoj63QlyccOAkd1FiDpEAfGZnhUOGiodY/cDkYiJck67vJF2HdndEu700KSNNFV+dkILXQr261dO1gVtdtsRMItx9+cqbOc4YWzb8wRzf9jA9p1MVZcv/3+MBQlJXZaZ+yFaaBA8tHIoCia2/x+4+iESFVDOTJV8SN8o7B3WfQNYIA/SYenl6mwf4xb99qXZdDWAFC+kcVBt/OiUsJts2L7wl7xtcTJY2rk3Pv9w7fTpVLCLfkDViCUIUg0uc01kf9icHN5PxR5FP3ktPuknkoZSy+wmkjrtosugBcWm5i/qfrMfjAInQ74xc8Ml16l6i13muNVM1zEL4cPNmjndJs3wKR7DDhNx1bhvv8J/ZkeNzKEvzO8uzQ== /home/eric/.ssh/id_rsa

/ Einde Intermezzo

/ ga naar github, 
/ click V naast foto: click Settings
/ links in menu: SSH en GPG keys
/ er was al een key	, Delete,
/ click New SSH key
/ copy paste dus PUBLIC key	,
[eric@almond second]$ cat ~/.ssh/id_rsa.pub 
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCxVPRl7UUVh9PXPf/KjSxx75jZraWmlqIBr+kFfh5aAGHNuwLPQ0gBROrpmHMbHcmnGoBA28UQi4LlSQreg97l2GDqVoHp5GENE5H0aSpu/iB2/AWWM33hMmQ/zkksDzB5T6yUhO5R5tDDtKhb8gAjmEiFQ0j4Zk3xu0sF6mHyLCQEomPS+W5LdWD8tHbHoFTZ0H/JgOO1hbQfsDKzntJqBQI4CdXb9UMfjTlne+9ZjBw2ST4jUd6K6iBHCZxbgs52NHh7MJQGLGZqFGHRJRzyhvXLCDrrfvZmZjrtQqdrxp53TKqrrlenQoj63QlyccOAkd1FiDpEAfGZnhUOGiodY/cDkYiJck67vJF2HdndEu700KSNNFV+dkILXQr261dO1gVtdtsRMItx9+cqbOc4YWzb8wRzf9jA9p1MVZcv/3+MBQlJXZaZ+yFaaBA8tHIoCia2/x+4+iESFVDOTJV8SN8o7B3WfQNYIA/SYenl6mwf4xb99qXZdDWAFC+kcVBt/OiUsJts2L7wl7xtcTJY2rk3Pv9w7fTpVLCLfkDViCUIUg0uc01kf9icHN5PxR5FP3ktPuknkoZSy+wmkjrtosugBcWm5i/qfrMfjAInQ74xc8Ml16l6i13muNVM1zEL4cPNmjndJs3wKR7DDhNx1bhvv8J/ZkeNzKEvzO8uzQ== github
/ we moeten password vlWalnoot27 geven	, 
/ OK

/ UPDATE 20180204

/ 7	. 

[eric@almond second]$ ssh-add -l -E md5
4096 MD5:98:90:82:23:d6:cf:6f:d6:84:c4:28:ae:ff:0b:e4:4d github (RSA)
/ deze fingerprint zien we ook op github	,

/ 7	. 

/ we kunnen geen git push meer doen	,

[eric@almond second]$ ssh-add -l -E md5
1024 MD5:8b:c5:f9:56:02:69:03:3d:a1:1a:16:cc:55:01:8c:7f eric@localhost.localdomain (DSA)
2048 MD5:5a:99:fc:a2:8d:13:46:df:8c:25:ee:6e:f3:e2:eb:40 eric@almond.nuts.org (RSA)
4096 MD5:98:90:82:23:d6:cf:6f:d6:84:c4:28:ae:ff:0b:e4:4d github (RSA)
/ we zien er ineens 2 bij	,

/ google,	
ssh-agent remove key
/ lees	,
https://stackoverflow.com/questions/25464930/how-to-remove-a-ssh-key

[eric@almond second]$ ssh-add -D
All identities removed.
[eric@almond second]$ ssh-add -l
1024 SHA256:+HvtV1u5uhZH2ujgNDFGGKysj9Lxr6bdO00fuke8jBE eric@localhost.localdomain (DSA)
2048 SHA256:hVk5YH5lliSFsL4NwJkZB5k20CzRxzcN9qrR7M+hDOo eric@almond.nuts.org (RSA)
4096 SHA256:z2vwpW5kq0MztT4KiBAzdHRor8RAiJKOb3438dkPglM github (RSA)
[eric@almond second]$ ssh-add -d
Identity removed: /home/eric/.ssh/id_rsa (github)
Identity removed: /home/eric/.ssh/id_dsa (eric@localhost.localdomain)
[eric@almond second]$ ssh-add -l
1024 SHA256:+HvtV1u5uhZH2ujgNDFGGKysj9Lxr6bdO00fuke8jBE eric@localhost.localdomain (DSA)
2048 SHA256:hVk5YH5lliSFsL4NwJkZB5k20CzRxzcN9qrR7M+hDOo eric@almond.nuts.org (RSA)
4096 SHA256:z2vwpW5kq0MztT4KiBAzdHRor8RAiJKOb3438dkPglM github (RSA)

[eric@almond second]$ ssh-add ~/.ssh/id_rsa
Identity added: /home/eric/.ssh/id_rsa (/home/eric/.ssh/id_rsa)
[eric@almond second]$ git push
error: unable to read askpass response from '/usr/libexec/openssh/gnome-ssh-askpass'
/ TODO

/ 7	. 

/ restart ssh-agent	,
[eric@almond second]$ kill -9 20562
[eric@almond second]$ eval "$(ssh-agent -s)"
Agent pid 18306

[eric@almond second]$ ssh-add -l
The agent has no identities.
[eric@almond second]$ ssh-add ~/.ssh/id_rsa
Identity added: /home/eric/.ssh/id_rsa (/home/eric/.ssh/id_rsa)
[eric@almond second]$ ssh-add -l -E md5
4096 MD5:98:90:82:23:d6:cf:6f:d6:84:c4:28:ae:ff:0b:e4:4d /home/eric/.ssh/id_rsa (RSA)
[eric@almond second]$ git push
/ ERR	,

/ lees	,
https://help.github.com/articles/testing-your-ssh-connection/
[eric@almond second]$  ssh -T git@github.com
Hi ericjvandervelden! You've successfully authenticated, but GitHub does not provide shell access.

/ lees	,
https://help.github.com/articles/using-ssh-over-the-https-port/
[eric@almond second]$  ssh -T -p 443 git@ssh.github.com
The authenticity of host '[ssh.github.com]:443 ([192.30.253.123]:443)' can't be established.
RSA key fingerprint is SHA256:nThbg6kXUpJWGl7E1IGOCspRomTxdCARLviKw6E5SY8.
RSA key fingerprint is MD5:16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added '[ssh.github.com]:443,[192.30.253.123]:443' (RSA) to the list of known hosts.
Hi ericjvandervelden! You've successfully authenticated, but GitHub does not provide shell access.

/ we moeten remote origin aanpassen, van https naar ssh	,

/ google
git push ssh  
///////////////////////////////////////
https://stackoverflow.com/questions/14762034/push-to-github-without-password-using-ssh-key

[eric@almond second]$ git remote show origin
* remote origin
  Fetch URL: https://github.com/ericjvandervelden/second.git
  Push  URL: https://github.com/ericjvandervelden/second.git
  HEAD branch: master
  Remote branches:
    master                      tracked
    refs/remotes/origin/child   stale (use 'git remote prune' to remove)
/ TODO
    refs/remotes/origin/sibling stale (use 'git remote prune' to remove)
/ TODO
  Local branches configured for 'git pull':
    child   merges with remote child
    master  merges with remote master
    sibling merges with remote sibling
  Local ref configured for 'git push':
    master pushes to master (fast-forwardable)
[eric@almond second]$ git remote set-url origin git@github.com:ericjvandervelden/second.git
[eric@almond second]$ git push
Counting objects: 8, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (7/7), done.
Writing objects: 100% (8/8), 934 bytes | 0 bytes/s, done.
Total 8 (delta 3), reused 0 (delta 0)
remote: Resolving deltas: 100% (3/3), completed with 2 local objects.
To git@github.com:ericjvandervelden/second.git
   2ee8a89..6399d94  master -> master
/ OK


/ Einde UPDATE 20180204

/ 20180427

/ 7	.			

/ 'Create your first pipeline' is ~/Devel/Git/third	,

/ 13	. 

[eric@almond Git]$ mkdir third
[eric@almond Git]$ cd third/
[eric@almond third]$ vi Jenkinsfile
[eric@almond third]$ git add Jenkinsfile 
[eric@almond third]$ git commit -m "add Jenkinsfile" 

/ we hadden een first.sh en added to repo, maar we willen hem rm	,
/ we moeten de rm ook commit:
[eric@almond third]$ git rm first.sh 
rm 'first.sh'
[eric@almond third]$ git status
On branch master
Changes to be committed:
  (use "git reset HEAD <file>..." to unstage)

	deleted:    first.sh

[eric@almond third]$ git commit -m "removed first.sh"
[master 2363313] removed first.sh
 1 file changed, 1 deletion(-)
 delete mode 100644 first.sh
[eric@almond third]$ git status
nothing to commit, working tree clean

/ 13	. 

/ In Jenkins	,
New Item
/ wat we hieronder gaan doen, kun je later altijd aanpassen onder Configure	,

Name: third
Git repository: /home/eric/Devel/Git/third
Behaviors: discover branches

Scan multibranch pipeline triggers
periodically if not otherwise run: check
Interval: 1 minute

[eric@almond third]$ git checkout -b sibling
Switched to a new branch 'sibling'
[eric@almond third]$ ls
first.sh  Jenkinsfile
[eric@almond third]$ vi second.sh
[eric@almond third]$ git add second.sh 
[eric@almond third]$ git commit  -m "add second.sh"
[sibling 583fec5] add second.sh
 1 file changed, 1 insertion(+)
 create mode 100644 second.sh

/ we zien dat Jenkins in 'Scan multibranch pipeline log' deze commit ziet

/ telkens als we een commit doen	, zien we de actie van Jenkins	, 
/ niet alleen als we een nieuwe branch create	, terwijl we dat wel gekozen hebben in Configure	, 'Discover branches'	,
/ TODO

/als we in third zijn, kunnen we links bijv Configure kiezen maar we kunnen ook op een branch klik	, bijv other	, 
http://localhost:8080/job/third/job/other/
/ klik onder 'Build history' op #2	, 
/ we zien links 'Console output'	, 

/ 7	. 

/ 'running multiple steps'  is ~/Devel/Git/fourth

/ 13	. 

[eric@almond Git]$ mkdir fourth
[eric@almond Git]$ cd fourth/
[eric@almond fourth]$ git init
Initialized empty Git repository in /home/eric/Devel/Git/fourth/.git/

/ In Jenkins	,
/ New Item, 
Name: fourth	,
Branch sources
Git
project repository: /home/eric/Devel/Git/fourth
Behaviors: discover branches
Scan Multibranch Pipeline Triggers
Periodically if not otherwise run: check
	1 minute
Save

/ we maken verschillende branches, en files er in	, die we in git add & commit	, 
/ we zien in de Jenkins workspace voor elke branch een git repo	, zonder een branch	,

[eric@almond fourth]$ pwd
/home/eric/Devel/Git/fourth
[eric@almond fourth]$ git branch -a
  another
  child
* master
  other
  sibling

[eric@almond fourth]$ pwd
/home/eric/Devel/Git/fourth
[eric@almond fourth]$ git checkout other
Switched to branch 'other'
[eric@almond fourth]$ ls
first.sh  Jenkinsfile  second.sh  third.sh

[eric@almond workspace]$ ls
fourth_another-3PLTUTK3NPJVESKOS7VLEG63WQP6EURT63DTEKTHBARVXNASISTA
fourth_another-3PLTUTK3NPJVESKOS7VLEG63WQP6EURT63DTEKTHBARVXNASISTA@tmp
fourth_child-QQZTF3LNPXS7WLM4AOR33FBDK4WWLYZNZYYNG24KHWFYAXL5H4EQ
fourth_child-QQZTF3LNPXS7WLM4AOR33FBDK4WWLYZNZYYNG24KHWFYAXL5H4EQ@tmp
fourth_master-Y6M4SC77ALZVS6CIVUWBKGQLIQRWQHDPY57VNEO6H77VP6Q26UHQ
fourth_master-Y6M4SC77ALZVS6CIVUWBKGQLIQRWQHDPY57VNEO6H77VP6Q26UHQ@tmp
fourth_other-FB37YTUQ4JI2K7EMCYHWJCTQAXL3I34BPA57MTGRW6P3ACEISDHQ
fourth_other-FB37YTUQ4JI2K7EMCYHWJCTQAXL3I34BPA57MTGRW6P3ACEISDHQ@tmp
fourth_sibling-G73BIO3PBZMOCTMULATBXKVT57WJETNN7VJHWQMU6OHLBREWHNHQ
fourth_sibling-G73BIO3PBZMOCTMULATBXKVT57WJETNN7VJHWQMU6OHLBREWHNHQ@tmp

[eric@almond workspace]$ ls fourth_other-FB37YTUQ4JI2K7EMCYHWJCTQAXL3I34BPA57MTGRW6P3ACEISDHQ
first.sh  Jenkinsfile  second.sh  third.sh

[eric@almond workspace]$ ls fourth_other-FB37YTUQ4JI2K7EMCYHWJCTQAXL3I34BPA57MTGRW6P3ACEISDHQ@tmp/
/ NIETS	,

/ 13	. 

/ we hadden	,

[eric@almond fourth]$ cat Jenkinsfile 
pipeline {
    agent any 
    stages {
        stage('build') {
            steps {
                sh 'echo "Hello World"'
								sh '''
										echo "Multiline also works"
										ls -alh
								'''
            }
        }
    }
}

/ MORGEN Jenkinsfile edit en opnieuw incheck	,





/ Einde 20180427


/ google
git add commit
/ lees	,
https://stackoverflow.com/questions/4298960/git-add-and-commit-in-one-command
/ Lees over git config met !
/ TODO

[eric@almond second]$ git push
Counting objects: 3, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 315 bytes | 0 bytes/s, done.
Total 3 (delta 2), reused 0 (delta 0)
remote: Resolving deltas: 100% (2/2), completed with 2 local objects.
To git@github.com:ericjvandervelden/second.git
   e49a0a6..0d2e354  master -> master
/ OK
/ Zonder 
username: ericjvandervelden@gmail.com
password: vlWalnoot27

/ 13	. 

$ vi Jenkinsfile
...
[eric@almond second]$ git add Jenkinsfile ; git commit -m "Jenkinsfile"; git push
[master 7e00c28] Jenkinsfile
 1 file changed, 5 insertions(+)
Counting objects: 3, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 362 bytes | 0 bytes/s, done.
Total 3 (delta 2), reused 0 (delta 0)
remote: Resolving deltas: 100% (2/2), completed with 2 local objects.
To git@github.com:ericjvandervelden/second.git
   0d2e354..7e00c28  master -> master

/ 13	. 

/ hij doet de stages in de volgorde zoals ze in Jenkinsfile staan	, 

$ vi Jenkinsfile

[eric@almond second]$ cat Jenkinsfile 
pipeline {
    // agent { docker 'maven:3.3.9' }
		agent any
    stages {
        stage('build') {
            steps {
                sh 'mvn --version;echo $$'
								sh ' echo "Hello World";echo $$'
								sh '''
										echo "Multiline shell steps work too"
										ls -alh
										echo $$
										echo $$
								'''
            }
        }
				stage('test'){
					steps{
						sh 'echo "test"'
					}
				}
    }
}
/ eerst build, dan test	, 
/ normaal is de volgorde andersom	,

/ 13	. 

[eric@almond second]$ cp Jenkinsfile Jenkinsfile1

[eric@almond second]$ vi Jenkinsfile
pipeline {
    // agent { docker 'maven:3.3.9' }
		agent any
    stages {
        stage('deploy') {
            steps {
							retry(3){
								sh './flakey-deploy.sh'
							}
							timeout(time:3,unit:'MINUTES'){
								sh './health-check.sh'
							}
            }
        }
    }
}

[eric@almond second]$ vi flakey-deploy.sh
[eric@almond second]$ vi health-check.sh
[eric@almond second]$ git add -A ; git commit -m "Jenkinsfile"; git push[master 2566ef9] Jenkinsfile
 4 files changed, 17 insertions(+), 23 deletions(-)
 rewrite Jenkinsfile (70%)
 copy Jenkinsfile => Jenkinsfile1 (100%)
 create mode 100644 flakey-deploy.sh
 create mode 100644 health-check.sh
Counting objects: 5, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (5/5), 712 bytes | 0 bytes/s, done.
Total 5 (delta 0), reused 0 (delta 0)
To git@github.com:ericjvandervelden/second.git
   75a9040..2566ef9  master -> master

/ we zien in Jenkins rood	,
/ we zien de 3 retries	,

Started by user Eric J. Van der Velden
 > git rev-parse --is-inside-work-tree # timeout=10
Setting origin to https://github.com/ericjvandervelden/second.git
 > git config remote.origin.url https://github.com/ericjvandervelden/second.git # timeout=10
Fetching origin...
Fetching upstream changes from origin
 > git --version # timeout=10
using GIT_ASKPASS to set credentials 
 > git fetch --tags --progress origin +refs/heads/*:refs/remotes/origin/*
Seen branch in repository origin/master
Seen 1 remote branch
Obtained Jenkinsfile from e18606761e004953796d5f9b836f874e2a329487
[Pipeline] node
Running on Jenkins in /home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
 > git rev-parse --is-inside-work-tree # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/ericjvandervelden/second.git # timeout=10
Fetching without tags
Fetching upstream changes from https://github.com/ericjvandervelden/second.git
 > git --version # timeout=10
using GIT_ASKPASS to set credentials 
 > git fetch --no-tags --progress https://github.com/ericjvandervelden/second.git +refs/heads/*:refs/remotes/origin/*
Checking out Revision e18606761e004953796d5f9b836f874e2a329487 (master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f e18606761e004953796d5f9b836f874e2a329487
Commit message: "Jenkinsfile"
 > git rev-list --no-walk 75a90400f7c8b3dea9bba7f749a83120fbe69d57 # timeout=10
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (deploy)
[Pipeline] retry
[Pipeline] {
[Pipeline] sh
[second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA] Running shell script
+ ./flakey-deploy.sh
/home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA@tmp/durable-21957e02/script.sh: line 2: ./flakey-deploy.sh: Permission denied
[Pipeline] }
ERROR: script returned exit code 1
Retrying
[Pipeline] {
[Pipeline] sh
[second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA] Running shell script
+ ./flakey-deploy.sh
/home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA@tmp/durable-4337edcd/script.sh: line 2: ./flakey-deploy.sh: Permission denied
[Pipeline] }
ERROR: script returned exit code 1
Retrying
[Pipeline] {
[Pipeline] sh
[second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA] Running shell script
+ ./flakey-deploy.sh
/home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA@tmp/durable-f590348f/script.sh: line 2: ./flakey-deploy.sh: Permission denied
[Pipeline] }
[Pipeline] // retry
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
ERROR: script returned exit code 1
Finished: FAILURE

/ 13	. 

/ we moeten 
[eric@almond second]$ chmod u+x flakey-deploy.sh health-check.sh 
/ TODO 
/ Ik dacht dat er gebeurde:
$ bash ./flakey-deploy.sh
/ maar er gebeurt blijkaar	, 
$ bash
$ ./flakey-deploy

[eric@almond second]$ git add -A ; git commit -m "Jenkinsfile"; git push

/ we zien in Jenkins	,

Started by user Eric J. Van der Velden
 > git rev-parse --is-inside-work-tree # timeout=10
Setting origin to https://github.com/ericjvandervelden/second.git
 > git config remote.origin.url https://github.com/ericjvandervelden/second.git # timeout=10
Fetching origin...
Fetching upstream changes from origin
 > git --version # timeout=10
using GIT_ASKPASS to set credentials 
 > git fetch --tags --progress origin +refs/heads/*:refs/remotes/origin/*
Seen branch in repository origin/master
Seen 1 remote branch
Obtained Jenkinsfile from a2ed0c51d55fb71689687f251cf7351aee5e57cb
[Pipeline] node
Running on Jenkins in /home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
 > git rev-parse --is-inside-work-tree # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/ericjvandervelden/second.git # timeout=10
Fetching without tags
Fetching upstream changes from https://github.com/ericjvandervelden/second.git
 > git --version # timeout=10
using GIT_ASKPASS to set credentials 
 > git fetch --no-tags --progress https://github.com/ericjvandervelden/second.git +refs/heads/*:refs/remotes/origin/*
Checking out Revision a2ed0c51d55fb71689687f251cf7351aee5e57cb (master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f a2ed0c51d55fb71689687f251cf7351aee5e57cb
Commit message: "Jenkinsfile"
 > git rev-list --no-walk 70b3e70da793cda88e0cb666588080b202f3afb6 # timeout=10
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (deploy)
[Pipeline] retry
[Pipeline] {
[Pipeline] sh
[second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA] Running shell script
+ ./flakey-deploy.sh
flakey-deploy
[Pipeline] }
[Pipeline] // retry
[Pipeline] timeout
Timeout set to expire in 3 min 0 sec
[Pipeline] {
[Pipeline] sh
[second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA] Running shell script
+ ./health-check.sh
health-check
[Pipeline] }
[Pipeline] // timeout
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
Finished: SUCCESS

/ 13	. 

/ health-check is niet klaar binnen de 3 sec	, dus failure	:

$ vi health-check.sh
echo "health-check"
sleep 4 
$ vi Jenkinsfile
pipeline {
    // agent { docker 'maven:3.3.9' }
		agent any
    stages {
        stage('deploy') {
            steps {
							retry(3){
								sh './flakey-deploy.sh'
							}
							timeout(time:3,unit:'SECONDS'){
								sh './health-check.sh'
							}
            }
        }
    }
}

/ we zien in Jenkins dus rood	,

tarted by user Eric J. Van der Velden
 > git rev-parse --is-inside-work-tree # timeout=10
Setting origin to https://github.com/ericjvandervelden/second.git
 > git config remote.origin.url https://github.com/ericjvandervelden/second.git # timeout=10
Fetching origin...
Fetching upstream changes from origin
 > git --version # timeout=10
using GIT_ASKPASS to set credentials 
 > git fetch --tags --progress origin +refs/heads/*:refs/remotes/origin/*
Seen branch in repository origin/master
Seen 1 remote branch
Obtained Jenkinsfile from c73eba596b4640987377a9561fc85b2280822c0f
[Pipeline] node
Running on Jenkins in /home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
 > git rev-parse --is-inside-work-tree # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/ericjvandervelden/second.git # timeout=10
Fetching without tags
Fetching upstream changes from https://github.com/ericjvandervelden/second.git
 > git --version # timeout=10
using GIT_ASKPASS to set credentials 
 > git fetch --no-tags --progress https://github.com/ericjvandervelden/second.git +refs/heads/*:refs/remotes/origin/*
Checking out Revision c73eba596b4640987377a9561fc85b2280822c0f (master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f c73eba596b4640987377a9561fc85b2280822c0f
Commit message: "Jenkinsfile"
 > git rev-list --no-walk 5ba9bdc1b66f2e58cac32eb0f055066fd82f5e6f # timeout=10
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage

/ 13	. 

/ finishing up

$ vi Jenkinsfile

[eric@almond second]$ cat Jenkinsfile
pipeline {
    // agent { docker 'maven:3.3.9' }
		agent any
    stages {
        stage('deploy') {
            steps {
							retry(3){
								sh 'echo "Fail";exit 1'
							}
            }
        }
		}
		post{
			always{
				echo 'This will always run'
			}
			success{
				echo 'This will only if successful'
			}
			failure{
				echo 'This will run only if failed'
			}
			unstable{
				echo 'This will run only if the run was marked unstable'
			}
			changed{
				echo 'This will run only if the status of the pipeline has changed'
				echo 'for example if the pipeline was previously failing but now is successful'
			}
    }
}

/ In Jenkins moet de pipeline fail! We moeten rood zien en dat doen we ook	,

Started by user Eric J. Van der Velden
 > git rev-parse --is-inside-work-tree # timeout=10
Setting origin to https://github.com/ericjvandervelden/second.git
 > git config remote.origin.url https://github.com/ericjvandervelden/second.git # timeout=10
Fetching origin...
Fetching upstream changes from origin
 > git --version # timeout=10
using GIT_ASKPASS to set credentials 
 > git fetch --tags --progress origin +refs/heads/*:refs/remotes/origin/*
Seen branch in repository origin/master
Seen 1 remote branch
Obtained Jenkinsfile from ef209e50c92399454dd535992f44f269d6fe2b62
[Pipeline] node
Running on Jenkins in /home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
 > git rev-parse --is-inside-work-tree # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/ericjvandervelden/second.git # timeout=10
Fetching without tags
Fetching upstream changes from https://github.com/ericjvandervelden/second.git
 > git --version # timeout=10
using GIT_ASKPASS to set credentials 
 > git fetch --no-tags --progress https://github.com/ericjvandervelden/second.git +refs/heads/*:refs/remotes/origin/*
Checking out Revision ef209e50c92399454dd535992f44f269d6fe2b62 (master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f ef209e50c92399454dd535992f44f269d6fe2b62
Commit message: "Jenkinsfile"
 > git rev-list --no-walk f623eb0c97ef24544d8edf4ac6d06a7097e0970f # timeout=10
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (deploy)
[Pipeline] retry
[Pipeline] {
[Pipeline] sh
[second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA] Running shell script
+ echo Fail
Fail
+ exit 1
[Pipeline] }
ERROR: script returned exit code 1
Retrying
[Pipeline] {
[Pipeline] sh
[second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA] Running shell script
+ echo Fail
Fail
+ exit 1
[Pipeline] }
ERROR: script returned exit code 1
Retrying
[Pipeline] {
[Pipeline] sh
[second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA] Running shell script
+ echo Fail
Fail
+ exit 1
[Pipeline] }
[Pipeline] // retry
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Declarative: Post Actions)
[Pipeline] echo
This will always run
[Pipeline] echo
This will run only if the status of the pipeline has changed
[Pipeline] echo
for example if the pipeline was previously failing but now is successful
[Pipeline] echo
This will run only if failed
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
ERROR: script returned exit code 1
Finished: FAILURE

/ we laten nu exit 0:
$ vi Jenkinsfile

pipeline {
    // agent { docker 'maven:3.3.9' }
		agent any
    stages {
        stage('deploy') {
            steps {
							retry(3){
								sh 'echo "Fail";exit 0'
							}
            }
        }
		}
		post{
			always{
				echo 'This will always run'
			}
			success{
				echo 'This will only if successful'
			}
			failure{
				echo 'This will run only if failed'
			}
			unstable{
				echo 'This will run only if the run was marked unstable'
			}
			changed{
				echo 'This will run only if the status of the pipeline has changed'
				echo 'for example if the pipeline was previously failing but now is successful'
			}
    }
}
[eric@almond second]$ 

/ Nu zien we in Jenkins blauw	,

Started by user Eric J. Van der Velden
 > git rev-parse --is-inside-work-tree # timeout=10
Setting origin to https://github.com/ericjvandervelden/second.git
 > git config remote.origin.url https://github.com/ericjvandervelden/second.git # timeout=10
Fetching origin...
Fetching upstream changes from origin
 > git --version # timeout=10
using GIT_ASKPASS to set credentials 
 > git fetch --tags --progress origin +refs/heads/*:refs/remotes/origin/*
Seen branch in repository origin/master
Seen 1 remote branch
Obtained Jenkinsfile from 0a49267207784ca96e0ab92df1e222dcda62a77a
[Pipeline] node
Running on Jenkins in /home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
 > git rev-parse --is-inside-work-tree # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/ericjvandervelden/second.git # timeout=10
Fetching without tags
Fetching upstream changes from https://github.com/ericjvandervelden/second.git
 > git --version # timeout=10
using GIT_ASKPASS to set credentials 
 > git fetch --no-tags --progress https://github.com/ericjvandervelden/second.git +refs/heads/*:refs/remotes/origin/*
Checking out Revision 0a49267207784ca96e0ab92df1e222dcda62a77a (master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 0a49267207784ca96e0ab92df1e222dcda62a77a
Commit message: "Jenkinsfile"
 > git rev-list --no-walk ef209e50c92399454dd535992f44f269d6fe2b62 # timeout=10
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (deploy)
[Pipeline] retry
[Pipeline] {
[Pipeline] sh
[second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA] Running shell script
+ echo Fail
Fail
+ exit 0
[Pipeline] }
[Pipeline] // retry
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Declarative: Post Actions)
[Pipeline] echo
This will always run
[Pipeline] echo
This will run only if the status of the pipeline has changed
[Pipeline] echo
for example if the pipeline was previously failing but now is successful
[Pipeline] echo
This will only if successful
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
Finished: SUCCESS

/ 7	. 

Defining execution environments 

[eric@almond second]$ cp Jenkinsfile Jenkinsfile3

$ vi Jenkinsfile
pipeline {
	agent { 
		docker {
			image 'node:7-alpine' 
		}
	}
	stages {
		stage('test') {
   		steps {
				sh 'node --version'
			}
    }
  }
}

/ In Jenkins, na 'build now'

Started by user Eric J. Van der Velden
 > git rev-parse --is-inside-work-tree # timeout=10
Setting origin to https://github.com/ericjvandervelden/second.git
 > git config remote.origin.url https://github.com/ericjvandervelden/second.git # timeout=10
Fetching origin...
Fetching upstream changes from origin
 > git --version # timeout=10
using GIT_ASKPASS to set credentials 
 > git fetch --tags --progress origin +refs/heads/*:refs/remotes/origin/*
Seen branch in repository origin/master
Seen 1 remote branch
Obtained Jenkinsfile from 079c61d3d125fa9519d27161272eb3505c45126f
[Pipeline] node
Running on Jenkins in /home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
 > git rev-parse --is-inside-work-tree # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/ericjvandervelden/second.git # timeout=10
Fetching without tags
Fetching upstream changes from https://github.com/ericjvandervelden/second.git
 > git --version # timeout=10
using GIT_ASKPASS to set credentials 
 > git fetch --no-tags --progress https://github.com/ericjvandervelden/second.git +refs/heads/*:refs/remotes/origin/*
Checking out Revision 079c61d3d125fa9519d27161272eb3505c45126f (master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 079c61d3d125fa9519d27161272eb3505c45126f
Commit message: "Jenkinsfile"
 > git rev-list --no-walk 0a49267207784ca96e0ab92df1e222dcda62a77a # timeout=10
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Agent Setup)
[Pipeline] sh
[second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA] Running shell script
+ docker pull node:7-alpine
7-alpine: Pulling from library/node
90f4dba627d6: Pulling fs layer
1e674d353187: Pulling fs layer
d3a64c0f885a: Pulling fs layer
d3a64c0f885a: Verifying Checksum
d3a64c0f885a: Download complete
90f4dba627d6: Download complete
90f4dba627d6: Pull complete
90f4dba627d6: Pull complete
1e674d353187: Download complete
1e674d353187: Pull complete
1e674d353187: Pull complete
d3a64c0f885a: Pull complete
d3a64c0f885a: Pull complete
Digest: sha256:4954ce53247180e207772f936223b11d52a7e4ee712dfe73fe2a75e39f785067
Status: Downloaded newer image for node:7-alpine
[Pipeline] }
[Pipeline] // stage
[Pipeline] sh
[second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA] Running shell script
+ docker inspect -f . node:7-alpine
.
[Pipeline] withDockerContainer
Jenkins does not seem to be running inside a container
$ docker run -t -d -u 1000:1000 -w /home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA -v /home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA:/home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA:rw,z -v /home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA@tmp:/home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA@tmp:rw,z -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** --entrypoint cat node:7-alpine
[Pipeline] {
[Pipeline] stage
[Pipeline] { (test)
[Pipeline] sh
[second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA] Running shell script
+ node --version
v7.10.1
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
$ docker stop --time=1 8009945890b0cd7344a6b2b4037533209d338da3c3ecd65c696d27180c404b2a
$ docker rm -f 8009945890b0cd7344a6b2b4037533209d338da3c3ecd65c696d27180c404b2a
[Pipeline] // withDockerContainer
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
Finished: SUCCESS

[eric@almond second]$ cp Jenkinsfile Jenkinsfile4


/ 13	 .

Using environment variables 

$ vi Jenkinsfile

pipeline {
	agent any
	environment{
		DISABLE_AUTH='true'
		DB_ENGINE='sqlite'
	}
	stages {
		stage('test') {
   		steps {
				sh 'printenv'
			}
    }
  }
}
[eric@almond second]$ git add -A ; git commit -m "Jenkinsfile"; git push

/ we zien in Jenkins naast de 2 env var's hierboven verschillende HUDSON en JENKINS env var's	, 

Started by user Eric J. Van der Velden
 > git rev-parse --is-inside-work-tree # timeout=10
Setting origin to https://github.com/ericjvandervelden/second.git
 > git config remote.origin.url https://github.com/ericjvandervelden/second.git # timeout=10
Fetching origin...
Fetching upstream changes from origin
 > git --version # timeout=10
using GIT_ASKPASS to set credentials 
 > git fetch --tags --progress origin +refs/heads/*:refs/remotes/origin/*
Seen branch in repository origin/master
Seen 1 remote branch
Obtained Jenkinsfile from 752f5feadf6a81e53a2c563cdfc5d640fac8b86d
[Pipeline] node
Running on Jenkins in /home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
 > git rev-parse --is-inside-work-tree # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/ericjvandervelden/second.git # timeout=10
Fetching without tags
Fetching upstream changes from https://github.com/ericjvandervelden/second.git
 > git --version # timeout=10
using GIT_ASKPASS to set credentials 
 > git fetch --no-tags --progress https://github.com/ericjvandervelden/second.git +refs/heads/*:refs/remotes/origin/*
Checking out Revision 752f5feadf6a81e53a2c563cdfc5d640fac8b86d (master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 752f5feadf6a81e53a2c563cdfc5d640fac8b86d
Commit message: "Jenkinsfile"
 > git rev-list --no-walk 079c61d3d125fa9519d27161272eb3505c45126f # timeout=10
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (test)
[Pipeline] sh
[second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA] Running shell script
+ printenv
XDG_VTNR=2
DISABLE_AUTH=true
JENKINS_NODE_COOKIE=71340018-c3c0-4437-9b53-04a352823501
XDG_SESSION_ID=2
HOSTNAME=almond.nuts.org
SHELL=/bin/bash
TERM=xterm-256color
HUDSON_SERVER_COOKIE=fb14c47355223e94
XDG_MENU_PREFIX=gnome-
VTE_VERSION=4403
HISTSIZE=1000
STAGE_NAME=test
BUILD_TAG=jenkins-second-master-30
GRADLE_HOME=/home/eric/.sdkman/candidates/gradle/current
GJS_DEBUG_OUTPUT=stderr
BRANCH_NAME=master
WINDOWID=23071865
DB_ENGINE=sqlite
GIT_PREVIOUS_COMMIT=079c61d3d125fa9519d27161272eb3505c45126f
QTDIR=/usr/lib64/qt-3.3
GJS_DEBUG_TOPICS=JS ERROR;JS LOG
QTINC=/usr/lib64/qt-3.3/include
SDKMAN_PLATFORM=Linux
SDKMAN_CURRENT_API=https://api.sdkman.io/2
WORKSPACE=/home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA
RUN_CHANGES_DISPLAY_URL=http://unconfigured-jenkins-location/job/second/job/master/30/display/redirect?page=changes
NVM_DIR=/home/eric/.nvm
USER=eric
LS_COLORS=rs=0:di=38;5;33:ln=38;5;51:mh=00:pi=40;38;5;11:so=38;5;13:do=38;5;5:bd=48;5;232;38;5;11:cd=48;5;232;38;5;3:or=48;5;232;38;5;9:mi=01;05;37;41:su=48;5;196;38;5;15:sg=48;5;11;38;5;16:ca=48;5;196;38;5;226:tw=48;5;10;38;5;16:ow=48;5;10;38;5;21:st=48;5;21;38;5;15:ex=38;5;40:*.tar=38;5;9:*.tgz=38;5;9:*.arc=38;5;9:*.arj=38;5;9:*.taz=38;5;9:*.lha=38;5;9:*.lz4=38;5;9:*.lzh=38;5;9:*.lzma=38;5;9:*.tlz=38;5;9:*.txz=38;5;9:*.tzo=38;5;9:*.t7z=38;5;9:*.zip=38;5;9:*.z=38;5;9:*.Z=38;5;9:*.dz=38;5;9:*.gz=38;5;9:*.lrz=38;5;9:*.lz=38;5;9:*.lzo=38;5;9:*.xz=38;5;9:*.bz2=38;5;9:*.bz=38;5;9:*.tbz=38;5;9:*.tbz2=38;5;9:*.tz=38;5;9:*.deb=38;5;9:*.rpm=38;5;9:*.jar=38;5;9:*.war=38;5;9:*.ear=38;5;9:*.sar=38;5;9:*.rar=38;5;9:*.alz=38;5;9:*.ace=38;5;9:*.zoo=38;5;9:*.cpio=38;5;9:*.7z=38;5;9:*.rz=38;5;9:*.cab=38;5;9:*.jpg=38;5;13:*.jpeg=38;5;13:*.gif=38;5;13:*.bmp=38;5;13:*.pbm=38;5;13:*.pgm=38;5;13:*.ppm=38;5;13:*.tga=38;5;13:*.xbm=38;5;13:*.xpm=38;5;13:*.tif=38;5;13:*.tiff=38;5;13:*.png=38;5;13:*.svg=38;5;13:*.svgz=38;5;13:*.mng=38;5;13:*.pcx=38;5;13:*.mov=38;5;13:*.mpg=38;5;13:*.mpeg=38;5;13:*.m2v=38;5;13:*.mkv=38;5;13:*.webm=38;5;13:*.ogm=38;5;13:*.mp4=38;5;13:*.m4v=38;5;13:*.mp4v=38;5;13:*.vob=38;5;13:*.qt=38;5;13:*.nuv=38;5;13:*.wmv=38;5;13:*.asf=38;5;13:*.rm=38;5;13:*.rmvb=38;5;13:*.flc=38;5;13:*.avi=38;5;13:*.fli=38;5;13:*.flv=38;5;13:*.gl=38;5;13:*.dl=38;5;13:*.xcf=38;5;13:*.xwd=38;5;13:*.yuv=38;5;13:*.cgm=38;5;13:*.emf=38;5;13:*.ogv=38;5;13:*.ogx=38;5;13:*.aac=38;5;45:*.au=38;5;45:*.flac=38;5;45:*.m4a=38;5;45:*.mid=38;5;45:*.midi=38;5;45:*.mka=38;5;45:*.mp3=38;5;45:*.mpc=38;5;45:*.ogg=38;5;45:*.ra=38;5;45:*.wav=38;5;45:*.oga=38;5;45:*.opus=38;5;45:*.spx=38;5;45:*.xspf=38;5;45:
SPRINGBOOT_HOME=/home/eric/.sdkman/candidates/springboot/current
SDKMAN_LEGACY_API=https://api.sdkman.io/1
SSH_AUTH_SOCK=/run/user/1000/keyring/ssh
SESSION_MANAGER=local/unix:@/tmp/.ICE-unix/1742,unix/unix:/tmp/.ICE-unix/1742
USERNAME=eric
JENKINS_HOME=/home/eric/.jenkins
GIT_COMMIT=752f5feadf6a81e53a2c563cdfc5d640fac8b86d
NLSPATH=/usr/dt/lib/nls/msg/%L/%N.cat
PATH=/home/eric/Devel/Cloud/Google/google-cloud-sdk/bin:/home/eric/.sdkman/candidates/springboot/current/bin:/home/eric/.sdkman/candidates/groovy/current/bin:/home/eric/.sdkman/candidates/gradle/current/bin:/home/eric/Devel/Cloud/Google/google-cloud-sdk/bin:/usr/lib64/qt-3.3/bin:/usr/local/bin:/usr/local/sbin:/usr/bin:/usr/sbin:/home/eric/.local/bin:/home/eric/bin:/home/eric/Devel/Cloud/Google/appengine-java-sdk-1.9.30/bin:/home/eric/Devel/openshift/openshift-origin-client-tools-v1.3.1-dad658de7465ba8a234a4fb40b5b446a45a4cee1-linux-64bit:/home/eric/Devel/Math/pari-2.9.2-build/bin
MAIL=/var/spool/mail/eric
DESKTOP_SESSION=gnome
RUN_DISPLAY_URL=http://unconfigured-jenkins-location/job/second/job/master/30/display/redirect
_=/usr/bin/printenv
QT_IM_MODULE=ibus
QT_QPA_PLATFORMTHEME=qgnomeplatform
NVM_NODEJS_ORG_MIRROR=https://nodejs.org/dist
PWD=/home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA
XDG_SESSION_TYPE=x11
XMODIFIERS=@im=ibus
LANG=en_US.UTF-8
SDKMAN_VERSION=5.5.3+194
MODULEPATH=/etc/scl/modulefiles:/etc/scl/modulefiles:/usr/share/Modules/modulefiles:/etc/modulefiles:/usr/share/modulefiles
JOB_NAME=second/master
GDM_LANG=en_US.UTF-8
BUILD_DISPLAY_NAME=#30
XFILESEARCHPATH=/usr/dt/app-defaults/%L/Dt
BUILD_ID=30
GDMSESSION=gnome
HISTCONTROL=ignoredups
SSH_ASKPASS=/usr/libexec/openssh/gnome-ssh-askpass
GIT_PREVIOUS_SUCCESSFUL_COMMIT=079c61d3d125fa9519d27161272eb3505c45126f
JOB_BASE_NAME=master
SHLVL=4
XDG_SEAT=seat0
HOME=/home/eric
GIT_BRANCH=master
GNOME_DESKTOP_SESSION_ID=this-is-deprecated
EXECUTOR_NUMBER=0
JENKINS_SERVER_COOKIE=durable-5388aa0bdb3d0a8b4df65a14e4fd337d
NODE_LABELS=master
GIT_URL=https://github.com/ericjvandervelden/second.git
LOGNAME=eric
XDG_SESSION_DESKTOP=gnome
SDKMAN_DIR=/home/eric/.sdkman
GROOVY_HOME=/home/eric/.sdkman/candidates/groovy/current
QTLIB=/usr/lib64/qt-3.3/lib
XDG_DATA_DIRS=/home/eric/.local/share/flatpak/exports/share/:/var/lib/flatpak/exports/share/:/usr/local/share/:/usr/share/
HUDSON_HOME=/home/eric/.jenkins
DBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1000/bus
NODE_NAME=master
MODULESHOME=/usr/share/Modules
LESSOPEN=||/usr/bin/lesspipe.sh %s
GOPATH=/home/eric/Devel/Golang/work2
JOB_DISPLAY_URL=http://unconfigured-jenkins-location/job/second/job/master/display/redirect
NVM_IOJS_ORG_MIRROR=https://iojs.org/dist
BUILD_NUMBER=30
SDKMAN_CANDIDATES_DIR=/home/eric/.sdkman/candidates
WINDOWPATH=2
HUDSON_COOKIE=ed470bec-d378-49af-a186-22d9246cc627
DISPLAY=:0
XDG_RUNTIME_DIR=/run/user/1000
XDG_CURRENT_DESKTOP=GNOME
XAUTHORITY=/run/user/1000/gdm/Xauthority
COLORTERM=truecolor
BASH_FUNC_module()=() {  eval `/usr/bin/modulecmd bash $*`
}
BASH_FUNC_scl()=() {  local CMD=$1;
 if [ "$CMD" = "load" -o "$CMD" = "unload" ]; then
 eval "module $@";
 else
 /usr/bin/scl "$@";
 fi
}
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
Finished: SUCCESS

/ 13	. 

Recording tests and artifacts
/ TODO

/ 13	. 

Cleaning up and notifications 

    post{
      failure{
        echo 'This will run only if failed'
        mail to:'ericjvandervelden@gmail.com',
        subject:"Failed pipeline:${currentBuild.fullDisplayName}",
        body:"Something is wrong with ${env.BUILD_URL}"
      }

/ ERR
/ mijn machine kan geen emails versturen, see LOG_system.txt

/ 13	

/ Deployment 

[eric@almond second]$ cat Jenkinsfile
pipeline {
    // agent { docker 'maven:3.3.9' }
		agent any
    stages {
        stage('deploy - staging') {
            steps {
								sh './deploy.sh staging'
								sh './run-smoke-tests.sh'
            }
        }
        stage('sanity check') {
            steps {
							 input 'Does the staging environment looks OK?'	
            }
        }
        stage('deploy - production') {
            steps {
								sh './deploy.sh production'
            }
        }
		}
}
[eric@almond second]$ git add -A ; git commit -m "Jenkinsfile"; git push

Started by user Eric J. Van der Velden
 > git rev-parse --is-inside-work-tree # timeout=10
Setting origin to https://github.com/ericjvandervelden/second.git
 > git config remote.origin.url https://github.com/ericjvandervelden/second.git # timeout=10
Fetching origin...
Fetching upstream changes from origin
 > git --version # timeout=10
using GIT_ASKPASS to set credentials 
 > git fetch --tags --progress origin +refs/heads/*:refs/remotes/origin/*
Seen branch in repository origin/master
Seen 1 remote branch
Obtained Jenkinsfile from 2ee8a892d92fa3c5a677b7598fd970f716aadbc1
[Pipeline] node
Running on Jenkins in /home/eric/.jenkins/workspace/second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA
[Pipeline] {
[Pipeline] stage
[Pipeline] { (Declarative: Checkout SCM)
[Pipeline] checkout
 > git rev-parse --is-inside-work-tree # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/ericjvandervelden/second.git # timeout=10
Fetching without tags
Fetching upstream changes from https://github.com/ericjvandervelden/second.git
 > git --version # timeout=10
using GIT_ASKPASS to set credentials 
 > git fetch --no-tags --progress https://github.com/ericjvandervelden/second.git +refs/heads/*:refs/remotes/origin/*
Checking out Revision 2ee8a892d92fa3c5a677b7598fd970f716aadbc1 (master)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 2ee8a892d92fa3c5a677b7598fd970f716aadbc1
Commit message: "Jenkinsfile"
 > git rev-list --no-walk 8f5be0472a36852c4826e9dcfaa616e1ec776272 # timeout=10
[Pipeline] }
[Pipeline] // stage
[Pipeline] withEnv
[Pipeline] {
[Pipeline] stage
[Pipeline] { (deploy - staging)
[Pipeline] sh
[second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA] Running shell script
+ ./deploy.sh staging
deploy staging
[Pipeline] sh
[second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA] Running shell script
+ ./run-smoke-tests.sh
run-smoke-tests
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (sanity check)
[Pipeline] input
Does the staging environment looks OK?
Proceed or Abort													<- click Proceed of click Abort
Approved by Eric J. Van der Velden
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (deploy - production)
[Pipeline] sh
[second_master-UBCNUDZEREB4Z35SSKUNRCRXHH5FLT6IT4PND3BHI6KH7BNN4PXA] Running shell script
+ ./deploy.sh production
deploy production
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
Finished: SUCCESS

/ 7	. 

Build a Java app with Maven 

[eric@almond locale]$ docker pull jenkinsci/blueocean
Using default tag: latest
latest: Pulling from jenkinsci/blueocean
ff3a5c916c92: Pull complete 
5de5f69f42d7: Pull complete 
fd869c8b9b59: Pull complete 
d19fbb9dd622: Pull complete 
eeb8c93b3360: Pull complete 
792974047bde: Pull complete 
49ce30b03b3c: Pull complete 
8df3a1ea6dbb: Pull complete 
6e4e12a3a1bb: Pull complete 
fa5dd1319cfb: Pull complete 
249c5fc51b38: Pull complete 
3f7b5792e206: Pull complete 
769ff7906c6e: Pull complete 
415bfd6efb26: Pull complete 
d1ada296e7dc: Pull complete 
Digest: sha256:1d0cd2dfe2d3d0577c8895385c722c13054122d7da4a13336e49121ba9c9ff4e
Status: Downloaded newer image for jenkinsci/blueocean:latest

[eric@almond locale]$ docker images | grep blue
jenkinsci/blueocean                              latest              aba16d2cdf3f        11 hours ago        404.3 MB

[eric@almond build-a-java-app-with-maven]$ pwd
/home/eric/Devel/Jenkins/tutorials/build-a-java-app-with-maven
[eric@almond build-a-java-app-with-maven]$ mkdir jenkins-data


/ we stop Jenkins	, 
[eric@almond Jenkins]$ java -jar jenkins.war -httpPort=8080
^CJan 29, 2018 9:42:50 PM winstone.Logger logInternal
INFO: JVM is terminating. Shutting down Winstone

/ want we gaan Jenkins run in een container	,

/ we rm webbase container	, 
/ TODO

/ we geven NIET -u root	,
/ In -v jenkins-data:/var/jenkins_home is jenkins-data een rel path	, tov /var/lib/docker/volumes/	, 
/ maar we zullen zien dat het path op de host is /var/lib/docker/volumes/jenkins-data/_data	  
/ TODO waar komt _data vandaan?
/ /var/jenkins_home is er altijd in de container, net als ~/.jenkins op de host, als je jenkins op de host draait. Met -v jenkins-data:/var/jenkins_home geef je aan op welke dir op host dit volume is; we waren gewend andersom: je hebt een dir op de host met content, en deze verschijnt in de container	, 

[eric@almond build-a-java-app-with-maven]$ docker run --rm --name jenkins -p 8080:8080 -v jenkins-data:/var/jenkins_home -v /var/run/docker.sock:/var/run/docker.sock -v "$HOME":/home jenkinsci/blueocean

Running from: /usr/share/jenkins/jenkins.war
webroot: EnvVars.masterEnvVars.get("JENKINS_HOME")
Jan 29, 2018 8:45:17 PM Main deleteWinstoneTempContents
WARNING: Failed to delete the temporary Winstone file /tmp/winstone/jenkins.war
Jan 29, 2018 8:45:17 PM org.eclipse.jetty.util.log.Log initialized
INFO: Logging initialized @572ms to org.eclipse.jetty.util.log.JavaUtilLog
Jan 29, 2018 8:45:17 PM winstone.Logger logInternal
INFO: Beginning extraction from war file
Jan 29, 2018 8:45:19 PM org.eclipse.jetty.server.handler.ContextHandler setContextPath
WARNING: Empty contextPath
Jan 29, 2018 8:45:19 PM org.eclipse.jetty.server.Server doStart
INFO: jetty-9.4.z-SNAPSHOT
Jan 29, 2018 8:45:19 PM org.eclipse.jetty.webapp.StandardDescriptorProcessor visitServlet
INFO: NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet
Jan 29, 2018 8:45:19 PM org.eclipse.jetty.server.session.DefaultSessionIdManager doStart
INFO: DefaultSessionIdManager workerName=node0
Jan 29, 2018 8:45:19 PM org.eclipse.jetty.server.session.DefaultSessionIdManager doStart
INFO: No SessionScavenger set, using defaults
Jan 29, 2018 8:45:19 PM org.eclipse.jetty.server.session.HouseKeeper startScavenging
INFO: Scavenging every 660000ms
Jenkins home directory: /var/jenkins_home found at: EnvVars.masterEnvVars.get("JENKINS_HOME")
Jan 29, 2018 8:45:20 PM org.eclipse.jetty.server.handler.ContextHandler doStart
INFO: Started w.@591e58fa{/,file:///var/jenkins_home/war/,AVAILABLE}{/var/jenkins_home/war}
Jan 29, 2018 8:45:20 PM org.eclipse.jetty.server.AbstractConnector doStart
INFO: Started ServerConnector@6fa590ba{HTTP/1.1,[http/1.1]}{0.0.0.0:8080}
Jan 29, 2018 8:45:20 PM org.eclipse.jetty.server.Server doStart
INFO: Started @3641ms
Jan 29, 2018 8:45:20 PM winstone.Logger logInternal
INFO: Winstone Servlet Engine v4.0 running: controlPort=disabled
Jan 29, 2018 8:45:21 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started initialization
Jan 29, 2018 8:45:22 PM hudson.ClassicPluginStrategy createClassJarFromWebInfClasses
WARNING: Created /var/jenkins_home/plugins/jsch/WEB-INF/lib/classes.jar; update plugin to a version created with a newer harness
Jan 29, 2018 8:45:23 PM jenkins.InitReactorRunner$1 onAttained
INFO: Listed all plugins
Jan 29, 2018 8:45:31 PM jenkins.InitReactorRunner$1 onAttained
INFO: Prepared all plugins
Jan 29, 2018 8:45:31 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started all plugins
Jan 29, 2018 8:45:33 PM jenkins.InitReactorRunner$1 onAttained
INFO: Augmented all extensions
Jan 29, 2018 8:45:33 PM jenkins.InitReactorRunner$1 onAttained
INFO: Loaded all jobs
Jan 29, 2018 8:45:33 PM jenkins.util.groovy.GroovyHookScript execute
INFO: Executing /var/jenkins_home/init.groovy.d/tcp-slave-agent-port.groovy
Jan 29, 2018 8:45:33 PM hudson.model.AsyncPeriodicWork$1 run
INFO: Started Download metadata
Jan 29, 2018 8:45:34 PM jenkins.slaves.DeprecatedAgentProtocolMonitor initializerCheck
WARNING: This Jenkins instance uses deprecated Remoting protocols: CLI-connect,CLI2-connect,JNLP-connect,JNLP2-connectIt may impact stability of the instance. If newer protocol versions are supported by all system components (agents, CLI and other clients), it is highly recommended to disable the deprecated protocols.
Jan 29, 2018 8:45:34 PM jenkins.InitReactorRunner$1 onAttained
INFO: Completed initialization
Jan 29, 2018 8:45:34 PM org.springframework.context.support.AbstractApplicationContext prepareRefresh
INFO: Refreshing org.springframework.web.context.support.StaticWebApplicationContext@219b266: display name [Root WebApplicationContext]; startup date [Mon Jan 29 20:45:34 GMT 2018]; root of context hierarchy
Jan 29, 2018 8:45:34 PM org.springframework.context.support.AbstractApplicationContext obtainFreshBeanFactory
INFO: Bean factory for application context [org.springframework.web.context.support.StaticWebApplicationContext@219b266]: org.springframework.beans.factory.support.DefaultListableBeanFactory@2f6c5efd
Jan 29, 2018 8:45:34 PM org.springframework.beans.factory.support.DefaultListableBeanFactory preInstantiateSingletons
INFO: Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@2f6c5efd: defining beans [authenticationManager]; root of factory hierarchy
Jan 29, 2018 8:45:35 PM org.springframework.context.support.AbstractApplicationContext prepareRefresh
INFO: Refreshing org.springframework.web.context.support.StaticWebApplicationContext@6784296b: display name [Root WebApplicationContext]; startup date [Mon Jan 29 20:45:35 GMT 2018]; root of context hierarchy
Jan 29, 2018 8:45:35 PM org.springframework.context.support.AbstractApplicationContext obtainFreshBeanFactory
INFO: Bean factory for application context [org.springframework.web.context.support.StaticWebApplicationContext@6784296b]: org.springframework.beans.factory.support.DefaultListableBeanFactory@1c549b3b
Jan 29, 2018 8:45:35 PM org.springframework.beans.factory.support.DefaultListableBeanFactory preInstantiateSingletons
INFO: Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1c549b3b: defining beans [filter,legacy]; root of factory hierarchy
Jan 29, 2018 8:45:35 PM jenkins.install.SetupWizard init
INFO: 

*************************************************************
*************************************************************
*************************************************************

Jenkins initial setup is required. An admin user has been created and a password generated.
Please use the following password to proceed to installation:

c05abbddeb624a6b9e9edfe750b64a26

This may also be found at: /var/jenkins_home/secrets/initialAdminPassword

*************************************************************
*************************************************************
*************************************************************

--> setting agent port for jnlp
Jan 29, 2018 8:45:44 PM hudson.model.UpdateSite updateData
INFO: Obtained the latest update center data file for UpdateSource default
--> setting agent port for jnlp... done
Jan 29, 2018 8:45:44 PM hudson.model.DownloadService$Downloadable load
INFO: Obtained the updated data file for hudson.tasks.Maven.MavenInstaller
Jan 29, 2018 8:45:45 PM hudson.model.UpdateSite updateData
INFO: Obtained the latest update center data file for UpdateSource default
Jan 29, 2018 8:45:45 PM hudson.WebAppMain$3 run
INFO: Jenkins is fully up and running
Jan 29, 2018 8:45:46 PM hudson.model.DownloadService$Downloadable load
INFO: Obtained the updated data file for hudson.tools.JDKInstaller
Jan 29, 2018 8:45:46 PM hudson.model.AsyncPeriodicWork$1 run
INFO: Finished Download metadata. 12,628 ms

[eric@almond build-a-java-app-with-maven]$ docker inspect jenkins
        "Mounts": [
            {
                "Name": "jenkins-data",
                "Source": "/var/lib/docker/volumes/jenkins-data/_data",
                "Destination": "/var/jenkins_home",
                "Driver": "local",
                "Mode": "z",
                "RW": true,
                "Propagation": "rprivate"
            },

[eric@almond build-a-java-app-with-maven]$ sudo  ls /var/lib/docker/volumes/jenkins-data/_data
config.xml				     jenkins.install.UpgradeWizard.state  secret.key.not-so-secret
copy_reference_file.log			     jobs				  secrets
hudson.model.UpdateCenter.xml		     logs				  updates
hudson.plugins.git.GitTool.xml		     nodeMonitors.xml			  userContent
identity.key.enc			     nodes				  users
init.groovy.d				     plugins				  war
jenkins.CLI.xml				     queue.xml.bak			  workflow-libs
jenkins.install.InstallUtil.lastExecVersion  secret.key


[eric@almond build-a-java-app-with-maven]$ docker ps -a
CONTAINER ID        IMAGE                 COMMAND                  CREATED             STATUS              PORTS                               NAMES
6763c63c3152        jenkinsci/blueocean   "/sbin/tini -- /usr/l"   2 minutes ago       Up 2 minutes        0.0.0.0:8080->8080/tcp, 50000/tcp   jenkins 

/ in de container,	
bash-4.4$ ps ajx
PID   USER     TIME   COMMAND
    1 jenkins    0:00 /sbin/tini -- /usr/local/bin/jenkins.sh
    8 jenkins    0:41 java -Duser.home=/var/jenkins_home -jar /usr/share/jenkins/jenkins.war
 2218 jenkins    0:00 bash
 2225 jenkins    0:00 ps ajx

/ op de host	,
[eric@almond locale]$ ps ajx | grep jenkins
17646  4598  4598 17646 pts/11    4598 S+    1000   0:03 vim LOG_jenkins.txt
 5915 24021 24021  5915 pts/16   24021 Sl+   1000   0:00 docker run --rm --name jenkins -p 8080:8080 -v jenkins-data:/var/jenkins_home -v /var/run/docker.sock:/var/run/docker.sock -v /home/eric:/home jenkinsci/blueocean
  959 24089 24089 24089 ?           -1 Ss    1000   0:00 /sbin/tini -- /usr/local/bin/jenkins.sh
24089 24107 24107 24089 ?           -1 Sl    1000   0:41 java -Duser.home=/var/jenkins_home -jar /usr/share/jenkins/jenkins.war
 8047 26354 26354  8047 pts/17   26354 Sl+   1000   0:00 docker exec -ti jenkins bash
14599 26389 26388 14599 pts/10   26388 R+    1000   0:00 grep --color=auto jenkins
/ we zien op de host dus ook	,
java -Duser.home=/var/jenkins_home -jar /usr/share/jenkins/jenkins.war


/ 13	. 

/ als we deze container stop	, en we doen opnieuw, dan toont hij NIET	, 

Jan 29, 2018 8:45:35 PM jenkins.install.SetupWizard init
INFO: 

*************************************************************
*************************************************************
*************************************************************

Jenkins initial setup is required. An admin user has been created and a password generated.
Please use the following password to proceed to installation:

c05abbddeb624a6b9e9edfe750b64a26

This may also be found at: /var/jenkins_home/secrets/initialAdminPassword

*************************************************************
*************************************************************
*************************************************************

/ maar we kunnen hem wel vinden	,
[eric@almond build-a-java-app-with-maven]$ docker exec -ti jenkins bash
bash-4.4$ cat /var/jenkins_home/secrets/initialAdminPassword 
c05abbddeb624a6b9e9edfe750b64a26

[root@almond ~]# rm -rf /var/lib/docker/volumes/jenkins-data/
[eric@almond build-a-java-app-with-maven]$ docker run --rm --name jenkins -p 8080:8080 -v jenkins-data:/var/jenkins_home -v /var/run/docker.sock:/var/run/docker.sock -v "$HOME":/home jenkinsci/blueocean
docker: Error response from daemon: chown /var/lib/docker/volumes/jenkins-data/_data: no such file or directory.


/ 13	. 

[eric@almond build-a-java-app-with-maven]$ docker rmi jenkinsci/blueocean
Untagged: jenkinsci/blueocean:latest
Deleted: sha256:aba16d2cdf3f64297a7e5e0341c01b160d6d497f1aa3cd030cdeffdb75b426dc
Deleted: sha256:78ac160b4a394e48a5e944603bfcd893cc897b34387968249642c1c5d78c3f8b
Deleted: sha256:fd9fdf003618e3dae419dccfe3622116845b48ef4d2a6abba9ad3f84182a13d4
Deleted: sha256:7692374983f127217a1df38e0a60020e9e1ec322ad8c9b022addab84ef4ad939
Deleted: sha256:dd011fc4a62fac62d5098a74f69335ad3ef575445ac29b1d46a29094919092a6
Deleted: sha256:3fdb9d97cd1d355db2fb40700fb3127d69308c1749ade8bfef90cd293eb3d5aa
Deleted: sha256:14b08867ff918aa7a29880412ccc7bba30bbebd2030bbda8de0377e8c1eca4ea
Deleted: sha256:c761de764d0de92d9e3065f363db139ce9705b17452c2f09a2e19590a890484c
Deleted: sha256:2b162a99c5ec799053913426fff0c03f05057d77c4f1109bc0267082a0c9257c
Deleted: sha256:03770566a2bdd9cdb6ac91523c24ff89f5099219654f38657ef1e2bfab284669
Deleted: sha256:10ac1823747e4205049feddb5fceafc6212a6670f304fe7b2f810c8d5aa50603
Deleted: sha256:c5f9b4d0062c854a54299a31978506e5cadcc0f64bc5e208c19916fea4cd39d1
Deleted: sha256:33bfefb3b807a5318d9e982afb1cfeaa1212bc03b0c2fd9bb3259084b5de3e87
Deleted: sha256:c38dc7ba147bd582e1ef1b852a92599d2f619b9530028f8eeddec2fca7e999bb
Deleted: sha256:d5b019d71f732c377963ed127e66147eee523c543695ae7a87fd4674a9ac69c1
Deleted: sha256:cd7100a72410606589a54b932cabd804a17f9ae5b42a1882bd56d263e02b6215

[eric@almond build-a-java-app-with-maven]$ rm-dangling-images.sh 
Deleted: sha256:12b523d1654164b57d502f0cb32bd3874ac6e760f57f67470df22d07d074584a
Deleted: sha256:172abd03f162ffc593cbf5202050b2fb5c487ee491293e904fe5dfb363f64caf
Deleted: sha256:afce6e557bf25e34b8d9116928e04f47dec07f43954f554e8be67c62d282492a
Deleted: sha256:d367b5219cfff3ae27df42e4feb93c1965e33badc1a74bd5a293c4a313670bd0
Deleted: sha256:a2171ad8f35875f43214cb7520774eec7693ecb30903b8c1b1ab3059708b0a87
Deleted: sha256:7cdd4ba7d89b4231821945567cc89518da45c5f7fd31f4a75f5843e919321fdc
Deleted: sha256:31a94d76060d778f148b731a3b1d902f105264a795dd3ef0be37ee8c362bac1e
Deleted: sha256:188df424f57e459f8564a27309690116d3963f6f4333e130134772e556df537b
Deleted: sha256:4eda8a415a407868643f83186f73bd4bd19b639646ed9a360162102ce0d9e510
Deleted: sha256:5861ee63fd928c90f51b33566fee47639a676e96f539947c5d5330c222c36990
Deleted: sha256:213139f9dfecc5602ff6baf6f920060e15acd15ec9ef03d22340e1722fcb3799
Deleted: sha256:cf60ced4556c34229c074eef1c8c07a67f919f60f558b46e06a9b4cd6c6e534f
Deleted: sha256:1a200e7a0d1177b91d1549c177676e9d3c12542ff2d566d98a3e216c1fd72a95
Deleted: sha256:108c8f601099ed19f85be1e49614c653d5d63379ba6028dac894ae6f88ff8519
Deleted: sha256:61dc5752431d1a933ffdecc1d9de6f3ea63b120f3c96f85fef25c81cfa4e00d0
Deleted: sha256:36b963bc29edf2443b3527c9144c2422029b4d6b9f56b1ef22e1c9db82432317
Deleted: sha256:6e988c4ce334e6159649ba9ba8391d605f840bb5c7a2d03f0dbf9d06f1b08192
Deleted: sha256:c29feffbcdf1c4711274458ae8bb3ffedd15f7808ee217dad82ed03f2d631dbc
Deleted: sha256:cc59f3df4d5de1d6943901fae841e1694b263ba077c6520dcd1eccfc756cd7a0
Deleted: sha256:1adf1a193adc82d4f9f234597d0f1745b6f633eddb8c81d53effd23d456cf558
Deleted: sha256:2bbddcfce9c99762a950e8033cee32d216eead76042efe76f8e1d6a537398df8
Deleted: sha256:19ec7b4e9940c6b2d04d505e02982dbb9f6a874a58b957eac23e298db7671ac3
Deleted: sha256:ffb0409f58771db76b7f0baf0ad1d95497effa8f49d235170238a4a9cacfcb99
Deleted: sha256:27a53ba8a34df3fbf320f4d39e653a6c180f4f31b27768413d9305a0deae80d2
Deleted: sha256:16cf7e1747c517a1379ca11f32bac8fac15418dadaa6ddd075d01c964fa0200b
Deleted: sha256:514167ef3ebbc8cfbb06c7567bdb0208c6ab2b7f5c3f8967ef88c5a2f488aa20
Deleted: sha256:cd23572e02848c5e2d803e6bf9b5baf632cfe3db5568004502c453bcca058d4c
Deleted: sha256:7ff69ed16e75a469fbfb7bb90c690faf7e67062b0ec722e3162deabea29cb836
Deleted: sha256:09669e46aeccd5c2ffb00f5a5bc3fc3502e31d9d935b8b60706939eadc47963c
Deleted: sha256:0b4d2c7c7e42f41d34d4012d5412d3e67158ba012e3373662d4c05714aeffa7f
Deleted: sha256:a2f4787a141105b07d16bc9262b99dfc1252cf00f8ffca3082a2c8be08ffd050
Deleted: sha256:786a2fd72e445001ed95417112e988314f2a5b175af14c8fb29aedfba9f6ee40
Deleted: sha256:127568c2ba73a0c512b1af606a56ff92265b2755c513ebe3c8db2f603e38c7b7
Deleted: sha256:70e4f19009267b044c3b71fc8479faf4b8886242e0ed9e62f6f98c338e588076
Deleted: sha256:04dfbcdbfa2682f29fadec8f37a4191aa6a0edbd9669b4b6e90731979772af1e
Deleted: sha256:8a1dc208819f4ef201703bb772215a9e0c8a09d2f9956b42adcd0416f09b7a5d
Deleted: sha256:af9ba2100f9abdb5f1ba8564707478ce4a1285ea226fd19c1943281264e282e6
Deleted: sha256:9679a85f91a7377f6852e840ae254d0fea3502109f7e67092eed35d311bd474b
Deleted: sha256:94b986f0669f3746c6cacee57b0063b87702b24e4584c2b10d610853f162511c
Deleted: sha256:4abd99f725379ea2e3ff59931a5d9b10dfe05e6d37e03144fa8d103475e0c4ba
Deleted: sha256:236aabf4496c4d00beaf50776c9ada5516654e280a2712ab4c8f8f1f11b943e9
Deleted: sha256:bb7bfe8c303e590182547c214309652b8740e794faa444f0f198d19881148451
Deleted: sha256:466eb3557951f60f6743a06e0ff1824a6ec822e83628875e6cf4f1062a56b284
Deleted: sha256:1ce9620a6ae1bd21683d92e18f9d3ef7eb35469ead0168f0e8ef69b47ea61772
Deleted: sha256:35b8c7bae5d57360fe2e14244d577ba4400521f5a7b00791415fd9a693295b44
Deleted: sha256:ab714899c9ec374845c93d8fb0f13a15710a161bda084bab500d27fe9f991f68
Deleted: sha256:10acf413edb4c10867742b0dec523363d4b72ee1843527c88c1f38ae79be6a99
Deleted: sha256:8dde67947a503f4ceaa31b9f590b0053c32f7d4cb5478c9ac92f142e9c57be2d
Deleted: sha256:fb0068b90721887961b9e74bb56503653c127942629607f8623c8d4403a5c1c0
Deleted: sha256:42031b4dc89eef2e84d3797bb9b5a65b21cf1ecea15ce6bb379cfa1dcfd45a82
Deleted: sha256:e6e2471b4e5ec20992b50ca37eae6e20c40ad62329f7e4a9aa474288c2d6d92b
Deleted: sha256:2bfab1e7e81811c10b5a7474f158cc53225ff098b02330aa7c6c28d3f7d3d249
Deleted: sha256:ee6dfc560b4ff0f6965d1542a021fc4dd64c8af56d303780d9b45272a9f23dc1
Deleted: sha256:61f2d8d85f9672bb2d745592e8e5b7bcb58e6950d173c00fe4f1706d641a2bd9
Deleted: sha256:21452e3dcac9b046849a6a684a21b4c19106bd6773ab543ce9947aebf079eed1
Deleted: sha256:fbcb57b1a583c8bdd3f0627e5a8714c67a8d605fa27fc1add4cb93a1bfb3cd1f
Deleted: sha256:849d878978893319b1aec4686f24eb23903be5c4319f07c8e68205ace6ca172a
Deleted: sha256:6a81feb7da58f5c13e34fe6fa254704346022376ae1ac9884884e43e968f975a
Deleted: sha256:8a12fd78bfa1090dd5082ecd04260fa535894939b3549615f059a59c2b57445c
Deleted: sha256:07880e3a3abbcca2c5116855ec81b2700ad17f299737f56cedefa66df35d25e1
Deleted: sha256:f01db0264d2651516cbc687c9889f0d9f68f3f3960419563e70c3229b1fe14c1
Deleted: sha256:f850475aa00918d5eb4a8a64bc7867002b9917074dc83309d65c74a24298c98d
Deleted: sha256:858c08267848fd3b5b1ae7e24c5cc293fd12733b6ae9236636b29a8a5a86ef81
Deleted: sha256:78e72644a52d7ee0ac46ee8bab007409fe2e6bf60ed5aa0b75db818f5561e9c0
Deleted: sha256:9eba35a8e8e6fd9198a3b9f919fe3b18a0d55f6a4097db77ed1b1cd99df1e80e
Deleted: sha256:0182b18009512afe74f58f9ec68c34a8085ae08f0bf3da34246df58da038ae44
Deleted: sha256:45a1fe2b95503a9fc4e0ba1ac75a9cfa333ce3dd8f1548323dc7c2bf18fa0e23
Deleted: sha256:00afdfdf116f4ccdafbb6158e518cbe31ee9df55321314619d55fc1026d4c3bd

/ we doen opnieuw	,
eric@almond build-a-java-app-with-maven]$ docker pull jenkinsci/blueocean
Using default tag: latest
latest: Pulling from jenkinsci/blueocean
ff3a5c916c92: Pull complete 
5de5f69f42d7: Pull complete 
fd869c8b9b59: Pull complete 
d19fbb9dd622: Pull complete 
eeb8c93b3360: Pull complete 
792974047bde: Pull complete 
49ce30b03b3c: Pull complete 
8df3a1ea6dbb: Pull complete 
6e4e12a3a1bb: Pull complete 
fa5dd1319cfb: Pull complete 
249c5fc51b38: Pull complete 
3f7b5792e206: Pull complete 
769ff7906c6e: Pull complete 
ffe90fe14f9f: Pull complete 
49cdc4611e1c: Pull complete 
Digest: sha256:8acc96962ab7559002fe47a0123bae950eebea0389c899b1007d5f01446d41b7
Status: Downloaded newer image for jenkinsci/blueocean:latest

/ Maar dit hielp niet	, 

/ 13		.

[eric@almond build-a-java-app-with-maven]$ docker rmi jenkinsci/blueocean
[eric@almond build-a-java-app-with-maven]$ rm-dangling-images.sh 
[eric@almond build-a-java-app-with-maven]$ rm-dangling-volumes.sh 
[root@almond ~]# ls -l /var/lib/docker/volumes/
total 0

[eric@almond build-a-java-app-with-maven]$ docker pull jenkinsci/blueocean
Using default tag: latest
latest: Pulling from jenkinsci/blueocean

ff3a5c916c92: Pull complete 
5de5f69f42d7: Pull complete 
fd869c8b9b59: Pull complete 
d19fbb9dd622: Pull complete 
eeb8c93b3360: Pull complete 
792974047bde: Pull complete 
49ce30b03b3c: Pull complete 
8df3a1ea6dbb: Pull complete 
6e4e12a3a1bb: Pull complete 
fa5dd1319cfb: Pull complete 
249c5fc51b38: Pull complete 
3f7b5792e206: Pull complete 
769ff7906c6e: Pull complete 
ffe90fe14f9f: Pull complete 
49cdc4611e1c: Pull complete 
Digest: sha256:8acc96962ab7559002fe47a0123bae950eebea0389c899b1007d5f01446d41b7
Status: Downloaded newer image for jenkinsci/blueocean:latest
[eric@almond build-a-java-app-with-maven]$ docker run --rm -p 8080:8080 -v jenkins-data:/var/jenkins_home -v /var/run/docker.sock:/var/run/docker.sock -v "$HOME":/home jenkinsci/blueocean
Running from: /usr/share/jenkins/jenkins.war
webroot: EnvVars.masterEnvVars.get("JENKINS_HOME")
Feb 02, 2018 11:14:14 PM Main deleteWinstoneTempContents
WARNING: Failed to delete the temporary Winstone file /tmp/winstone/jenkins.war
Feb 02, 2018 11:14:14 PM org.eclipse.jetty.util.log.Log initialized
INFO: Logging initialized @592ms to org.eclipse.jetty.util.log.JavaUtilLog
Feb 02, 2018 11:14:15 PM winstone.Logger logInternal
INFO: Beginning extraction from war file
Feb 02, 2018 11:14:16 PM org.eclipse.jetty.server.handler.ContextHandler setContextPath
WARNING: Empty contextPath
Feb 02, 2018 11:14:16 PM org.eclipse.jetty.server.Server doStart
INFO: jetty-9.4.z-SNAPSHOT
Feb 02, 2018 11:14:16 PM org.eclipse.jetty.webapp.StandardDescriptorProcessor visitServlet
INFO: NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet
Feb 02, 2018 11:14:16 PM org.eclipse.jetty.server.session.DefaultSessionIdManager doStart
INFO: DefaultSessionIdManager workerName=node0
Feb 02, 2018 11:14:16 PM org.eclipse.jetty.server.session.DefaultSessionIdManager doStart
INFO: No SessionScavenger set, using defaults
Feb 02, 2018 11:14:16 PM org.eclipse.jetty.server.session.HouseKeeper startScavenging
INFO: Scavenging every 600000ms
Jenkins home directory: /var/jenkins_home found at: EnvVars.masterEnvVars.get("JENKINS_HOME")
Feb 02, 2018 11:14:17 PM org.eclipse.jetty.server.handler.ContextHandler doStart
INFO: Started w.@591e58fa{/,file:///var/jenkins_home/war/,AVAILABLE}{/var/jenkins_home/war}
Feb 02, 2018 11:14:17 PM org.eclipse.jetty.server.AbstractConnector doStart
INFO: Started ServerConnector@6fa590ba{HTTP/1.1,[http/1.1]}{0.0.0.0:8080}
Feb 02, 2018 11:14:17 PM org.eclipse.jetty.server.Server doStart
INFO: Started @3644ms
Feb 02, 2018 11:14:17 PM winstone.Logger logInternal
INFO: Winstone Servlet Engine v4.0 running: controlPort=disabled
Feb 02, 2018 11:14:18 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started initialization
Feb 02, 2018 11:14:19 PM hudson.ClassicPluginStrategy createClassJarFromWebInfClasses
WARNING: Created /var/jenkins_home/plugins/jsch/WEB-INF/lib/classes.jar; update plugin to a version created with a newer harness
Feb 02, 2018 11:14:20 PM jenkins.InitReactorRunner$1 onAttained
INFO: Listed all plugins
Feb 02, 2018 11:14:28 PM jenkins.InitReactorRunner$1 onAttained
INFO: Prepared all plugins
Feb 02, 2018 11:14:28 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started all plugins
Feb 02, 2018 11:14:30 PM jenkins.InitReactorRunner$1 onAttained
INFO: Augmented all extensions
Feb 02, 2018 11:14:30 PM jenkins.InitReactorRunner$1 onAttained
INFO: Loaded all jobs
Feb 02, 2018 11:14:30 PM jenkins.util.groovy.GroovyHookScript execute
INFO: Executing /var/jenkins_home/init.groovy.d/tcp-slave-agent-port.groovy
Feb 02, 2018 11:14:31 PM jenkins.slaves.DeprecatedAgentProtocolMonitor initializerCheck
WARNING: This Jenkins instance uses deprecated Remoting protocols: CLI-connect,CLI2-connect,JNLP-connect,JNLP2-connectIt may impact stability of the instance. If newer protocol versions are supported by all system components (agents, CLI and other clients), it is highly recommended to disable the deprecated protocols.
Feb 02, 2018 11:14:31 PM hudson.model.AsyncPeriodicWork$1 run
INFO: Started Download metadata
Feb 02, 2018 11:14:31 PM jenkins.InitReactorRunner$1 onAttained
INFO: Completed initialization
Feb 02, 2018 11:14:32 PM org.springframework.context.support.AbstractApplicationContext prepareRefresh
INFO: Refreshing org.springframework.web.context.support.StaticWebApplicationContext@168e18f6: display name [Root WebApplicationContext]; startup date [Fri Feb 02 23:14:32 GMT 2018]; root of context hierarchy
Feb 02, 2018 11:14:32 PM org.springframework.context.support.AbstractApplicationContext obtainFreshBeanFactory
INFO: Bean factory for application context [org.springframework.web.context.support.StaticWebApplicationContext@168e18f6]: org.springframework.beans.factory.support.DefaultListableBeanFactory@3d82cdfa
Feb 02, 2018 11:14:32 PM org.springframework.beans.factory.support.DefaultListableBeanFactory preInstantiateSingletons
INFO: Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@3d82cdfa: defining beans [authenticationManager]; root of factory hierarchy
Feb 02, 2018 11:14:32 PM org.springframework.context.support.AbstractApplicationContext prepareRefresh
INFO: Refreshing org.springframework.web.context.support.StaticWebApplicationContext@2cb5ede0: display name [Root WebApplicationContext]; startup date [Fri Feb 02 23:14:32 GMT 2018]; root of context hierarchy
Feb 02, 2018 11:14:32 PM org.springframework.context.support.AbstractApplicationContext obtainFreshBeanFactory
INFO: Bean factory for application context [org.springframework.web.context.support.StaticWebApplicationContext@2cb5ede0]: org.springframework.beans.factory.support.DefaultListableBeanFactory@33331f65
Feb 02, 2018 11:14:32 PM org.springframework.beans.factory.support.DefaultListableBeanFactory preInstantiateSingletons
INFO: Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@33331f65: defining beans [filter,legacy]; root of factory hierarchy
Feb 02, 2018 11:14:32 PM jenkins.install.SetupWizard init
INFO: 

*************************************************************
*************************************************************
*************************************************************

Jenkins initial setup is required. An admin user has been created and a password generated.
Please use the following password to proceed to installation:

8f6e8e1e1875482095abba94b8f2417a

This may also be found at: /var/jenkins_home/secrets/initialAdminPassword

*************************************************************
*************************************************************
*************************************************************

--> setting agent port for jnlp
--> setting agent port for jnlp... done
Feb 02, 2018 11:14:43 PM hudson.model.UpdateSite updateData
INFO: Obtained the latest update center data file for UpdateSource default
Feb 02, 2018 11:14:43 PM hudson.WebAppMain$3 run
INFO: Jenkins is fully up and running
Feb 02, 2018 11:14:44 PM hudson.model.UpdateSite updateData
INFO: Obtained the latest update center data file for UpdateSource default
Feb 02, 2018 11:14:44 PM hudson.model.DownloadService$Downloadable load
INFO: Obtained the updated data file for hudson.tasks.Maven.MavenInstaller
Feb 02, 2018 11:14:46 PM hudson.model.DownloadService$Downloadable load
INFO: Obtained the updated data file for hudson.tools.JDKInstaller
Feb 02, 2018 11:14:46 PM hudson.model.AsyncPeriodicWork$1 run
INFO: Finished Download metadata. 14,849 ms

/ we zien de initial admin password weer	, 
/ geef 
localhost:8080
->
http://localhost:8080/login?from=%2F
/ we zien 
Unlock Jenkins
8f6e8e1e1875482095abba94b8f2417a
Continue,
Install suggested plugins

/ we zien	,

 Feb 02, 2018 11:18:54 PM org.eclipse.jetty.server.session.Session beginInvalidate
INFO: Session node0nkwlbo82ta03xw5ezfz5zmm50 already being invalidated
Feb 02, 2018 11:19:57 PM hudson.model.UpdateSite$Plugin deploy
INFO: Adding dependent install of command-launcher for plugin cloudbees-folder
Feb 02, 2018 11:19:57 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of command-launcher for plugin antisamy-markup-formatter already added, skipping
Feb 02, 2018 11:19:57 PM hudson.model.UpdateSite$Plugin deploy
INFO: Adding dependent install of bouncycastle-api for plugin antisamy-markup-formatter
Feb 02, 2018 11:19:57 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of command-launcher for plugin bouncycastle-api already added, skipping
Feb 02, 2018 11:19:57 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of command-launcher for plugin build-timeout already added, skipping
Feb 02, 2018 11:19:57 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of bouncycastle-api for plugin build-timeout already added, skipping
Feb 02, 2018 11:19:57 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of command-launcher for plugin credentials-binding already added, skipping
Feb 02, 2018 11:19:57 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of bouncycastle-api for plugin credentials-binding already added, skipping
Feb 02, 2018 11:19:57 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of command-launcher for plugin timestamper already added, skipping
Feb 02, 2018 11:19:57 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of bouncycastle-api for plugin timestamper already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of command-launcher for plugin ws-cleanup already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Adding dependent install of resource-disposer for plugin ws-cleanup
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of command-launcher for plugin resource-disposer already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of bouncycastle-api for plugin resource-disposer already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of bouncycastle-api for plugin ws-cleanup already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of command-launcher for plugin ant already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of bouncycastle-api for plugin ant already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of command-launcher for plugin gradle already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Starting the installation of Command Agent Launcher Plugin on behalf of admin
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of bouncycastle-api for plugin gradle already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Adding dependent install of pipeline-stage-view for plugin workflow-aggregator
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Adding dependent install of pipeline-rest-api for plugin pipeline-stage-view
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of command-launcher for plugin pipeline-rest-api already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of bouncycastle-api for plugin pipeline-rest-api already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Adding dependent install of handlebars for plugin pipeline-stage-view
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of command-launcher for plugin handlebars already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of bouncycastle-api for plugin handlebars already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of command-launcher for plugin pipeline-stage-view already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Adding dependent install of momentjs for plugin pipeline-stage-view
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of command-launcher for plugin momentjs already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of bouncycastle-api for plugin momentjs already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of bouncycastle-api for plugin pipeline-stage-view already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of command-launcher for plugin workflow-aggregator already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of bouncycastle-api for plugin workflow-aggregator already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of command-launcher for plugin github-branch-source already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of bouncycastle-api for plugin github-branch-source already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of command-launcher for plugin pipeline-github-lib already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of bouncycastle-api for plugin pipeline-github-lib already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of pipeline-rest-api for plugin pipeline-stage-view already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of handlebars for plugin pipeline-stage-view already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of command-launcher for plugin pipeline-stage-view already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of momentjs for plugin pipeline-stage-view already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of bouncycastle-api for plugin pipeline-stage-view already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of command-launcher for plugin git already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of bouncycastle-api for plugin git already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Adding dependent install of mapdb-api for plugin subversion
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of command-launcher for plugin mapdb-api already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of bouncycastle-api for plugin mapdb-api already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of command-launcher for plugin subversion already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of bouncycastle-api for plugin subversion already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of command-launcher for plugin ssh-slaves already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of bouncycastle-api for plugin ssh-slaves already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of command-launcher for plugin matrix-auth already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of command-launcher for plugin pam-auth already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of bouncycastle-api for plugin pam-auth already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of command-launcher for plugin ldap already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of bouncycastle-api for plugin ldap already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of command-launcher for plugin email-ext already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of bouncycastle-api for plugin email-ext already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of command-launcher for plugin mailer already added, skipping
Feb 02, 2018 11:19:58 PM hudson.model.UpdateSite$Plugin deploy
INFO: Dependent install of bouncycastle-api for plugin mailer already added, skipping
Feb 02, 2018 11:20:02 PM hudson.model.UpdateCenter$UpdateCenterConfiguration download
INFO: Downloading Command Agent Launcher Plugin
Feb 02, 2018 11:20:02 PM hudson.PluginManager dynamicLoad
INFO: Attempting to dynamic load /var/jenkins_home/plugins/command-launcher.jpi
Feb 02, 2018 11:20:02 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started initialization
Feb 02, 2018 11:20:02 PM jenkins.InitReactorRunner$1 onAttained
INFO: Listed all plugins
Feb 02, 2018 11:20:02 PM jenkins.InitReactorRunner$1 onAttained
INFO: Prepared all plugins
Feb 02, 2018 11:20:02 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started all plugins
Feb 02, 2018 11:20:02 PM jenkins.InitReactorRunner$1 onAttained
INFO: Augmented all extensions
Feb 02, 2018 11:20:02 PM jenkins.InitReactorRunner$1 onAttained
INFO: Loaded all jobs
Feb 02, 2018 11:20:02 PM jenkins.InitReactorRunner$1 onAttained
INFO: Completed initialization
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of pipeline-model-declarative-agent
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of scm-api
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of github-branch-source
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of jackson2-api
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of htmlpublisher
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of plain-credentials
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of pipeline-model-extensions
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of workflow-api
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of blueocean-events
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of workflow-basic-steps
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of cloudbees-folder
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of credentials-binding
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of workflow-cps-global-lib
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of jenkins-design-language
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of github
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of sse-gateway
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of workflow-scm-step
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of blueocean-git-pipeline
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of workflow-job
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of variant
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of jsch
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of pipeline-milestone-step
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of workflow-multibranch
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of workflow-step-api
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of workflow-cps
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of pipeline-stage-step
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of blueocean-jira
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of blueocean-autofavorite
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of jira
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of blueocean-config
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of pipeline-model-api
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of blueocean-personalization
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of mailer
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of pipeline-build-step
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of blueocean
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of docker-workflow
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of authentication-tokens
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of favorite
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of handy-uri-templates-2-api
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of credentials
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of git
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of blueocean-dashboard
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of workflow-support
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of display-url-api
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of blueocean-rest-impl
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of blueocean-pipeline-editor
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of junit
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of blueocean-core-js
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of matrix-auth
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of ace-editor
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of blueocean-jwt
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of cloudbees-bitbucket-branch-source
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of docker-commons
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of durable-task
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of pipeline-model-definition
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of pipeline-input-step
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of antisamy-markup-formatter
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of blueocean-i18n
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of blueocean-bitbucket-pipeline
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of blueocean-commons
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of token-macro
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of git-client
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of blueocean-github-pipeline
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of mercurial
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of blueocean-web
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of pipeline-stage-tags-metadata
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of ssh-credentials
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of blueocean-pipeline-api-impl
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of pubsub-light
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of jquery-detached
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of github-api
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of git-server
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of blueocean-display-url
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of matrix-project
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of blueocean-rest
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of apache-httpcomponents-client-4-api
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of pipeline-graph-analysis
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of blueocean-pipeline-scm-api
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of branch-api
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of workflow-durable-task-step
Feb 02, 2018 11:20:02 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of structs
Feb 02, 2018 11:20:02 PM hudson.PluginManager dynamicLoad
INFO: Plugin command-launcher:1.2 dynamically installed
Feb 02, 2018 11:20:02 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Installation successful: Command Agent Launcher Plugin
Feb 02, 2018 11:20:02 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Starting the installation of bouncycastle API Plugin on behalf of admin
Feb 02, 2018 11:20:03 PM hudson.model.UpdateCenter$UpdateCenterConfiguration download
INFO: Downloading bouncycastle API Plugin
Feb 02, 2018 11:20:13 PM hudson.PluginManager dynamicLoad
INFO: Attempting to dynamic load /var/jenkins_home/plugins/bouncycastle-api.jpi
Feb 02, 2018 11:20:13 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started initialization
Feb 02, 2018 11:20:13 PM jenkins.InitReactorRunner$1 onAttained
INFO: Listed all plugins
Feb 02, 2018 11:20:13 PM jenkins.InitReactorRunner$1 onAttained
INFO: Prepared all plugins
Feb 02, 2018 11:20:13 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started all plugins
Feb 02, 2018 11:20:13 PM jenkins.InitReactorRunner$1 onAttained
INFO: Augmented all extensions
Feb 02, 2018 11:20:13 PM jenkins.InitReactorRunner$1 onAttained
INFO: Loaded all jobs
Feb 02, 2018 11:20:13 PM jenkins.InitReactorRunner$1 onAttained
INFO: Completed initialization
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of pipeline-model-declarative-agent
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of scm-api
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of github-branch-source
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of htmlpublisher
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of plain-credentials
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of pipeline-model-extensions
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of workflow-basic-steps
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of credentials-binding
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of workflow-cps-global-lib
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of github
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of sse-gateway
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of variant
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of jsch
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of pipeline-milestone-step
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of workflow-step-api
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of pipeline-stage-step
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of jira
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of pipeline-model-api
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of mailer
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of docker-workflow
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of authentication-tokens
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of favorite
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of handy-uri-templates-2-api
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of credentials
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of git
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of display-url-api
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of junit
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of ace-editor
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of cloudbees-bitbucket-branch-source
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of docker-commons
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of durable-task
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of pipeline-model-definition
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of pipeline-input-step
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of antisamy-markup-formatter
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of token-macro
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of git-client
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of mercurial
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of pipeline-stage-tags-metadata
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of ssh-credentials
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of pubsub-light
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of jquery-detached
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of github-api
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of git-server
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of blueocean-display-url
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of matrix-project
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of apache-httpcomponents-client-4-api
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of pipeline-graph-analysis
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of branch-api
Feb 02, 2018 11:20:13 PM hudson.ClassicPluginStrategy updateDependency
INFO: Updated dependency of structs
Feb 02, 2018 11:20:13 PM hudson.PluginManager dynamicLoad
INFO: Plugin bouncycastle-api:2.16.2 dynamically installed
Feb 02, 2018 11:20:13 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Installation successful: bouncycastle API Plugin
Feb 02, 2018 11:20:13 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Starting the installation of Build Timeout on behalf of admin
Feb 02, 2018 11:20:14 PM hudson.model.UpdateCenter$UpdateCenterConfiguration download
INFO: Downloading Build Timeout
Feb 02, 2018 11:20:14 PM hudson.PluginManager dynamicLoad
INFO: Attempting to dynamic load /var/jenkins_home/plugins/build-timeout.jpi
Feb 02, 2018 11:20:14 PM hudson.ExtensionFinder$GuiceFinder$FaultTolerantScope$1 error
INFO: Failed to instantiate optional component hudson.plugins.build_timeout.operations.AbortAndRestartOperation$DescriptorImpl; skipping
Feb 02, 2018 11:20:14 PM hudson.ExtensionFinder$GuiceFinder$FaultTolerantScope$1 error
INFO: Failed to instantiate optional component hudson.plugins.build_timeout.operations.AbortAndRestartOperation$DescriptorImpl; skipping
Feb 02, 2018 11:20:14 PM hudson.ExtensionFinder$GuiceFinder$FaultTolerantScope$1 error
INFO: Failed to instantiate optional component hudson.plugins.build_timeout.operations.AbortAndRestartOperation$DescriptorImpl; skipping
Feb 02, 2018 11:20:14 PM hudson.ExtensionFinder$GuiceFinder$FaultTolerantScope$1 error
INFO: Failed to instantiate optional component hudson.plugins.build_timeout.operations.AbortAndRestartOperation$DescriptorImpl; skipping
Feb 02, 2018 11:20:14 PM hudson.ExtensionFinder$GuiceFinder$FaultTolerantScope$1 error
INFO: Failed to instantiate optional component hudson.plugins.build_timeout.operations.AbortAndRestartOperation$DescriptorImpl; skipping
Feb 02, 2018 11:20:14 PM hudson.ExtensionFinder$GuiceFinder$FaultTolerantScope$1 error
INFO: Failed to instantiate optional component hudson.plugins.build_timeout.operations.AbortAndRestartOperation$DescriptorImpl; skipping
Feb 02, 2018 11:20:14 PM hudson.ExtensionFinder$GuiceFinder$FaultTolerantScope$1 error
INFO: Failed to instantiate optional component hudson.plugins.build_timeout.operations.AbortAndRestartOperation$DescriptorImpl; skipping
Feb 02, 2018 11:20:14 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started initialization
Feb 02, 2018 11:20:14 PM jenkins.InitReactorRunner$1 onAttained
INFO: Listed all plugins
Feb 02, 2018 11:20:15 PM jenkins.InitReactorRunner$1 onAttained
INFO: Prepared all plugins
Feb 02, 2018 11:20:15 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started all plugins
Feb 02, 2018 11:20:15 PM jenkins.InitReactorRunner$1 onAttained
INFO: Augmented all extensions
Feb 02, 2018 11:20:15 PM jenkins.InitReactorRunner$1 onAttained
INFO: Loaded all jobs
Feb 02, 2018 11:20:15 PM jenkins.InitReactorRunner$1 onAttained
INFO: Completed initialization
Feb 02, 2018 11:20:15 PM hudson.PluginManager dynamicLoad
INFO: Plugin build-timeout:1.19 dynamically installed
Feb 02, 2018 11:20:15 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Installation successful: Build Timeout
Feb 02, 2018 11:20:15 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Starting the installation of Timestamper on behalf of admin
Feb 02, 2018 11:20:15 PM hudson.model.UpdateCenter$UpdateCenterConfiguration download
INFO: Downloading Timestamper
Feb 02, 2018 11:20:16 PM hudson.PluginManager dynamicLoad
INFO: Attempting to dynamic load /var/jenkins_home/plugins/timestamper.jpi
Feb 02, 2018 11:20:16 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started initialization
Feb 02, 2018 11:20:16 PM jenkins.InitReactorRunner$1 onAttained
INFO: Listed all plugins
Feb 02, 2018 11:20:16 PM jenkins.InitReactorRunner$1 onAttained
INFO: Prepared all plugins
Feb 02, 2018 11:20:16 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started all plugins
Feb 02, 2018 11:20:16 PM jenkins.InitReactorRunner$1 onAttained
INFO: Augmented all extensions
Feb 02, 2018 11:20:16 PM jenkins.InitReactorRunner$1 onAttained
INFO: Loaded all jobs
Feb 02, 2018 11:20:16 PM jenkins.InitReactorRunner$1 onAttained
INFO: Completed initialization
Feb 02, 2018 11:20:16 PM hudson.PluginManager dynamicLoad
INFO: Plugin timestamper:1.8.9 dynamically installed
Feb 02, 2018 11:20:16 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Installation successful: Timestamper
Feb 02, 2018 11:20:16 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Starting the installation of Resource Disposer Plugin on behalf of admin
Feb 02, 2018 11:20:16 PM hudson.model.UpdateCenter$UpdateCenterConfiguration download
INFO: Downloading Resource Disposer Plugin
Feb 02, 2018 11:20:17 PM hudson.PluginManager dynamicLoad
INFO: Attempting to dynamic load /var/jenkins_home/plugins/resource-disposer.jpi
Feb 02, 2018 11:20:17 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started initialization
Feb 02, 2018 11:20:17 PM jenkins.InitReactorRunner$1 onAttained
INFO: Listed all plugins
Feb 02, 2018 11:20:17 PM jenkins.InitReactorRunner$1 onAttained
INFO: Prepared all plugins
Feb 02, 2018 11:20:17 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started all plugins
Feb 02, 2018 11:20:17 PM jenkins.InitReactorRunner$1 onAttained
INFO: Augmented all extensions
Feb 02, 2018 11:20:17 PM jenkins.InitReactorRunner$1 onAttained
INFO: Loaded all jobs
Feb 02, 2018 11:20:17 PM jenkins.InitReactorRunner$1 onAttained
INFO: Completed initialization
Feb 02, 2018 11:20:17 PM hudson.PluginManager dynamicLoad
INFO: Plugin resource-disposer:0.8 dynamically installed
Feb 02, 2018 11:20:17 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Installation successful: Resource Disposer Plugin
Feb 02, 2018 11:20:17 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Starting the installation of Workspace Cleanup Plugin on behalf of admin
Feb 02, 2018 11:20:17 PM hudson.model.UpdateCenter$UpdateCenterConfiguration download
INFO: Downloading Workspace Cleanup Plugin
Feb 02, 2018 11:20:18 PM hudson.PluginManager dynamicLoad
INFO: Attempting to dynamic load /var/jenkins_home/plugins/ws-cleanup.jpi
Feb 02, 2018 11:20:18 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started initialization
Feb 02, 2018 11:20:18 PM jenkins.InitReactorRunner$1 onAttained
INFO: Listed all plugins
Feb 02, 2018 11:20:18 PM jenkins.InitReactorRunner$1 onAttained
INFO: Prepared all plugins
Feb 02, 2018 11:20:18 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started all plugins
Feb 02, 2018 11:20:18 PM jenkins.InitReactorRunner$1 onAttained
INFO: Augmented all extensions
Feb 02, 2018 11:20:18 PM jenkins.InitReactorRunner$1 onAttained
INFO: Loaded all jobs
Feb 02, 2018 11:20:18 PM jenkins.InitReactorRunner$1 onAttained
INFO: Completed initialization
Feb 02, 2018 11:20:18 PM hudson.PluginManager dynamicLoad
INFO: Plugin ws-cleanup:0.34 dynamically installed
Feb 02, 2018 11:20:18 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Installation successful: Workspace Cleanup Plugin
Feb 02, 2018 11:20:18 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Starting the installation of Ant Plugin on behalf of admin
Feb 02, 2018 11:20:19 PM hudson.model.UpdateCenter$UpdateCenterConfiguration download
INFO: Downloading Ant Plugin
Feb 02, 2018 11:20:19 PM hudson.PluginManager dynamicLoad
INFO: Attempting to dynamic load /var/jenkins_home/plugins/ant.jpi
Feb 02, 2018 11:20:20 PM hudson.model.DownloadService$Downloadable load
INFO: Obtained the updated data file for hudson.tasks.Ant.AntInstaller
Feb 02, 2018 11:20:20 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started initialization
Feb 02, 2018 11:20:20 PM jenkins.InitReactorRunner$1 onAttained
INFO: Listed all plugins
Feb 02, 2018 11:20:20 PM jenkins.InitReactorRunner$1 onAttained
INFO: Prepared all plugins
Feb 02, 2018 11:20:20 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started all plugins
Feb 02, 2018 11:20:20 PM jenkins.InitReactorRunner$1 onAttained
INFO: Augmented all extensions
Feb 02, 2018 11:20:20 PM jenkins.InitReactorRunner$1 onAttained
INFO: Loaded all jobs
Feb 02, 2018 11:20:20 PM jenkins.InitReactorRunner$1 onAttained
INFO: Completed initialization
Feb 02, 2018 11:20:20 PM hudson.PluginManager dynamicLoad
INFO: Plugin ant:1.8 dynamically installed
Feb 02, 2018 11:20:20 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Installation successful: Ant Plugin
Feb 02, 2018 11:20:20 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Starting the installation of Gradle Plugin on behalf of admin
Feb 02, 2018 11:20:21 PM hudson.model.UpdateCenter$UpdateCenterConfiguration download
INFO: Downloading Gradle Plugin
Feb 02, 2018 11:20:21 PM hudson.PluginManager dynamicLoad
INFO: Attempting to dynamic load /var/jenkins_home/plugins/gradle.jpi
Feb 02, 2018 11:20:21 PM hudson.ClassicPluginStrategy createClassJarFromWebInfClasses
WARNING: Created /var/jenkins_home/plugins/gradle/WEB-INF/lib/classes.jar; update plugin to a version created with a newer harness
Feb 02, 2018 11:20:21 PM hudson.model.DownloadService$Downloadable load
INFO: Obtained the updated data file for hudson.plugins.gradle.GradleInstaller
Feb 02, 2018 11:20:21 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started initialization
Feb 02, 2018 11:20:21 PM jenkins.InitReactorRunner$1 onAttained
INFO: Listed all plugins
Feb 02, 2018 11:20:21 PM jenkins.InitReactorRunner$1 onAttained
INFO: Prepared all plugins
Feb 02, 2018 11:20:21 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started all plugins
Feb 02, 2018 11:20:21 PM jenkins.InitReactorRunner$1 onAttained
INFO: Augmented all extensions
Feb 02, 2018 11:20:21 PM jenkins.InitReactorRunner$1 onAttained
INFO: Loaded all jobs
Feb 02, 2018 11:20:21 PM jenkins.InitReactorRunner$1 onAttained
INFO: Completed initialization
Feb 02, 2018 11:20:22 PM hudson.PluginManager dynamicLoad
INFO: Plugin gradle:1.28 dynamically installed
Feb 02, 2018 11:20:22 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Installation successful: Gradle Plugin
Feb 02, 2018 11:20:22 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Starting the installation of Pipeline: REST API Plugin on behalf of admin
Feb 02, 2018 11:20:22 PM hudson.model.UpdateCenter$UpdateCenterConfiguration download
INFO: Downloading Pipeline: REST API Plugin
Feb 02, 2018 11:20:23 PM hudson.PluginManager dynamicLoad
INFO: Attempting to dynamic load /var/jenkins_home/plugins/pipeline-rest-api.jpi
Feb 02, 2018 11:20:23 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started initialization
Feb 02, 2018 11:20:23 PM jenkins.InitReactorRunner$1 onAttained
INFO: Listed all plugins
Feb 02, 2018 11:20:23 PM jenkins.InitReactorRunner$1 onAttained
INFO: Prepared all plugins
Feb 02, 2018 11:20:23 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started all plugins
Feb 02, 2018 11:20:23 PM jenkins.InitReactorRunner$1 onAttained
INFO: Augmented all extensions
Feb 02, 2018 11:20:23 PM jenkins.InitReactorRunner$1 onAttained
INFO: Loaded all jobs
Feb 02, 2018 11:20:23 PM jenkins.InitReactorRunner$1 onAttained
INFO: Completed initialization
Feb 02, 2018 11:20:23 PM hudson.PluginManager dynamicLoad
INFO: Plugin pipeline-rest-api:2.9 dynamically installed
Feb 02, 2018 11:20:23 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Installation successful: Pipeline: REST API Plugin
Feb 02, 2018 11:20:23 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Starting the installation of JavaScript GUI Lib: Handlebars bundle plugin on behalf of admin
Feb 02, 2018 11:20:24 PM hudson.model.UpdateCenter$UpdateCenterConfiguration download
INFO: Downloading JavaScript GUI Lib: Handlebars bundle plugin
Feb 02, 2018 11:20:24 PM hudson.PluginManager dynamicLoad
INFO: Attempting to dynamic load /var/jenkins_home/plugins/handlebars.jpi
Feb 02, 2018 11:20:24 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started initialization
Feb 02, 2018 11:20:24 PM jenkins.InitReactorRunner$1 onAttained
INFO: Listed all plugins
Feb 02, 2018 11:20:24 PM jenkins.InitReactorRunner$1 onAttained
INFO: Prepared all plugins
Feb 02, 2018 11:20:24 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started all plugins
Feb 02, 2018 11:20:24 PM jenkins.InitReactorRunner$1 onAttained
INFO: Augmented all extensions
Feb 02, 2018 11:20:24 PM jenkins.InitReactorRunner$1 onAttained
INFO: Loaded all jobs
Feb 02, 2018 11:20:24 PM jenkins.InitReactorRunner$1 onAttained
INFO: Completed initialization
Feb 02, 2018 11:20:24 PM hudson.PluginManager dynamicLoad
INFO: Plugin handlebars:1.1.1 dynamically installed
Feb 02, 2018 11:20:24 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Installation successful: JavaScript GUI Lib: Handlebars bundle plugin
Feb 02, 2018 11:20:24 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Starting the installation of JavaScript GUI Lib: Moment.js bundle plugin on behalf of admin
Feb 02, 2018 11:20:25 PM hudson.model.UpdateCenter$UpdateCenterConfiguration download
INFO: Downloading JavaScript GUI Lib: Moment.js bundle plugin
Feb 02, 2018 11:20:25 PM hudson.PluginManager dynamicLoad
INFO: Attempting to dynamic load /var/jenkins_home/plugins/momentjs.jpi
Feb 02, 2018 11:20:25 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started initialization
Feb 02, 2018 11:20:25 PM jenkins.InitReactorRunner$1 onAttained
INFO: Listed all plugins
Feb 02, 2018 11:20:25 PM jenkins.InitReactorRunner$1 onAttained
INFO: Prepared all plugins
Feb 02, 2018 11:20:25 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started all plugins
Feb 02, 2018 11:20:25 PM jenkins.InitReactorRunner$1 onAttained
INFO: Augmented all extensions
Feb 02, 2018 11:20:25 PM jenkins.InitReactorRunner$1 onAttained
INFO: Loaded all jobs
Feb 02, 2018 11:20:25 PM jenkins.InitReactorRunner$1 onAttained
INFO: Completed initialization
Feb 02, 2018 11:20:25 PM hudson.PluginManager dynamicLoad
INFO: Plugin momentjs:1.1.1 dynamically installed
Feb 02, 2018 11:20:25 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Installation successful: JavaScript GUI Lib: Moment.js bundle plugin
Feb 02, 2018 11:20:25 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Starting the installation of Pipeline: Stage View Plugin on behalf of admin
Feb 02, 2018 11:20:26 PM hudson.model.UpdateCenter$UpdateCenterConfiguration download
INFO: Downloading Pipeline: Stage View Plugin
Feb 02, 2018 11:20:26 PM hudson.PluginManager dynamicLoad
INFO: Attempting to dynamic load /var/jenkins_home/plugins/pipeline-stage-view.jpi
Feb 02, 2018 11:20:27 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started initialization
Feb 02, 2018 11:20:27 PM jenkins.InitReactorRunner$1 onAttained
INFO: Listed all plugins
Feb 02, 2018 11:20:27 PM jenkins.InitReactorRunner$1 onAttained
INFO: Prepared all plugins
Feb 02, 2018 11:20:27 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started all plugins
Feb 02, 2018 11:20:27 PM jenkins.InitReactorRunner$1 onAttained
INFO: Augmented all extensions
Feb 02, 2018 11:20:27 PM jenkins.InitReactorRunner$1 onAttained
INFO: Loaded all jobs
Feb 02, 2018 11:20:27 PM jenkins.InitReactorRunner$1 onAttained
INFO: Completed initialization
Feb 02, 2018 11:20:27 PM hudson.PluginManager dynamicLoad
INFO: Plugin pipeline-stage-view:2.9 dynamically installed
Feb 02, 2018 11:20:27 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Installation successful: Pipeline: Stage View Plugin
Feb 02, 2018 11:20:27 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Starting the installation of Pipeline on behalf of admin
Feb 02, 2018 11:20:27 PM hudson.model.UpdateCenter$UpdateCenterConfiguration download
INFO: Downloading Pipeline
Feb 02, 2018 11:20:27 PM hudson.PluginManager dynamicLoad
INFO: Attempting to dynamic load /var/jenkins_home/plugins/workflow-aggregator.jpi
Feb 02, 2018 11:20:27 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started initialization
Feb 02, 2018 11:20:27 PM jenkins.InitReactorRunner$1 onAttained
INFO: Listed all plugins
Feb 02, 2018 11:20:27 PM jenkins.InitReactorRunner$1 onAttained
INFO: Prepared all plugins
Feb 02, 2018 11:20:27 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started all plugins
Feb 02, 2018 11:20:27 PM jenkins.InitReactorRunner$1 onAttained
INFO: Augmented all extensions
Feb 02, 2018 11:20:27 PM jenkins.InitReactorRunner$1 onAttained
INFO: Loaded all jobs
Feb 02, 2018 11:20:27 PM jenkins.InitReactorRunner$1 onAttained
INFO: Completed initialization
Feb 02, 2018 11:20:27 PM hudson.PluginManager dynamicLoad
INFO: Plugin workflow-aggregator:2.5 dynamically installed
Feb 02, 2018 11:20:27 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Installation successful: Pipeline
Feb 02, 2018 11:20:27 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Starting the installation of Pipeline: GitHub Groovy Libraries on behalf of admin
Feb 02, 2018 11:20:28 PM hudson.model.UpdateCenter$UpdateCenterConfiguration download
INFO: Downloading Pipeline: GitHub Groovy Libraries
Feb 02, 2018 11:20:28 PM hudson.PluginManager dynamicLoad
INFO: Attempting to dynamic load /var/jenkins_home/plugins/pipeline-github-lib.jpi
Feb 02, 2018 11:20:28 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started initialization
Feb 02, 2018 11:20:28 PM jenkins.InitReactorRunner$1 onAttained
INFO: Listed all plugins
Feb 02, 2018 11:20:28 PM jenkins.InitReactorRunner$1 onAttained
INFO: Prepared all plugins
Feb 02, 2018 11:20:28 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started all plugins
Feb 02, 2018 11:20:28 PM jenkins.InitReactorRunner$1 onAttained
INFO: Augmented all extensions
Feb 02, 2018 11:20:28 PM jenkins.InitReactorRunner$1 onAttained
INFO: Loaded all jobs
Feb 02, 2018 11:20:28 PM jenkins.InitReactorRunner$1 onAttained
INFO: Completed initialization
Feb 02, 2018 11:20:28 PM hudson.PluginManager dynamicLoad
INFO: Plugin pipeline-github-lib:1.0 dynamically installed
Feb 02, 2018 11:20:28 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Installation successful: Pipeline: GitHub Groovy Libraries
Feb 02, 2018 11:20:28 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Starting the installation of Pipeline: Stage View Plugin on behalf of admin
Feb 02, 2018 11:20:28 PM hudson.model.UpdateCenter$InstallationJob _run
INFO: Skipping duplicate install of: Pipeline: Stage View Plugin@2.9
Feb 02, 2018 11:20:28 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Installation successful: Pipeline: Stage View Plugin
Feb 02, 2018 11:20:28 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Starting the installation of MapDB API Plugin on behalf of admin
Feb 02, 2018 11:20:29 PM hudson.model.UpdateCenter$UpdateCenterConfiguration download
INFO: Downloading MapDB API Plugin
Feb 02, 2018 11:20:30 PM hudson.PluginManager dynamicLoad
INFO: Attempting to dynamic load /var/jenkins_home/plugins/mapdb-api.jpi
Feb 02, 2018 11:20:30 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started initialization
Feb 02, 2018 11:20:30 PM jenkins.InitReactorRunner$1 onAttained
INFO: Listed all plugins
Feb 02, 2018 11:20:30 PM jenkins.InitReactorRunner$1 onAttained
INFO: Prepared all plugins
Feb 02, 2018 11:20:30 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started all plugins
Feb 02, 2018 11:20:30 PM jenkins.InitReactorRunner$1 onAttained
INFO: Augmented all extensions
Feb 02, 2018 11:20:30 PM jenkins.InitReactorRunner$1 onAttained
INFO: Loaded all jobs
Feb 02, 2018 11:20:30 PM jenkins.InitReactorRunner$1 onAttained
INFO: Completed initialization
Feb 02, 2018 11:20:30 PM hudson.PluginManager dynamicLoad
INFO: Plugin mapdb-api:1.0.9.0 dynamically installed
Feb 02, 2018 11:20:30 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Installation successful: MapDB API Plugin
Feb 02, 2018 11:20:30 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Starting the installation of Subversion Plug-in on behalf of admin
Feb 02, 2018 11:20:31 PM hudson.model.UpdateCenter$UpdateCenterConfiguration download
INFO: Downloading Subversion Plug-in
Feb 02, 2018 11:20:48 PM hudson.PluginManager dynamicLoad
INFO: Attempting to dynamic load /var/jenkins_home/plugins/subversion.jpi
Feb 02, 2018 11:20:49 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started initialization
Feb 02, 2018 11:20:49 PM jenkins.InitReactorRunner$1 onAttained
INFO: Listed all plugins
Feb 02, 2018 11:20:49 PM jenkins.InitReactorRunner$1 onAttained
INFO: Prepared all plugins
Feb 02, 2018 11:20:49 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started all plugins
Feb 02, 2018 11:20:49 PM jenkins.InitReactorRunner$1 onAttained
INFO: Augmented all extensions
Feb 02, 2018 11:20:49 PM jenkins.InitReactorRunner$1 onAttained
INFO: Loaded all jobs
Feb 02, 2018 11:20:49 PM jenkins.InitReactorRunner$1 onAttained
INFO: Completed initialization
Feb 02, 2018 11:20:49 PM hudson.PluginManager dynamicLoad
INFO: Plugin subversion:2.10.2 dynamically installed
Feb 02, 2018 11:20:49 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Installation successful: Subversion Plug-in
Feb 02, 2018 11:20:49 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Starting the installation of SSH Slaves plugin on behalf of admin
Feb 02, 2018 11:20:51 PM hudson.model.UpdateCenter$UpdateCenterConfiguration download
INFO: Downloading SSH Slaves plugin
Feb 02, 2018 11:20:52 PM hudson.PluginManager dynamicLoad
INFO: Attempting to dynamic load /var/jenkins_home/plugins/ssh-slaves.jpi
Feb 02, 2018 11:20:52 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started initialization
Feb 02, 2018 11:20:52 PM jenkins.InitReactorRunner$1 onAttained
INFO: Listed all plugins
Feb 02, 2018 11:20:52 PM jenkins.InitReactorRunner$1 onAttained
INFO: Prepared all plugins
Feb 02, 2018 11:20:52 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started all plugins
Feb 02, 2018 11:20:52 PM jenkins.InitReactorRunner$1 onAttained
INFO: Augmented all extensions
Feb 02, 2018 11:20:52 PM jenkins.InitReactorRunner$1 onAttained
INFO: Loaded all jobs
Feb 02, 2018 11:20:52 PM jenkins.InitReactorRunner$1 onAttained
INFO: Completed initialization
Feb 02, 2018 11:20:52 PM hudson.PluginManager dynamicLoad
INFO: Plugin ssh-slaves:1.25.1 dynamically installed
Feb 02, 2018 11:20:52 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Installation successful: SSH Slaves plugin
Feb 02, 2018 11:20:52 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Starting the installation of PAM Authentication plugin on behalf of admin
Feb 02, 2018 11:20:53 PM hudson.model.UpdateCenter$UpdateCenterConfiguration download
INFO: Downloading PAM Authentication plugin
Feb 02, 2018 11:20:55 PM hudson.PluginManager dynamicLoad
INFO: Attempting to dynamic load /var/jenkins_home/plugins/pam-auth.jpi
Feb 02, 2018 11:20:55 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started initialization
Feb 02, 2018 11:20:55 PM jenkins.InitReactorRunner$1 onAttained
INFO: Listed all plugins
Feb 02, 2018 11:20:55 PM jenkins.InitReactorRunner$1 onAttained
INFO: Prepared all plugins
Feb 02, 2018 11:20:55 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started all plugins
Feb 02, 2018 11:20:55 PM jenkins.InitReactorRunner$1 onAttained
INFO: Augmented all extensions
Feb 02, 2018 11:20:55 PM jenkins.InitReactorRunner$1 onAttained
INFO: Loaded all jobs
Feb 02, 2018 11:20:55 PM jenkins.InitReactorRunner$1 onAttained
INFO: Completed initialization
Feb 02, 2018 11:20:55 PM hudson.PluginManager dynamicLoad
INFO: Plugin pam-auth:1.3 dynamically installed
Feb 02, 2018 11:20:55 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Installation successful: PAM Authentication plugin
Feb 02, 2018 11:20:55 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Starting the installation of LDAP Plugin on behalf of admin
Feb 02, 2018 11:20:56 PM hudson.model.UpdateCenter$UpdateCenterConfiguration download
INFO: Downloading LDAP Plugin
Feb 02, 2018 11:20:56 PM hudson.PluginManager dynamicLoad
INFO: Attempting to dynamic load /var/jenkins_home/plugins/ldap.jpi
Feb 02, 2018 11:20:57 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started initialization
Feb 02, 2018 11:20:57 PM jenkins.InitReactorRunner$1 onAttained
INFO: Listed all plugins
Feb 02, 2018 11:20:57 PM jenkins.InitReactorRunner$1 onAttained
INFO: Prepared all plugins
Feb 02, 2018 11:20:57 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started all plugins
Feb 02, 2018 11:20:57 PM jenkins.InitReactorRunner$1 onAttained
INFO: Augmented all extensions
Feb 02, 2018 11:20:57 PM jenkins.InitReactorRunner$1 onAttained
INFO: Loaded all jobs
Feb 02, 2018 11:20:57 PM jenkins.InitReactorRunner$1 onAttained
INFO: Completed initialization
Feb 02, 2018 11:20:57 PM hudson.PluginManager dynamicLoad
INFO: Plugin ldap:1.19 dynamically installed
Feb 02, 2018 11:20:57 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Installation successful: LDAP Plugin
Feb 02, 2018 11:20:57 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Starting the installation of Email Extension Plugin on behalf of admin
Feb 02, 2018 11:20:57 PM hudson.model.UpdateCenter$UpdateCenterConfiguration download
INFO: Downloading Email Extension Plugin
Feb 02, 2018 11:20:59 PM hudson.PluginManager dynamicLoad
INFO: Attempting to dynamic load /var/jenkins_home/plugins/email-ext.jpi
Feb 02, 2018 11:21:00 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started initialization
Feb 02, 2018 11:21:00 PM jenkins.InitReactorRunner$1 onAttained
INFO: Listed all plugins
Feb 02, 2018 11:21:00 PM jenkins.InitReactorRunner$1 onAttained
INFO: Prepared all plugins
Feb 02, 2018 11:21:00 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started all plugins
Feb 02, 2018 11:21:00 PM jenkins.InitReactorRunner$1 onAttained
INFO: Augmented all extensions
Feb 02, 2018 11:21:00 PM jenkins.InitReactorRunner$1 onAttained
INFO: Loaded all jobs
Feb 02, 2018 11:21:00 PM jenkins.InitReactorRunner$1 onAttained
INFO: Completed initialization
Feb 02, 2018 11:21:00 PM hudson.PluginManager dynamicLoad
INFO: Plugin email-ext:2.61 dynamically installed
Feb 02, 2018 11:21:00 PM hudson.model.UpdateCenter$DownloadJob run
INFO: Installation successful: Email Extension Plugin

Create First Admin User
ericj
vlWalnoot27
Eric J. Van der Velden
ericjvandervelden@gmail.com
Save and Finish
/ we komen op
Jenkins is ready!
start using jenkins / click
/ we zien het menu links	, met New Item 	, en in het midden 'create new jobs' to get started
 
/ 13	 .

/ we start de container opnieuw	,

[eric@almond build-a-java-app-with-maven]$ docker run --rm -p 8080:8080 -v jenkins-data:/var/jenkins_home -v /var/run/docker.sock:/var/run/docker.sock -v "$HOME":/home jenkinsci/blueocean
Running from: /usr/share/jenkins/jenkins.war
webroot: EnvVars.masterEnvVars.get("JENKINS_HOME")
Feb 04, 2018 12:52:31 PM Main deleteWinstoneTempContents
WARNING: Failed to delete the temporary Winstone file /tmp/winstone/jenkins.war
Feb 04, 2018 12:52:31 PM org.eclipse.jetty.util.log.Log initialized
INFO: Logging initialized @626ms to org.eclipse.jetty.util.log.JavaUtilLog
Feb 04, 2018 12:52:31 PM winstone.Logger logInternal
INFO: Beginning extraction from war file
Feb 04, 2018 12:52:31 PM org.eclipse.jetty.server.handler.ContextHandler setContextPath
WARNING: Empty contextPath
Feb 04, 2018 12:52:31 PM org.eclipse.jetty.server.Server doStart
INFO: jetty-9.4.z-SNAPSHOT
Feb 04, 2018 12:52:32 PM org.eclipse.jetty.webapp.StandardDescriptorProcessor visitServlet
INFO: NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet
Feb 04, 2018 12:52:32 PM org.eclipse.jetty.server.session.DefaultSessionIdManager doStart
INFO: DefaultSessionIdManager workerName=node0
Feb 04, 2018 12:52:32 PM org.eclipse.jetty.server.session.DefaultSessionIdManager doStart
INFO: No SessionScavenger set, using defaults
Feb 04, 2018 12:52:32 PM org.eclipse.jetty.server.session.HouseKeeper startScavenging
INFO: Scavenging every 660000ms
Jenkins home directory: /var/jenkins_home found at: EnvVars.masterEnvVars.get("JENKINS_HOME")
Feb 04, 2018 12:52:33 PM org.eclipse.jetty.server.handler.ContextHandler doStart
INFO: Started w.@5745ca0e{/,file:///var/jenkins_home/war/,AVAILABLE}{/var/jenkins_home/war}
Feb 04, 2018 12:52:33 PM org.eclipse.jetty.server.AbstractConnector doStart
INFO: Started ServerConnector@4d15107f{HTTP/1.1,[http/1.1]}{0.0.0.0:8080}
Feb 04, 2018 12:52:33 PM org.eclipse.jetty.server.Server doStart
INFO: Started @2243ms
Feb 04, 2018 12:52:33 PM winstone.Logger logInternal
INFO: Winstone Servlet Engine v4.0 running: controlPort=disabled
Feb 04, 2018 12:52:33 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started initialization
Feb 04, 2018 12:52:34 PM jenkins.InitReactorRunner$1 onAttained
INFO: Listed all plugins
Feb 04, 2018 12:52:42 PM jenkins.InitReactorRunner$1 onAttained
INFO: Prepared all plugins
Feb 04, 2018 12:52:42 PM jenkins.InitReactorRunner$1 onAttained
INFO: Started all plugins
Feb 04, 2018 12:52:43 PM hudson.ExtensionFinder$GuiceFinder$FaultTolerantScope$1 error
INFO: Failed to instantiate optional component hudson.plugins.build_timeout.operations.AbortAndRestartOperation$DescriptorImpl; skipping
Feb 04, 2018 12:52:44 PM jenkins.InitReactorRunner$1 onAttained
INFO: Augmented all extensions
Feb 04, 2018 12:52:44 PM jenkins.InitReactorRunner$1 onAttained
INFO: Loaded all jobs
Feb 04, 2018 12:52:44 PM jenkins.util.groovy.GroovyHookScript execute
INFO: Executing /var/jenkins_home/init.groovy.d/tcp-slave-agent-port.groovy
Feb 04, 2018 12:52:45 PM hudson.model.AsyncPeriodicWork$1 run
INFO: Started Download metadata
Feb 04, 2018 12:52:45 PM org.springframework.context.support.AbstractApplicationContext prepareRefresh
INFO: Refreshing org.springframework.web.context.support.StaticWebApplicationContext@2f25c72a: display name [Root WebApplicationContext]; startup date [Sun Feb 04 12:52:45 GMT 2018]; root of context hierarchy
Feb 04, 2018 12:52:45 PM org.springframework.context.support.AbstractApplicationContext obtainFreshBeanFactory
INFO: Bean factory for application context [org.springframework.web.context.support.StaticWebApplicationContext@2f25c72a]: org.springframework.beans.factory.support.DefaultListableBeanFactory@376e57c4
Feb 04, 2018 12:52:45 PM org.springframework.beans.factory.support.DefaultListableBeanFactory preInstantiateSingletons
INFO: Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@376e57c4: defining beans [authenticationManager]; root of factory hierarchy
Feb 04, 2018 12:52:45 PM org.springframework.context.support.AbstractApplicationContext prepareRefresh
INFO: Refreshing org.springframework.web.context.support.StaticWebApplicationContext@76c38bfc: display name [Root WebApplicationContext]; startup date [Sun Feb 04 12:52:45 GMT 2018]; root of context hierarchy
Feb 04, 2018 12:52:45 PM org.springframework.context.support.AbstractApplicationContext obtainFreshBeanFactory
INFO: Bean factory for application context [org.springframework.web.context.support.StaticWebApplicationContext@76c38bfc]: org.springframework.beans.factory.support.DefaultListableBeanFactory@31aa7539
Feb 04, 2018 12:52:45 PM org.springframework.beans.factory.support.DefaultListableBeanFactory preInstantiateSingletons
INFO: Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@31aa7539: defining beans [filter,legacy]; root of factory hierarchy
Feb 04, 2018 12:52:46 PM jenkins.InitReactorRunner$1 onAttained
INFO: Completed initialization
Feb 04, 2018 12:52:46 PM hudson.WebAppMain$3 run
INFO: Jenkins is fully up and running
Feb 04, 2018 12:52:51 PM hudson.model.UpdateSite updateData
INFO: Obtained the latest update center data file for UpdateSource default
Feb 04, 2018 12:52:52 PM hudson.model.DownloadService$Downloadable load
INFO: Obtained the updated data file for hudson.tasks.Maven.MavenInstaller
Feb 04, 2018 12:52:52 PM hudson.model.DownloadService$Downloadable load
INFO: Obtained the updated data file for hudson.plugins.gradle.GradleInstaller
Feb 04, 2018 12:52:52 PM hudson.model.DownloadService$Downloadable load
INFO: Obtained the updated data file for hudson.tasks.Ant.AntInstaller
Feb 04, 2018 12:52:54 PM hudson.model.DownloadService$Downloadable load
INFO: Obtained the updated data file for hudson.tools.JDKInstaller
Feb 04, 2018 12:52:54 PM hudson.model.AsyncPeriodicWork$1 run
INFO: Finished Download metadata. 9,175 ms
--> setting agent port for jnlp
--> setting agent port for jnlp... done

/ geef 
localhost:8080
/ login
ericj
vlWalnoot27
/ OK
/ we zien link menu met New Item	, en in het midden 'create new jobs' 	,

/ 1313	. 

/ lees	,
https://jenkins.io/doc/tutorials/build-a-java-app-with-maven/#setup-wizard

Fork and clone the sample repository on GitHub

/ lees	,
https://help.github.com/articles/fork-a-repo/
/ ook over: pull request (2 keer)	,
/ lees	,
https://help.github.com/articles/about-pull-requests/
/ TODO

/ ga naar	,
https://github.com/jenkins-docs/simple-java-maven-app
/ en click rechtsboven op Fork	,
/ dan komen we op	,
https://github.com/ericjvandervelden/simple-java-maven-app 

[eric@almond ~]$ mkdir GitHub
[eric@almond ~]$ cd GitHub/

/ Lees	,
/ UPDATE 20180204

[eric@almond GitHub]$ git clone git@github.com:ericjvandervelden/simple-java-maven-app.git
[eric@almond GitHub]$ cd simple-java-maven-app/
[eric@almond simple-java-maven-app]$ git remote show origin 
* remote origin
  Fetch URL: git@github.com:ericjvandervelden/simple-java-maven-app.git
  Push  URL: git@github.com:ericjvandervelden/simple-java-maven-app.git
  HEAD branch: master
  Remote branches:
    bitwiseman-patch-1 tracked
    master             tracked
  Local branch configured for 'git pull':
    master merges with remote master
  Local ref configured for 'git push':
    master pushes to master (up to date)

/ 13	. 

/ click 'create new jobs'	,
Enter an item name
simple-java-maven-app
/ click 'pipeline' 	, click OK

/ we zien General tab	,
	Pipeline name		simple-java-maven-app
 	Description			An entry-level Pipeline demonstrating how to use Jenkins to build a simple Java application with Maven.

/ click Pipeline tab	,
Definition: pipeline script from SCM	/ source control management
SCM: Git
Repositories: Repository URL: /home/eric/GitHub/simple-java-maven-app

Manage Jenkins
Configure System
Git
Path to Git executable
/ Let op : de path in de container, 
/home/GitHub/simple-java-maven-app
/ en dus NIET	,
/home/eric/GitHub/simple-java-maven-app
/ we zien Branches to build: */master
Save

/ Intermezzo



$ man git ls-remote
/ -h staat NIET voor host , maar voor heads -h = --heads

/ let op : -h of --heads is een option	, dus in
$ git ls-remote --heads origin master
/ is origin de repo	, staat los van --heads, je kunt ook --tags geven	, en is master een pattern waaraan de ref moet match	,

[eric@almond second]$ pwd
/home/eric/Devel/Git/sub/second

[eric@almond second]$ git ls-remote .
2ee8a892d92fa3c5a677b7598fd970f716aadbc1	HEAD
2ee8a892d92fa3c5a677b7598fd970f716aadbc1	refs/heads/master
2ee8a892d92fa3c5a677b7598fd970f716aadbc1	refs/remotes/origin/HEAD
2ee8a892d92fa3c5a677b7598fd970f716aadbc1	refs/remotes/origin/master
/ vanwege de . moet je deze in een repository doen	,

[eric@almond second]$ git ls-remote . HEAD
2ee8a892d92fa3c5a677b7598fd970f716aadbc1	HEAD
2ee8a892d92fa3c5a677b7598fd970f716aadbc1	refs/remotes/origin/HEAD

[eric@almond second]$ git ls-remote . master
2ee8a892d92fa3c5a677b7598fd970f716aadbc1	refs/heads/master
2ee8a892d92fa3c5a677b7598fd970f716aadbc1	refs/remotes/origin/master


/ je kunt ook 1 omhoog gaan	, 
[eric@almond second]$ cd ..
[eric@almond sub]$ git ls-remote second/
2ee8a892d92fa3c5a677b7598fd970f716aadbc1	HEAD
2ee8a892d92fa3c5a677b7598fd970f716aadbc1	refs/heads/master
2ee8a892d92fa3c5a677b7598fd970f716aadbc1	refs/remotes/origin/HEAD
2ee8a892d92fa3c5a677b7598fd970f716aadbc1	refs/remotes/origin/master


[eric@almond second]$ git ls-remote 
/=
[eric@almond second]$ git ls-remote git@github.com:ericjvandervelden/second.git
From git@github.com:ericjvandervelden/second.git
6399d94f425e73e9a16929977a9753e937d88b47	HEAD
6399d94f425e73e9a16929977a9753e937d88b47	refs/heads/master
a0f48694a1eac820419d6c010c9a38f695f4cc7c	refs/pull/1/head
c20b34c64c8368d359efe36ed6af01e10939f4f2	refs/pull/2/head
bb85fe9fbc7512bd603292ea42f5f277ed6dc8e5	refs/pull/3/head
/ deze kun je overal doen	,

[eric@almond second]$ git ls-remote --get-url
git@github.com:ericjvandervelden/second.git

$ cd ..
[eric@almond sub]$ git ls-remote --get-url second/
second/
/ TODO

[eric@almond second]$ git ls-remote --heads
/=
From git@github.com:ericjvandervelden/second.git
6399d94f425e73e9a16929977a9753e937d88b47	refs/heads/master

[eric@almond second]$ git ls-remote --heads origin 
6399d94f425e73e9a16929977a9753e937d88b47	refs/heads/master
/ is hetzelfde als boven	, maar omdat we origin hebben gegeven, zegt hij nu niet meer From ...

[eric@almond second]$ git ls-remote --heads .
2ee8a892d92fa3c5a677b7598fd970f716aadbc1	refs/heads/master


[eric@almond second]$ git ls-remote --heads /home/eric/Devel/Git/sub/second/
2ee8a892d92fa3c5a677b7598fd970f716aadbc1	refs/heads/master
/ Dit zagen we in Jenkins	, bijna	,

[eric@almond second]$ git ls-remote --heads origin  master
6399d94f425e73e9a16929977a9753e937d88b47	refs/heads/master
/ het laatste 

/ 13	. 

[eric@almond simple-java-maven-app]$ pwd
/home/eric/GitHub/simple-java-maven-app

[eric@almond simple-java-maven-app]$ git ls-remote --get-url .
.
[eric@almond simple-java-maven-app]$ git ls-remote --get-url origin
git@github.com:ericjvandervelden/simple-java-maven-app.git
/ klopt	,
/ origin is hier de repo (remote)	,

[eric@almond simple-java-maven-app]$ git ls-remote 
From git@github.com:ericjvandervelden/simple-java-maven-app.git
/=
[eric@almond simple-java-maven-app]$ git ls-remote  origin
0d85b7e1fd39bc6978511f92381aa10534ca4c1b	HEAD
a4281b0b2559a4ca5cf383872f6e20179242b483	refs/heads/bitwiseman-patch-1
0d85b7e1fd39bc6978511f92381aa10534ca4c1b	refs/heads/master

[eric@almond simple-java-maven-app]$ git ls-remote .
0d85b7e1fd39bc6978511f92381aa10534ca4c1b	HEAD
0d85b7e1fd39bc6978511f92381aa10534ca4c1b	refs/heads/master
0d85b7e1fd39bc6978511f92381aa10534ca4c1b	refs/remotes/origin/HEAD
a4281b0b2559a4ca5cf383872f6e20179242b483	refs/remotes/origin/bitwiseman-patch-1
0d85b7e1fd39bc6978511f92381aa10534ca4c1b	refs/remotes/origin/master

[eric@almond simple-java-maven-app]$ git ls-remote . HEAD
0d85b7e1fd39bc6978511f92381aa10534ca4c1b	HEAD
0d85b7e1fd39bc6978511f92381aa10534ca4c1b	refs/remotes/origin/HEAD

[eric@almond simple-java-maven-app]$ git ls-remote --heads .
0d85b7e1fd39bc6978511f92381aa10534ca4c1b	refs/heads/master
[eric@almond simple-java-maven-app]$ git ls-remote --heads . master
0d85b7e1fd39bc6978511f92381aa10534ca4c1b	refs/heads/master

[eric@almond simple-java-maven-app]$ git ls-remote --heads . HEAD
/ NIETS


/ Einde Intermezzo

/ Intermezzo

/ Als we /home/eric/GitHub/simple-java-maven-app geven, zien we ERR msg	,
git ls-remote -h /home/eric/GitHub/simple-java-maven-app HEAD 
atal: 'HEAD' does not appear to be a git repository
fatal: Could not read from remote repository.
/ TODO

[eric@almond simple-java-maven-app]$ git ls-remote
From git@github.com:ericjvandervelden/simple-java-maven-app.git
0d85b7e1fd39bc6978511f92381aa10534ca4c1b	HEAD
a4281b0b2559a4ca5cf383872f6e20179242b483	refs/heads/bitwiseman-patch-1
0d85b7e1fd39bc6978511f92381aa10534ca4c1b	refs/heads/master

[eric@almond simple-java-maven-app]$ git ls-remote HEAD
fatal: 'HEAD' does not appear to be a git repository
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.

[eric@almond simple-java-maven-app]$ git ls-remote -h $(pwd) HEAD
/ NIETS

/ Ook in second	,
[eric@almond second]$ pwd
/home/eric/Devel/Git/sub/second
[eric@almond second]$ git ls-remote
From git@github.com:ericjvandervelden/second.git
6399d94f425e73e9a16929977a9753e937d88b47	HEAD
6399d94f425e73e9a16929977a9753e937d88b47	refs/heads/master
a0f48694a1eac820419d6c010c9a38f695f4cc7c	refs/pull/1/head
c20b34c64c8368d359efe36ed6af01e10939f4f2	refs/pull/2/head
bb85fe9fbc7512bd603292ea42f5f277ed6dc8e5	refs/pull/3/head
eric@almond second]$ git ls-remote -h $(pwd)
2ee8a892d92fa3c5a677b7598fd970f716aadbc1	refs/heads/master
[eric@almond second]$ git ls-remote -h $(pwd) HEAD
/ NIETS
[eric@almond second]$ git ls-remote -h $(pwd)
2ee8a892d92fa3c5a677b7598fd970f716aadbc1	refs/heads/master
[eric@almond second]$ git ls-remote HEAD
fatal: 'HEAD' does not appear to be a git repository
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
[eric@almond second]$ git ls-remote -h git@github.com:ericjvandervelden/second.git
6399d94f425e73e9a16929977a9753e937d88b47	refs/heads/master
[eric@almond second]$ git ls-remote -h git@github.com:ericjvandervelden/second.git HEAD

/ als we doen in container	,

bash-4.4$ pwd
/home/GitHub/simple-java-maven-app
bash-4.4$ git ls-remote
Permission denied (publickey).
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
bash-4.4$ git ls-remote -h $(pwd)
0d85b7e1fd39bc6978511f92381aa10534ca4c1b	refs/heads/master
bash-4.4$ git ls-remote -h $(pwd) HEAD
bash-4.4$ git remote show origin
Warning: Permanently added the RSA host key for IP address '192.30.253.113' to the list of known hosts.
Permission denied (publickey).
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.

/ Einde Intermezzo

/ Intermezzo

/ Sun Mar 18 11:48:00 CET 2018

[eric@almond second]$  pwd
/home/eric/Devel/Git/second

/ 13	. 

[eric@almond second]$ git ls-remote 
[eric@almond second]$ git ls-remote origin
/=
From git@github.com:ericjvandervelden/second.git
6399d94f425e73e9a16929977a9753e937d88b47	HEAD
6399d94f425e73e9a16929977a9753e937d88b47	refs/heads/master
a0f48694a1eac820419d6c010c9a38f695f4cc7c	refs/pull/1/head
c20b34c64c8368d359efe36ed6af01e10939f4f2	refs/pull/2/head
bb85fe9fbc7512bd603292ea42f5f277ed6dc8e5	refs/pull/3/head

[eric@almond second]$ git ls-remote .
6399d94f425e73e9a16929977a9753e937d88b47	HEAD
da4880935cc8afdbe5021104fb5523cd1e20df21	refs/heads/child
6399d94f425e73e9a16929977a9753e937d88b47	refs/heads/master
24e50c13cc0a2d984bcacc7b590f7848353cc66d	refs/heads/sibling
1e5578f35286569f928b2413ba4f0c7d07cdfd7f	refs/remotes/origin/child
6399d94f425e73e9a16929977a9753e937d88b47	refs/remotes/origin/master
24e50c13cc0a2d984bcacc7b590f7848353cc66d	refs/remotes/origin/sibling

/ local is het dus anders als remote	, en dat zien we ook	,

[eric@almond second]$ git remote show origin 
* remote origin
  Fetch URL: git@github.com:ericjvandervelden/second.git
  Push  URL: git@github.com:ericjvandervelden/second.git
  HEAD branch: master
  Remote branches:
    master                      tracked
    refs/remotes/origin/child   stale (use 'git remote prune' to remove)
    refs/remotes/origin/sibling stale (use 'git remote prune' to remove)
  Local branches configured for 'git pull':
    child   merges with remote child
    master  merges with remote master
    sibling merges with remote sibling
  Local ref configured for 'git push':
    master pushes to master (up to date)

 




/ Einde Intermezzo

/ 13	. 

/ container,	
bash-4.4$ whoami
jenkins
bash-4.4$ pwd
/home/GitHub/simple-java-maven-app

$ vi Jenkinsfile
pipeline{
	agent{
		docker{
			image 'maven:3-alpine'
			args '-v /root/.m2:/root/.m2'
		}
	}
	stages{
		stage('Build'){
			steps{
				sh 'mvn -B -Dskiptests clean package'
			}
		}
	}
}

/ we zien in de container	,
bash-4.4$ ls -l
total 20
-rw-r--r-- 1 jenkins jenkins  193 Feb  8 20:25 Jenkinsfile
-rw-rw-r-- 1 jenkins jenkins  744 Feb  6 20:32 README.md
drwxrwxr-x 3 jenkins jenkins 4096 Feb  6 20:32 jenkins
-rw-rw-r-- 1 jenkins jenkins 1196 Feb  6 20:32 pom.xml
drwxrwxr-x 4 jenkins jenkins 4096 Feb  6 20:32 src

/ en we zien op de host	,
[eric@almond simple-java-maven-app]$ whoami
eric

[eric@almond simple-java-maven-app]$ pwd
/home/eric/GitHub/simple-java-maven-app

[eric@almond simple-java-maven-app]$ ls -l
total 20
drwxrwxr-x. 3 eric eric 4096 Feb  6 21:32 jenkins
-rw-r--r--. 1 eric eric  193 Feb  8 21:25 Jenkinsfile
-rw-rw-r--. 1 eric eric 1196 Feb  6 21:32 pom.xml
-rw-rw-r--. 1 eric eric  744 Feb  6 21:32 README.md
drwxrwxr-x. 4 eric eric 4096 Feb  6 21:32 src

/ we hebben gedaan op de host	, 
[eric@almond simple-java-maven-app]$ git add .
[eric@almond simple-java-maven-app]$ git commit -m "added Jenkinsfile"

/ 13	. 

/ ga naar main app screen,	 
http://localhost:8080/job/simple-java-maven-app/ 
/ click 'Open blue ocean'	,

/ we zien	,
[simple-java-maven-app] Running shell script
+ docker pull maven:3-alpine
Warning: failed to get default registry endpoint from daemon (Got permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Get http://%2Fvar%2Frun%2Fdocker.sock/v1.33/info: dial unix /var/run/docker.sock: connect: permission denied). Using system default: https://index.docker.io/v1/
Got permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Post http://%2Fvar%2Frun%2Fdocker.sock/v1.33/images/create?fromImage=maven&tag=3-alpine: dial unix /var/run/docker.sock: connect: permission denied

[eric@almond simple-java-maven-app]$ docker ps -a
CONTAINER ID        IMAGE                 COMMAND                  CREATED             STATUS              PORTS                               NAMES
cceed6d96e2e        jenkinsci/blueocean   "/sbin/tini -- /usr/l"   6 days ago          Up 6 days           0.0.0.0:8080->8080/tcp, 50000/tcp   determined_bassi

[eric@almond simple-java-maven-app]$ docker exec -ti determined_bassi bash

/ google,	
jenkins docker Got permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock
/ lees	,
https://github.com/jenkinsci/docker/issues/263

/ google,	
docker root 979
/ lees	,
https://github.com/jhipster/generator-jhipster/issues/4804

/ 13	. 

/ we start Jenkins in container opnieuw, maar nu met -u root	,
[eric@almond build-a-java-app-with-maven]$ docker run -u root --rm -p 8080:8080 -v jenkins-data:/var/jenkins_home -v /var/run/docker.sock:/var/run/docker.sock -v "$HOME":/home jenkinsci/blueocean

/ we click run	,
/ we krijgen nu een andere ERR	,
[simple-java-maven-app] Running shell script
+ docker pull maven:3-alpine
Warning: failed to get default registry endpoint from daemon (Error response from daemon: client is newer than server (client API version: 1.24, server API version: 1.22)). Using system default: https://index.docker.io/v1/
Error response from daemon: client is newer than server (client API version: 1.24, server API version: 1.22)
script returned exit code 1

/ google,	
client is newer than server (client API version: 1.24, server API version: 1.22)
/ lees	,
https://github.com/drone/drone/issues/2048
https://github.com/docker/machine/issues/2147

/ 13	. 

/ lees	,
https://www.itzgeek.com/how-tos/linux/fedora-how-tos/how-to-install-docker-on-fedora-25-fedora-24.html
https://fedoramagazine.org/container-technologies-fedora-docker/

[root@almond ~]# dnf remove  docker-engine-selinux-1.10.3-1.fc23.noarch  docker-engine-1.10.3-1.fc23.x86_64 
Dependencies resolved.
===============================================================================================================
 Package                           Arch               Version                    Repository               Size
===============================================================================================================
Removing:
 docker-engine                     x86_64             1.10.3-1.fc23              @dockerrepo              42 M
 docker-engine-selinux             noarch             1.10.3-1.fc23              @dockerrepo              43 k

[root@almond ~]#  dnf install docker
Last metadata expiration check: 1:36:44 ago on Sat Feb 10 21:03:45 2018.
Dependencies resolved.
===============================================================================================================
 Package                        Arch            Version                                 Repository        Size
===============================================================================================================
Installing:
 container-selinux              x86_64          2:1.10.3-55.gite03ddb8.fc24             updates           77 k
 docker                         x86_64          2:1.10.3-55.gite03ddb8.fc24             updates          6.7 M
 docker-common                  x86_64          2:1.10.3-55.gite03ddb8.fc24             updates           59 k
 docker-v1.10-migrator          x86_64          2:1.10.3-55.gite03ddb8.fc24             updates          1.9 M
 oci-register-machine           x86_64          0-2.4.git352a2a2.fc24                   updates          927 k
 oci-systemd-hook               x86_64          0.1.4-1.fc24                            fedora            30 k

Transaction Summary
===============================================================================================================
Install  6 Packages

Total download size: 9.7 M
Installed size: 39 M
Is this ok [y/N]: 

[eric@almond locale]$ sudo systemctl start docker
/ OK

/ nog steeds de fout	,
Warning: failed to get default registry endpoint from daemon (Error response from daemon: client is newer than server (client API version: 1.24, server API version: 1.22)). Using system default: https://index.docker.io/v1/
Error response from daemon: client is newer than server (client API version: 1.24, server API version: 1.22)

[eric@almond simple-java-maven-app]$ docker version
Client:
 Version:         1.10.3
 API version:     1.22
 Package version: docker-common-1.10.3-55.gite03ddb8.fc24.x86_64
 Go version:      go1.6.3
 Git commit:      e03ddb8/1.10.3
 Built:           
 OS/Arch:         linux/amd64

Server:
 Version:         1.10.3
 API version:     1.22
 Package version: docker-common-1.10.3-55.gite03ddb8.fc24.x86_64
 Go version:      go1.6.3
 Git commit:      e03ddb8/1.10.3
 Built:           
 OS/Arch:         linux/amd64


/ MORGENOCHTEND



/ Intermezzo

/ OPEN 2018-02-17

/ 13	. 

/ we zijn op 
https://hub.docker.com/_/buildpack-deps/

/ we zien	,
buildpack-deps:sid-curl : sid/curl/Dockerfile
buildpack-deps:stretch-curl = buildpack-deps:curl : stretch/curl/Dockerfile

$ vi stretch/curl/Dockerfile
FROM debian:stretch

$ vi sid-curl/Dockerfile
FROM debian:sid

/ 13	. 

/ we zijn op	,
https://hub.docker.com/_/openjdk/

/ we zien	,
openjdk:8	=  openjdk:jdk	=  openjdk : 8-jdk/Dockerfile
openjdk:8-alpine	=  openjdk:jdk-alpine	=  openjdk-alpine : 8-jdk/alpine/Dockerfile
openjdk:8-slim=  openjdk:jdk-slim=  openjdk-slim: 8-jdk/slim/Dockerfile

$ vi 8-jdk/Dockerfile
FROM buildpack-deps:stretch-scm


/ we zijn op	, 
https://hub.docker.com/_/maven/

/ we zien	,

/ 13	. 

/ we doen op de host	,
[eric@almond simple-java-maven-app]$ docker pull maven:3-alpine
3-alpine: Pulling from library/maven
88286f41530e: Pull complete 
009f6e766a1b: Pull complete 
86ed68184682: Pull complete 
f9cdc72bb970: Pull complete 
7e4415124188: Pull complete 
f6ba1c32fdb3: Pull complete 
8f690e3687b2: Pull complete 
Digest: sha256:400fb45cfcedfc492ff91319ea0a58f570172f8cf65f40b9b14931f44a6c1417
Status: Downloaded newer image for maven:3-alpine

[eric@almond simple-java-maven-app]$ docker rmi $(docker images -f "dangling=true" -q)
...
Deleted: sha256:6b16e37583b9e17e28ded3c3070eb43a9d33219ca95c139f47802f0037f0ef33
Deleted: sha256:10a34c5c43b07d4d447481b47de8a2c1bf195e40bdd2d11db8fb1ce2e8aaeb75
Deleted: sha256:4154729868ba430fbf3e1dd09b8c5da424c4c2642826ecf836ee57e993b1150e...

/ google,	
docker show images layers
/ kijk	,
http://blog.arungupta.me/show-layers-of-docker-image/
/ lees	,
https://docs.docker.com/engine/reference/commandline/image_inspect/

[eric@almond simple-java-maven-app]$  docker run --rm -v /var/run/docker.sock:/var/run/docker.sock nate/dockviz images -t 
/ hebben we niets aan	,
/ TODO
[eric@almond simple-java-maven-app]$ docker rmi nate/dockviz
Untagged: nate/dockviz:latest
Deleted: sha256:4ea2947125335f3e0e8faf74f7ac3816c264ff2c233aaf1fa78145c76e2bb996
Deleted: sha256:a0f7896c504566f0c01b5951bb7b1c600f0def07015a4a1a9cbf6a8d9001ed2c

/ 13	. 

[eric@almond simple-java-maven-app]$ docker inspect maven:3-alpine [
    {
        "Id": "sha256:5435658a63acb615bd9ab5d9249be37de8a1b4e996a6996e26a5127e2a14e79c",
        "RepoTags": [
            "maven:3-alpine"
        ],
        "RepoDigests": [],
        "Parent": "",
        "Comment": "",
        "Created": "2017-07-10T17:12:51.361544786Z",
        "Container": "75ebd2fb60b5b14cb8d779426fdce21c66c0d643f7d585139878c70cfa25656a",
        "ContainerConfig": {
            "Hostname": "e1ede117fb1e",
            "Domainname": "",
            "User": "",
            "AttachStdin": false,
            "AttachStdout": false,
            "AttachStderr": false,
            "Tty": false,
            "OpenStdin": false,
            "StdinOnce": false,
            "Env": [
                "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/lib/jvm/java-1.8-openjdk/jre/bin:/usr/lib/jvm/java-1.8-openjdk/bin",
                "LANG=C.UTF-8",
                "JAVA_HOME=/usr/lib/jvm/java-1.8-openjdk",
                "JAVA_VERSION=8u131",
                "JAVA_ALPINE_VERSION=8.131.11-r2",
                "MAVEN_HOME=/usr/share/maven",
                "MAVEN_CONFIG=/root/.m2"
            ],
            "Cmd": [
                "/bin/sh",
                "-c",
                "#(nop) ",
                "CMD [\"mvn\"]"
            ],
            "ArgsEscaped": true,
            "Image": "sha256:5cbcdbf3243de48acd1cdbe9dc0ca63b966c110196d428f0290833ba8b6a78f2",
            "Volumes": {
                "/root/.m2": {}
            },
            "WorkingDir": "",
            "Entrypoint": [
                "/usr/local/bin/mvn-entrypoint.sh"
            ],
            "OnBuild": [],
            "Labels": {}
        },
        "DockerVersion": "17.03.1-ce",
        "Author": "",
        "Config": {
            "Hostname": "e1ede117fb1e",
            "Domainname": "",
            "User": "",
            "AttachStdin": false,
            "AttachStdout": false,
            "AttachStderr": false,
            "Tty": false,
            "OpenStdin": false,
            "StdinOnce": false,
            "Env": [
                "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/lib/jvm/java-1.8-openjdk/jre/bin:/usr/lib/jvm/java-1.8-openjdk/bin",
                "LANG=C.UTF-8",
                "JAVA_HOME=/usr/lib/jvm/java-1.8-openjdk",
                "JAVA_VERSION=8u131",
                "JAVA_ALPINE_VERSION=8.131.11-r2",
                "MAVEN_HOME=/usr/share/maven",
                "MAVEN_CONFIG=/root/.m2"
            ],
            "Cmd": [
                "mvn"
            ],
            "ArgsEscaped": true,
            "Image": "sha256:5cbcdbf3243de48acd1cdbe9dc0ca63b966c110196d428f0290833ba8b6a78f2",
            "Volumes": {
                "/root/.m2": {}
            },
            "WorkingDir": "",
            "Entrypoint": [
                "/usr/local/bin/mvn-entrypoint.sh"
            ],
            "OnBuild": [],
            "Labels": {}
        },
        "Architecture": "amd64",
        "Os": "linux",
        "Size": 115983369,
        "VirtualSize": 115983369,
        "GraphDriver": {
            "Name": "devicemapper",
            "Data": {
                "DeviceId": "3948",
                "DeviceName": "docker-253:1-2504345-ae7f6f0e627be4f29f53e15cea8dedd42cc2170ff22f49f67830ccd422e5abd4",
                "DeviceSize": "107374182400"
            }
        }
    }
]



/ Einde Intermezzo

/ Intermezzo

/ 13	. 

/ lees	,
https://stackoverflow.com/questions/27767264/how-to-dockerize-maven-project-and-how-many-ways-to-accomplish-it
/ lees	,
https://spring.io/guides/gs/spring-boot-docker/
/ lees	,
https://hackernoon.com/crafting-perfect-java-docker-build-flow-740f71638d63

/ 13	. 

[eric@almond maven]$ pwd
/home/eric/Devel/Docker2/maven

/ lees	,
https://store.docker.com/images/maven

$ vi pom.xml

<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" 
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  <modelVersion>4.0.0</modelVersion>
	<groupId>my.own</groupId>
  <artifactId>first-maven-docker</artifactId>
  <packaging>jar</packaging>
  <dependencies>
    <dependency>
      <groupId>junit</groupId>
      <artifactId>junit</artifactId>
      <version>4.12</version>
      <scope>test</scope>
    </dependency>
  </dependencies>
  <build>
    <finalName>simple-webapp</finalName>
    <plugins>
      <plugin>
     	<groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-compiler-plugin</artifactId>
        <version>3.6.1</version>
        <configuration>
          <source>1.8</source>
          <target>1.8</target>
        </configuration>
      </plugin>
  </plugin>
    </plugins>
  </build>
</project>

[eric@almond maven]$ docker pull maven:3.2-jdk-7-onbuild
3.2-jdk-7-onbuild: Pulling from library/maven
a3ed95caeb02: Pull complete 
bac86908ce0f: Pull complete 
5feceb76101c: Pull complete 
eb51437d7378: Pull complete 
79b9df7b2bde: Pull complete 
65f8fdcc5fe7: Pull complete 
76183e43a254: Pull complete 
ac533b6202ac: Pull complete 
Digest: sha256:ee6ed10454fcd5318a27f7d7ffe89a49a39f8d2cd9b4ea5e92f5783df1dfef68
Status: Downloaded newer image for maven:3.2-jdk-7-onbuild

[eric@almond maven]$ docker inspect maven:3.2-jdk-7-onbuild 
[
    {
        "Id": "sha256:66e629e8f34e8e8b1c3b9627980a94e83cc6f28985bffeb7bb3e473a436e9886",
        "RepoTags": [
            "maven:3.2-jdk-7-onbuild"
        ],
        "RepoDigests": [],
        "Parent": "",
        "Comment": "",
        "Created": "2015-03-08T15:25:02.735192974Z",
        "Container": "fe1647446cb5ef0582c3f6cf572d45666e1bbc082e68c153747cef731095b550",
        "ContainerConfig": {
            "Hostname": "8d42df399a3c",
            "Domainname": "",
            "User": "",
            "AttachStdin": false,
            "AttachStdout": false,
            "AttachStderr": false,
            "Tty": false,
            "OpenStdin": false,
            "StdinOnce": false,
            "Env": [
                "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin",
                "JAVA_VERSION=7u75",
                "JAVA_DEBIAN_VERSION=7u75-2.5.4-2",
                "MAVEN_VERSION=3.2.5",
                "MAVEN_HOME=/usr/share/maven"
            ],
            "Cmd": [
                "/bin/sh",
                "-c",
                "#(nop) ONBUILD RUN mvn install"
            ],
            "Image": "20df44085bd408122ce629f3629f0a94a76a53964c75029c9376db2a07af5175",
            "Volumes": null,
            "WorkingDir": "/usr/src/app",
            "Entrypoint": null,
            "OnBuild": [
                "ADD . /usr/src/app",
                "RUN mvn install"
            ],
            "Labels": null
        },
        "DockerVersion": "1.4.1",
        "Author": "",
        "Config": {
            "Hostname": "8d42df399a3c",
            "Domainname": "",
            "User": "",
            "AttachStdin": false,
            "AttachStdout": false,
            "AttachStderr": false,
            "Tty": false,
            "OpenStdin": false,
            "StdinOnce": false,
            "Env": [
                "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin",
                "JAVA_VERSION=7u75",
                "JAVA_DEBIAN_VERSION=7u75-2.5.4-2",
                "MAVEN_VERSION=3.2.5",
                "MAVEN_HOME=/usr/share/maven"
            ],
            "Cmd": [
                "mvn"
            ],
            "Image": "20df44085bd408122ce629f3629f0a94a76a53964c75029c9376db2a07af5175",
            "Volumes": null,
            "WorkingDir": "/usr/src/app",
            "Entrypoint": null,
            "OnBuild": [
                "ADD . /usr/src/app",
                "RUN mvn install"
            ],
            "Labels": null
        },
        "Architecture": "amd64",
        "Os": "linux",
        "Size": 594240840,
        "VirtualSize": 594240840,
        "GraphDriver": {
            "Name": "devicemapper",
            "Data": {
                "DeviceId": "3967",
                "DeviceName": "docker-253:1-2504345-abbd3e026d727f6f4f1a28770a2969ba2f12af4e1ee3ce0ff08d007a644a2f5a",
                "DeviceSize": "107374182400"
            }
        }
    }
]

[eric@almond maven]$ cat Dockerfile 
from maven:3.2-jdk-7-onbuild
cmd ["do-something-with-built-packages"]

[eric@almond maven]$ docker build -t my-maven .
Sending build context to Docker daemon 3.584 kB
Step 1 : FROM maven:3.2-jdk-7-onbuild
# Executing 2 build triggers...
Step 1 : ADD . /usr/src/app
Step 1 : RUN mvn install
 ---> Running in cecfffc02e08
[INFO] Scanning for projects...
[ERROR] The build could not read 1 project -> [Help 1]
[ERROR]   
[ERROR]   The project my.own:first-maven-docker:[unknown-version] (/usr/src/app/pom.xml) has 1 error
[ERROR]     'version' is missing. @ line 4, column 106
...

/ we hebben verbeterd	,
$ vi pom.xml

[eric@almond maven]$ cat pom.xml 
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" 
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  <modelVersion>4.0.0</modelVersion>
	<groupId>my.own</groupId>
  <artifactId>first-maven-docker</artifactId>
	<version>0.1-SNAPSHOT</version>
  <packaging>jar</packaging>
  <dependencies>
    <dependency>
      <groupId>junit</groupId>
      <artifactId>junit</artifactId>
      <version>4.12</version>
      <scope>test</scope>
    </dependency>
  </dependencies>
  <build>
    <finalName>simple-webapp</finalName>
    <plugins>
      <plugin>
     		<groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-compiler-plugin</artifactId>
        <version>3.6.1</version>
        <configuration>
          <source>1.8</source>
          <target>1.8</target>
        </configuration>
      </plugin>
    </plugins>
  </build>
</project>

Sending build context to Docker daemon 3.584 kB
Step 1 : FROM maven:3.2-jdk-7-onbuild
# Executing 2 build triggers...
Step 1 : ADD . /usr/src/app
Step 1 : RUN mvn install
 ---> Running in 6c6dc564e361
[INFO] Scanning for projects...
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building first-maven-docker 0.1-SNAPSHOT
[INFO] ------------------------------------------------------------------------
Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/plugins/maven-resources-plugin/2.6/maven-resources-plugin-2.6.pom
...
Downloaded: https://repo.maven.apache.org/maven2/org/codehaus/plexus/plexus-utils/3.0.5/plexus-utils-3.0.5.jar (226 KB at 721.3 KB/sec)
[INFO] Installing /usr/src/app/target/simple-webapp.jar to /root/.m2/repository/my/own/first-maven-docker/0.1-SNAPSHOT/first-maven-docker-0.1-SNAPSHOT.jar
[INFO] Installing /usr/src/app/pom.xml to /root/.m2/repository/my/own/first-maven-docker/0.1-SNAPSHOT/first-maven-docker-0.1-SNAPSHOT.pom
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 18.201 s
[INFO] Finished at: 2018-02-09T21:57:20+00:00
[INFO] Final Memory: 12M/238M
[INFO] ------------------------------------------------------------------------
 ---> aee974e163be
Removing intermediate container b8bd1552b26c
Removing intermediate container 6c6dc564e361
Step 2 : CMD do-something-with-built-packages
 ---> Running in f71073df2b34
 ---> a8d4b22a73f3
Removing intermediate container f71073df2b34
Successfully built a8d4b22a73f3

[eric@almond maven]$ docker inspect my-maven
[
    {
        "Id": "sha256:a8d4b22a73f3cb85e890d1a4d71bfeeb3400870e3bd706d384ce15bc9a7ce6e2",
        "RepoTags": [
            "my-maven:latest"
        ],
        "RepoDigests": [],
        "Parent": "sha256:aee974e163be4ad6ef33fbd2d510fa6e75cff0cea2bb4084b273cad1ff575d20",
        "Comment": "",
        "Created": "2018-02-09T21:57:27.765574878Z",
        "Container": "f71073df2b343315c7f45739e04e3f5adec3db616f2a333d124c6dfd6c991251",
        "ContainerConfig": {
            "Hostname": "8d42df399a3c",
            "Domainname": "",
            "User": "",
            "AttachStdin": false,
            "AttachStdout": false,
            "AttachStderr": false,
            "Tty": false,
            "OpenStdin": false,
            "StdinOnce": false,
            "Env": [
                "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin",
                "JAVA_VERSION=7u75",
                "JAVA_DEBIAN_VERSION=7u75-2.5.4-2",
                "MAVEN_VERSION=3.2.5",
                "MAVEN_HOME=/usr/share/maven"
            ],
            "Cmd": [
                "/bin/sh",
                "-c",
                "#(nop) CMD [\"do-something-with-built-packages\"]"
            ],
            "ArgsEscaped": true,
            "Image": "sha256:aee974e163be4ad6ef33fbd2d510fa6e75cff0cea2bb4084b273cad1ff575d20",
            "Volumes": null,
            "WorkingDir": "/usr/src/app",
            "Entrypoint": null,
            "OnBuild": [],
            "Labels": {}
        },
        "DockerVersion": "1.10.3",
        "Author": "",
        "Config": {
            "Hostname": "8d42df399a3c",
            "Domainname": "",
            "User": "",
            "AttachStdin": false,
            "AttachStdout": false,
            "AttachStderr": false,
            "Tty": false,
            "OpenStdin": false,
            "StdinOnce": false,
            "Env": [
                "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin",
                "JAVA_VERSION=7u75",
                "JAVA_DEBIAN_VERSION=7u75-2.5.4-2",
                "MAVEN_VERSION=3.2.5",
                "MAVEN_HOME=/usr/share/maven"
            ],
            "Cmd": [
                "do-something-with-built-packages"
            ],
            "ArgsEscaped": true,
            "Image": "sha256:aee974e163be4ad6ef33fbd2d510fa6e75cff0cea2bb4084b273cad1ff575d20",
            "Volumes": null,
            "WorkingDir": "/usr/src/app",
            "Entrypoint": null,
            "OnBuild": [],
            "Labels": {}
        },
        "Architecture": "amd64",
        "Os": "linux",
        "Size": 600687446,
        "VirtualSize": 600687446,
        "GraphDriver": {
            "Name": "devicemapper",
            "Data": {
                "DeviceId": "3983",
                "DeviceName": "docker-253:1-2504345-2e82797c5c21300126b6c9bf9a520b7b6ffd753ea88c6e7c6308b21e59d2a03a",
                "DeviceSize": "107374182400"
            }
        }
    }
]

[eric@almond maven]$   docker run -it --rm --name my-maven-container my-maven
exec: "do-something-with-built-packages": executable file not found in $PATH
docker: Error response from daemon: Container command not found or does not exist..

[eric@almond maven]$   docker run -it --rm --name my-maven-container my-maven bash
root@1957a9941746:/usr/src/app# ls
Dockerfile  pom.xml  target
root@1957a9941746:/usr/src/app# ls target/
maven-archiver/    simple-webapp.jar  
root@1957a9941746:/usr/src/app# jar -tvf target/simple-webapp.jar 
     0 Fri Feb 09 21:57:20 UTC 2018 META-INF/
   129 Fri Feb 09 21:57:18 UTC 2018 META-INF/MANIFEST.MF
     0 Fri Feb 09 21:57:20 UTC 2018 META-INF/maven/
     0 Fri Feb 09 21:57:20 UTC 2018 META-INF/maven/my.own/
     0 Fri Feb 09 21:57:20 UTC 2018 META-INF/maven/my.own/first-maven-docker/
  1010 Fri Feb 09 21:51:16 UTC 2018 META-INF/maven/my.own/first-maven-docker/pom.xml
   116 Fri Feb 09 21:57:20 UTC 2018 META-INF/maven/my.own/first-maven-docker/pom.properties

/ we herkennen uit pom.xml
	<groupId>my.own</groupId>
  <artifactId>first-maven-docker</artifactId>

/ Als je 
  <build>
    <finalName>simple-webapp</finalName>
/ dan heet de jar in target/ simple-webapp.jar

/ waar is de Dockerfile van de onbuild ...
/ google	,
dockerfile jdk onbuild
/ lees,	
https://stackoverflow.com/questions/34863114/dockerfile-onbuild-instruction

$ vi Dockerfile
from maven:3.2-jdk-7-onbuild
cmd ["java","-jar","/usr/src/app/target/first-maven-docker-0.1-SNAPSHOT.jar"]

[eric@almond maven]$ docker build -t my-maven .
Sending build context to Docker daemon 3.584 kB
Step 1 : FROM maven:3.2-jdk-7-onbuild
# Executing 2 build triggers...
Step 1 : ADD . /usr/src/app
Step 1 : RUN mvn install
 ---> Running in f79aee2e1872
[INFO] Scanning for projects...
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building first-maven-docker 0.1-SNAPSHOT
[INFO] ------------------------------------------------------------------------
...
[INFO] Installing /usr/src/app/target/first-maven-docker-0.1-SNAPSHOT.jar to /root/.m2/repository/my/own/first-maven-docker/0.1-SNAPSHOT/first-maven-docker-0.1-SNAPSHOT.jar
[INFO] Installing /usr/src/app/pom.xml to /root/.m2/repository/my/own/first-maven-docker/0.1-SNAPSHOT/first-maven-docker-0.1-SNAPSHOT.pom
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 18.087 s
[INFO] Finished at: 2018-02-10T17:03:55+00:00
[INFO] Final Memory: 12M/238M
[INFO] ------------------------------------------------------------------------
 ---> 9179fffa2960
Removing intermediate container 2b48859f0f9d
Removing intermediate container c828ebb1a110
Step 2 : CMD java -jar /usr/src/app/target/first-maven-docker-0.1-SNAPSHOT.jar
 ---> Running in 73123062d87d
 ---> 4e046df12b71
Removing intermediate container 73123062d87d
Successfully built 4e046df12b71

[eric@almond maven]$   docker run -it --rm  my-maven bash
root@11aae8e63536:/usr/src/app# ls /root/.m2
repository
root@11aae8e63536:/usr/src/app# ls /root/.m2/repository/
backport-util-concurrent  classworlds  com  commons-cli  commons-io  commons-lang  junit  my  org
root@11aae8e63536:/usr/src/app# ls  
Dockerfile  pom.xml  target
root@11aae8e63536:/usr/src/app# ls lt
ls: cannot access lt: No such file or directory
root@11aae8e63536:/usr/src/app# ls target/
first-maven-docker-0.1-SNAPSHOT.jar  maven-archiver

[eric@almond maven]$   docker run -it --rm  my-maven
no main manifest attribute, in /usr/src/app/target/first-maven-docker-0.1-SNAPSHOT.jar
/ OK	,

/ we waren in 	,
https://stackoverflow.com/questions/34863114/dockerfile-onbuild-instruction
/ click Dockerfile	,
https://github.com/carlossg/docker-maven/blob/8ab542b907e69c5269942bcc0915d8dffcc7e9fa/jdk-8/onbuild/Dockerfile

/ we komen in	,
docker-maven/jdk8/onbuild/Dockerfile

FROM maven:3-jdk-8
RUN mkdir -p /usr/src/app
WORKDIR /usr/src/app
ONBUILD ADD . /usr/src/app
ONBUILD RUN mvn install

/ 13	. 

/ ga naar	,
https://github.com/carlossg/docker-maven
/ daar zien we ze allemaal	, let op verschillende branches 

/ 13	. 

sudo usermod -a -G docker $USER



/ Einde Intermezzo

/ 13	. 

[eric@almond simple-java-maven-app]$ docker pull maven:3-fedora
Pulling repository docker.io/library/maven
Tag 3-fedora not found in repository docker.io/library/maven



/ 7	. 

/ Misschien is het het beste om eerst op github.com een New Repository te maken	, en dat check README	, en deze te clone	, dat heb je meteen de origin	,

/ click + rechtsboven	, New repository
Repository name: second
Initialize this repository with a README 
/ check	,
Save
/ we komen op	,
https://github.com/ericjvandervelden/third
/ en deze kunnen we clone	, en verder mee werken 	,




/ 7	. 

/ KLAD

[eric@almond my-first-repo]$ git remote -v	 
/ zinvol na clone	, of ...
[eric@almond my-first-repo]$ git push
[eric@almond my-first-repo]$ git remote show origin
[eric@almond my-first-repo]$ git diff master origin/master
[eric@almond my-first-repo]$ git remote set-url origin git@github.com:ericjvandervelden/my-first-repo.git
Permission denied (publickey).
/ TODO
[eric@almond my-first-repo]$ git remote set-url origin https://github.com/ericjvandervelden/my-first-repo.git
[eric@almond my-first-repo]$ git push -u origin me



